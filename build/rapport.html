<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>rapport</title>
    <link rel="stylesheet" href="style.css">
    <script>
        function scrollToAnchor(aid){
            var aTag = document.querySelector("a[name='"+ aid +"']");
            window.scroll({ top: aTag.offsetTop, left: 0, behavior: 'smooth' });
        }
    </script>
  </head>
  <body>
    <div class="container">
      <center>
      <h1 id="dossier-de-projet">DOSSIER DE PROJET</h1>
      <p><strong>M. Thibault HULAUX</strong></p>
      <p><strong>Mlle Lylou PONSING</strong></p>
      <hr />
      <h1 id="concepteur-et-développeur-dapplication">Concepteur et Développeur d’Application</h1>
      <p><strong>Niveau II</strong></p>
      <p>Période d’exercice du 19/04/2022 du 20/01/2023</p>
      </center>
      <div style="page-break-after: always;">

      </div>
      <h2 id="table-des-matières">1. Table des matières<!-- OK --></h2>
      <!-- cSpell:disable -->
      <ul>
      <li><a href="#1-table-des-matières">1. Table des matières</a></li>
      <li><a href="#2-liste-des-compétences-couvertes">2. Liste des compétences couvertes</a></li>
      <li><a href="#3-résumé-du-projet-en-anglais">3. Résumé du projet en anglais</a></li>
      <li><a href="#4-cahier-des-charges">4. Cahier des charges</a>
      <ul>
      <li><a href="#41-contexte-de-lentreprise">4.1. Contexte de l’entreprise</a></li>
      <li><a href="#42-définition-du-besoin">4.2. Définition du besoin</a>
      <ul>
      <li><a href="#421-la-méthode-qqoqcp">4.2.1. La méthode QQOQCP</a></li>
      <li><a href="#422-les-personas">4.2.2. Les Personas</a>
      <ul>
      <li><a href="#4221-marie-dubois---responsable-dans-une-association">4.2.2.1. Marie Dubois - Responsable dans une association</a></li>
      <li><a href="#4222-mathieu-dupont---gérant">4.2.2.2. Mathieu Dupont - Gérant</a></li>
      </ul></li>
      </ul></li>
      <li><a href="#43-objectif-du-projet">4.3. Objectif du projet</a></li>
      <li><a href="#44-description-de-toutes-les-fonctionnalités-attendues">4.4. Description de toutes les fonctionnalités attendues</a>
      <ul>
      <li><a href="#441-inscription">4.4.1. Inscription</a>
      <ul>
      <li><a href="#4411-fonctionnalité--inscription">4.4.1.1. Fonctionnalité : Inscription</a></li>
      </ul></li>
      <li><a href="#442-authentification">4.4.2. Authentification</a>
      <ul>
      <li><a href="#4421-fonctionnalité--authentification">4.4.2.1. Fonctionnalité : Authentification</a></li>
      </ul></li>
      <li><a href="#443-catégorie">4.4.3. Catégorie</a>
      <ul>
      <li><a href="#4431-fonctionnalité-ajouter-une-catégorie">4.4.3.1. Fonctionnalité: Ajouter une catégorie</a></li>
      <li><a href="#4432-fonctionnalité-supprimer-une-catégorie">4.4.3.2. Fonctionnalité: Supprimer une catégorie</a></li>
      <li><a href="#4433-fonctionnalité-modifier-une-catégorie">4.4.3.3. Fonctionnalité: Modifier une catégorie</a></li>
      <li><a href="#4434-fonctionnalité-accéder-aux-informations-dune-catégorie">4.4.3.4. Fonctionnalité: Accéder aux informations d’une catégorie</a></li>
      </ul></li>
      <li><a href="#444-produit">4.4.4. Produit</a>
      <ul>
      <li><a href="#4441-fonctionnalité-ajouter-un-produit">4.4.4.1. Fonctionnalité: Ajouter un produit</a></li>
      <li><a href="#4442-fonctionnalité-modifier-un-produit">4.4.4.2. Fonctionnalité: Modifier un produit</a></li>
      <li><a href="#4443-fonctionnalité-supprimer-un-produit">4.4.4.3. Fonctionnalité: Supprimer un produit</a></li>
      <li><a href="#4444-fonctionnalité-accéder-aux-informations-dun-produit">4.4.4.4. Fonctionnalité: Accéder aux informations d’un produit</a></li>
      </ul></li>
      </ul></li>
      <li><a href="#45-délais">4.5. Délais</a></li>
      </ul></li>
      <li><a href="#5-gestion-de-projet">5. Gestion de projet</a>
      <ul>
      <li><a href="#51-planning-et-suivi">5.1. Planning et suivi</a></li>
      <li><a href="#52-environnement-humain-et-technique">5.2. Environnement humain et technique</a>
      <ul>
      <li><a href="#521-environnement-humain">5.2.1. Environnement humain</a></li>
      <li><a href="#522-environnement-technique">5.2.2. Environnement technique</a></li>
      </ul></li>
      <li><a href="#53-objectif-qualité">5.3. Objectif qualité</a></li>
      </ul></li>
      <li><a href="#6-spécifications-fonctionnelles-du-projet">6. Spécifications fonctionnelles du projet</a>
      <ul>
      <li><a href="#61-front-office">6.1. Front office</a>
      <ul>
      <li><a href="#611-landing-page">6.1.1. Landing page</a></li>
      <li><a href="#612-inscription-et-connexion">6.1.2. Inscription et connexion</a></li>
      <li><a href="#613-catégories">6.1.3. Catégories</a>
      <ul>
      <li><a href="#6131-menu-catégorie">6.1.3.1. Menu catégorie</a></li>
      <li><a href="#6132-ajout-dune-catégorie">6.1.3.2. Ajout d’une catégorie</a></li>
      <li><a href="#6133-information-et-modification-dune-catégorie">6.1.3.3. Information et modification d’une catégorie</a></li>
      <li><a href="#6134-suppression-dune-catégorie">6.1.3.4. Suppression d’une catégorie</a></li>
      </ul></li>
      <li><a href="#614-produits">6.1.4. Produits</a>
      <ul>
      <li><a href="#6141-information-produit">6.1.4.1. Information produit</a></li>
      <li><a href="#6142-ajout-dun-produit">6.1.4.2. Ajout d’un produit</a></li>
      <li><a href="#6143-modifier-un-produit">6.1.4.3. Modifier un produit</a></li>
      <li><a href="#6144-supprimer-un-produit">6.1.4.4. Supprimer un produit</a></li>
      </ul></li>
      <li><a href="#615-menu-user">6.1.5. Menu user</a></li>
      </ul></li>
      <li><a href="#62-back-office">6.2. Back office</a></li>
      <li><a href="#63-arborescence">6.3. Arborescence</a></li>
      <li><a href="#64-aperçu-des-contenus">6.4. Aperçu des contenus</a>
      <ul>
      <li><a href="#641-charte-graphique">6.4.1. Charte graphique</a></li>
      <li><a href="#642-maquette">6.4.2. Maquette</a></li>
      </ul></li>
      </ul></li>
      <li><a href="#7-spécifications-techniques-du-projet">7. Spécifications techniques du projet</a>
      <ul>
      <li><a href="#71-langages">7.1. Langages</a>
      <ul>
      <li><a href="#711-front-end">7.1.1. Front-end</a>
      <ul>
      <li><a href="#7111-html">7.1.1.1. HTML</a></li>
      <li><a href="#7112-css--sass">7.1.1.2. CSS / SASS</a></li>
      <li><a href="#7113-javascript">7.1.1.3. JavaScript</a></li>
      </ul></li>
      <li><a href="#712-back-end">7.1.2. Back-end</a>
      <ul>
      <li><a href="#7121-java">7.1.2.1. Java</a></li>
      <li><a href="#7122-jsp">7.1.2.2. JSP</a></li>
      <li><a href="#7123-jstl">7.1.2.3. JSTL</a></li>
      <li><a href="#7124-sql">7.1.2.4. SQL</a></li>
      </ul></li>
      <li><a href="#713-autres">7.1.3. Autres</a>
      <ul>
      <li><a href="#7131-dockerfile">7.1.3.1. Dockerfile</a></li>
      <li><a href="#7132-python">7.1.3.2. Python</a></li>
      <li><a href="#7133-shell">7.1.3.3. Shell</a></li>
      <li><a href="#7134-xml">7.1.3.4. XML</a></li>
      <li><a href="#7135-yaml">7.1.3.5. YAML</a></li>
      </ul></li>
      </ul></li>
      <li><a href="#72-frameworks">7.2. Frameworks</a>
      <ul>
      <li><a href="#721-jaas">7.2.1. JAAS</a></li>
      <li><a href="#722-revealjs">7.2.2. reveal.js</a></li>
      </ul></li>
      <li><a href="#73-versioning-gitlabgithub">7.3. Versioning (gitlab/github)</a>
      <ul>
      <li><a href="#731-gitlab">7.3.1. GitLab</a></li>
      </ul></li>
      <li><a href="#74-sgbd-utilisé-mysqlpostgresql">7.4. SGBD utilisé (MYSQL/PostgreSQL)</a>
      <ul>
      <li><a href="#741-mariadb">7.4.1. MariaDB</a></li>
      </ul></li>
      <li><a href="#75-outils-de-maquettage">7.5. Outils de maquettage</a>
      <ul>
      <li><a href="#751-figma">7.5.1. Figma</a></li>
      <li><a href="#752-plantuml">7.5.2. PlantUML</a></li>
      </ul></li>
      <li><a href="#76-plateforme-de-développement">7.6. Plateforme de développement</a>
      <ul>
      <li><a href="#761-automatisation-de-build">7.6.1. Automatisation de build</a></li>
      <li><a href="#762-containérisation-et-services">7.6.2. Containérisation et services</a>
      <ul>
      <li><a href="#7621-docker">7.6.2.1. Docker</a></li>
      <li><a href="#7622-docker-compose">7.6.2.2. Docker Compose</a></li>
      <li><a href="#7623-docker-swarm">7.6.2.3. Docker Swarm</a></li>
      </ul></li>
      <li><a href="#763-virtualisation">7.6.3. Virtualisation</a>
      <ul>
      <li><a href="#7631-oracle-vm-virtualbox">7.6.3.1. Oracle VM Virtualbox</a></li>
      <li><a href="#7632-vmware-esxi">7.6.3.2. VMware ESXi</a></li>
      </ul></li>
      </ul></li>
      <li><a href="#77-outils-de-conception-de-la-documentation">7.7. Outils de conception de la documentation</a>
      <ul>
      <li><a href="#771-markdown">7.7.1. Markdown</a></li>
      <li><a href="#772-javadoc">7.7.2. Javadoc</a></li>
      <li><a href="#773-plantuml">7.7.3. PlantUML</a></li>
      </ul></li>
      </ul></li>
      <li><a href="#8-réalisations">8. Réalisations</a>
      <ul>
      <li><a href="#81-description-des-features-réalisées">8.1. Description des features réalisées</a>
      <ul>
      <li><a href="#811-authentification-et-inscription">8.1.1. Authentification et inscription</a></li>
      <li><a href="#812-gestion-des-catégories">8.1.2. Gestion des catégories</a></li>
      <li><a href="#813-gestion-des-produits">8.1.3. Gestion des produits</a></li>
      </ul></li>
      <li><a href="#82-description-des-fonctions-implémentées">8.2. Description des fonctions implémentées</a>
      <ul>
      <li><a href="#821-supprimer-une-catégorie">8.2.1. Supprimer une catégorie</a></li>
      <li><a href="#822-modifier-un-produit">8.2.2. Modifier un produit</a></li>
      <li><a href="#823-authentification">8.2.3. Authentification</a></li>
      </ul></li>
      <li><a href="#83-description-des-actions-réalisées-sur-la-bdd">8.3. Description des actions réalisées sur la BDD</a>
      <ul>
      <li><a href="#831-create">8.3.1. Create</a></li>
      <li><a href="#832-read">8.3.2. Read</a></li>
      <li><a href="#833-update">8.3.3. Update</a></li>
      <li><a href="#834-delete">8.3.4. Delete</a></li>
      </ul></li>
      <li><a href="#84-description-des-tests-unitaireseteendtoend">8.4. Description des tests unitaires/EtE(EndtoEnd)</a>
      <ul>
      <li><a href="#841-test-unitaires">8.4.1. Test Unitaires</a></li>
      <li><a href="#842-static-application-security-testing">8.4.2. Static Application Security Testing</a></li>
      <li><a href="#843-tests-fonctionnels">8.4.3. Tests fonctionnels</a></li>
      </ul></li>
      </ul></li>
      <li><a href="#9-veille-sur-les-vulnérabilités-de-sécurité">9. Veille sur les vulnérabilités de sécurité</a>
      <ul>
      <li><a href="#91-http-ssl">9.1. HTTP (SSL)</a></li>
      <li><a href="#92-sql-injection">9.2. SQL Injection</a></li>
      <li><a href="#93-couches-applicatives-embarquées-nginx-tomcat-mariadb">9.3. Couches applicatives embarquées (Nginx, Tomcat, MariaDB)</a></li>
      </ul></li>
      <li><a href="#10-description-dune-situation-de-travail-ayant-nécessité-une-recherche">10. Description d’une situation de travail ayant nécessité une recherche</a> <!-- cSpell:enable --></li>
      </ul>
      <div style="page-break-after: always;">

      </div>
      <h2 id="liste-des-compétences-couvertes">2. Liste des compétences couvertes<!-- OK --></h2>
      <p>La liste des compétences couvertes, conformément au référentiel de certification, est la suivante:</p>
      <table>
      <colgroup>
      <col style="width: 2%" />
      <col style="width: 97%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th></th>
      <th>Description</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td>1</td>
      <td>Maquetter une application</td>
      </tr>
      <tr class="even">
      <td>2</td>
      <td>Développer une interface utilisateur de type desktop</td>
      </tr>
      <tr class="odd">
      <td>3</td>
      <td>Développer des composants d’accès aux données</td>
      </tr>
      <tr class="even">
      <td>4</td>
      <td>Développer la partie front-end d’une interface utilisateur web</td>
      </tr>
      <tr class="odd">
      <td>5</td>
      <td>Développer la partie back-end d’une interface utilisateur web</td>
      </tr>
      <tr class="even">
      <td>6</td>
      <td>Concevoir une base de données</td>
      </tr>
      <tr class="odd">
      <td>7</td>
      <td>Mettre en place une base de données</td>
      </tr>
      <tr class="even">
      <td>8</td>
      <td>Développer des composants dans le langage d’une base de données</td>
      </tr>
      <tr class="odd">
      <td>9</td>
      <td>Collaborer à la gestion d’un projet informatique et à l’organisation de l’environnement de développement</td>
      </tr>
      <tr class="even">
      <td>10</td>
      <td>Concevoir une application</td>
      </tr>
      <tr class="odd">
      <td>11</td>
      <td>Développer des composants métier</td>
      </tr>
      <tr class="even">
      <td>12</td>
      <td>Construire une application organisée en couches</td>
      </tr>
      <tr class="odd">
      <td>13</td>
      <td>Développer une application mobile</td>
      </tr>
      <tr class="even">
      <td>14</td>
      <td>Préparer et exécuter les plans de tests d’une application</td>
      </tr>
      <tr class="odd">
      <td>15</td>
      <td>Préparer et exécuter le déploiement d’une application</td>
      </tr>
      </tbody>
      </table>
      <div style="page-break-after: always;">

      </div>
      <h2 id="résumé-du-projet-en-anglais">3. Résumé du projet en anglais</h2>
      <div class="sourceCode" id="cb1"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="ss">  - </span>20 lignes (200-250 mots, 1200 caractères</span>
      <span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="ss">  - </span>Qui / Quoi / Où / Quand / Comment / Combien / Pourquoi)</span></code></pre></div>
      <p>Today we’re going to analyse together an explicit breakdown of a basic modern web application.</p>
      <p>For the sake of this demonstration, we’re going to assume the following:</p>
      <ul>
      <li>The client is a service company which facilitates storage management and is willing to provide his customers with a related online service.</li>
      <li>The deliverable address a specific need of simple storage management solutions for associations and small business.</li>
      <li>The resulting application is deployed online (either in the cloud or on premise), so end users can access it from anywhere.</li>
      <li>The deliverable due date is 2022 November 4th.</li>
      <li>This application is built on modern standards, and relies on multiple containerized services, that can be deployed nearly anywhere. After registering / signing-in, users can administrate with ease private collections of categories of products.</li>
      <li>The end goal is to provide users with a simple to handle storage management solution.</li>
      </ul>
      <div style="page-break-after: always;">

      </div>
      <h2 id="cahier-des-charges">4. Cahier des charges<!-- OK --></h2>
      <ul>
      <li>Contexte de l’entreprise</li>
      <li>Définition du besoin</li>
      <li>Objectif du projet</li>
      <li>Description de toutes les fonctionnalités attendues</li>
      <li>Délais</li>
      </ul>
      <h3 id="contexte-de-lentreprise">4.1. Contexte de l’entreprise<!-- OK --></h3>
      <p>Nous avons supposé pour ce projet que l’entreprise qui nous fournissait la demande de projet est une <strong>entreprise de service qui est spécialisée dans la gestion de stockage</strong> et qu’elle souhaite offrir à ses clients un service en ligne lié.</p>
      <p>Nous avons supposé que ses clients pouvaient être des <strong>associations</strong>, ou des <strong>petites entreprises</strong> (cf. <a href="#422-les-personas">personas</a>).</p>
      <h3 id="définition-du-besoin">4.2. Définition du besoin<!-- OK --></h3>
      <p>L’entreprise de service est <strong>spécialisée dans la gestion de stockage</strong> et souhaite offrir à ses clients un service en ligne correspondant.</p>
      <p>L’objectif de cette entreprise est de développer une <strong>application web simple et facile à utiliser</strong>, destinée aux associations et aux petites entreprises qui ont besoin de solutions de gestion de stockage.</p>
      <h4 id="la-méthode-qqoqcp">4.2.1. La méthode QQOQCP<!-- OK --></h4>
      <p>La méthode <strong>QQOQCP</strong> est un acronyme qui permet de mémoriser rapidement des questions « Quoi ? Qui ? Où ? Quand ? Comment ? Pourquoi ? ».</p>
      <p>Cette méthode est un outil qui permet de <strong>faciliter la résolution de problèmes</strong>. En répondant à ces questions, cela permet de cerner les enjeux et de prendre du recul sur la situation de manière à mieux raisonner et à adapter ses actions.</p>
      <table>
      <colgroup>
      <col style="width: 5%" />
      <col style="width: 94%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th></th>
      <th>Description</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td><strong>Qui</strong></td>
      <td>Le client est une société de services qui facilite la gestion du stockage et est disposé à fournir à ses clients un service en ligne.</td>
      </tr>
      <tr class="even">
      <td><strong>Quoi</strong></td>
      <td>Le livrable répond à un besoin spécifique de gestion simple du stockage pour les associations et les petites entreprises.</td>
      </tr>
      <tr class="odd">
      <td><strong>Où</strong></td>
      <td>L’application résultante est déployée en ligne (dans le cloud ou sur site), de sorte que les utilisateurs finaux puissent y accéder de n’importe où.</td>
      </tr>
      <tr class="even">
      <td><strong>Quand</strong></td>
      <td>La date d’échéance du livrable est le 4 novembre 2022.</td>
      </tr>
      <tr class="odd">
      <td><strong>Comment</strong></td>
      <td>Cette application repose sur plusieurs services conteneurisés. Après l’enregistrement / la connexion, les utilisateurs peuvent administrer des collections privées de catégories de produits.</td>
      </tr>
      <tr class="even">
      <td><strong>Pourquoi</strong></td>
      <td>L’objectif final est de fournir aux utilisateurs une solution de gestion du stockage simple à prendre en main.</td>
      </tr>
      </tbody>
      </table>
      <h4 id="les-personas">4.2.2. Les Personas<!-- OK --></h4>
      <p>Les <strong>personas</strong> sont des outils d’aide à la conception et à la réalisation d’un produit ou d’un service. Ils permettent, notamment pour l’équipe de conception, de rester centrée sur les utilisateurs finaux, leurs aptitudes et leurs buts.</p>
      <p>Savoir <strong>ce que l’utilisateur final peut et veut faire</strong> est un précurseur indispensable à la bonne réalisation d’un projet.</p>
      <p>Si les comportements et les buts de <strong>plusieurs personas diffèrent trop</strong> lorsqu’il s’agit de l’utilisation d’un même produit, il convient de confectionner <strong>plusieurs produits distincts</strong> répondant au plus près aux différents utilisateurs finaux.</p>
      <p>Alors qu’un <strong>Buyer Persona</strong> est la représentation fictionnelle de votre <strong>client idéal</strong>, un Negative Persona, aussi appelé “Exclusionary Persona”, est une représentation de ceux que vous ne souhaitez pas en tant que client.</p>
      <p>Ici notre <strong>Negative Persona</strong> aurait pu être <strong>tout organisme de grande taille</strong>, comme une moyenne ou une grande entreprise par exemple, pour qui ce site de gestion de stock ne contiendrait pas assez de fonctionnalités ou de sous item.</p>
      <p>Pour ce projet, nous avons imaginé <strong>deux profils d’utilisateur</strong>, qui seraient intéressés par le site de gestion de stock :</p>
      <h5 id="marie-dubois---responsable-dans-une-association">4.2.2.1. Marie Dubois - Responsable dans une association<!-- OK --></h5>
      <table>
      <colgroup>
      <col style="width: 14%" />
      <col style="width: 85%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th></th>
      <th>Informations</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td>Fonction</td>
      <td>Responsable de l’inventaire et du stockage dans une petite association</td>
      </tr>
      <tr class="even">
      <td>Age</td>
      <td>45</td>
      </tr>
      <tr class="odd">
      <td>Éducation</td>
      <td>Bac + 2</td>
      </tr>
      <tr class="even">
      <td>Localisation</td>
      <td>Strasbourg</td>
      </tr>
      <tr class="odd">
      <td>Revenus</td>
      <td>2000</td>
      </tr>
      <tr class="even">
      <td>Citation</td>
      <td>“La simplicité est l’ultime sophistication.” - Leonardo da Vinci</td>
      </tr>
      <tr class="odd">
      <td>Besoins</td>
      <td>Marie a besoin d’un outil de gestion de stockage, simple à utiliser, qui lui permette de gérer efficacement les inventaires de l’association et de suivre les mouvements de stock. Elle souhaite pouvoir accéder à cet outil de n’importe où et y accéder rapidement afin de pouvoir gérer l’inventaire de manière efficace.</td>
      </tr>
      <tr class="even">
      <td>Contraintes</td>
      <td>Marie a besoin d’un outil de gestion de stockage facile à utiliser pour gérer l’inventaire de l’association de manière efficace. Elle doit également pouvoir y accéder de n’importe ou et de manière rapide, afin de pouvoir gérer efficacement son temps.</td>
      </tr>
      </tbody>
      </table>
      <h5 id="mathieu-dupont---gérant">4.2.2.2. Mathieu Dupont - Gérant<!-- OK --></h5>
      <table>
      <colgroup>
      <col style="width: 14%" />
      <col style="width: 85%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th></th>
      <th>Informations</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td>Fonction</td>
      <td>Gérant d’une petite entreprise de vente en ligne</td>
      </tr>
      <tr class="even">
      <td>Age</td>
      <td>35</td>
      </tr>
      <tr class="odd">
      <td>Éducation</td>
      <td>Bac + 5</td>
      </tr>
      <tr class="even">
      <td>Localisation</td>
      <td>Colmar</td>
      </tr>
      <tr class="odd">
      <td>Revenus</td>
      <td>2500</td>
      </tr>
      <tr class="even">
      <td>Citation</td>
      <td>“Le succès est la somme de petits efforts, répétés jour après jour.” - Robert Collier</td>
      </tr>
      <tr class="odd">
      <td>Besoins</td>
      <td>Mathieu a besoin d’un outil de gestion de stockage, qui lui permette de suivre les stocks de ses produits et de s’assurer qu’il a suffisamment de stock pour répondre à la demande de ses clients. Il souhaite pouvoir accéder à cet outil de n’importe où et y accéder rapidement afin de pouvoir gérer efficacement son entreprise.</td>
      </tr>
      <tr class="even">
      <td>Contraintes</td>
      <td>Mathieu a besoin d’un outil de gestion de stockage facile à utiliser qui lui permette de suivre les stocks de ses produits de manière efficace. Il doit également être en mesure de gérer son entreprise de n’importe où et de manière rapide afin de ne pas perdre de temps.</td>
      </tr>
      </tbody>
      </table>
      <h3 id="objectif-du-projet">4.3. Objectif du projet<!-- OK --></h3>
      <p>Les <strong>objectifs</strong> de l’entreprise de service qui développe cette application de gestion de stockage pourraient être les suivants :</p>
      <ul>
      <li>Offrir une <strong>solution de gestion de stockage simple et efficace</strong> aux associations et aux petites entreprises qui en ont besoin.</li>
      <li>Accroître la <strong>satisfaction et la fidélisation des clients</strong> en leur proposant un outil en ligne qui répond parfaitement à leurs besoins.</li>
      <li>Générer des <strong>revenus supplémentaires</strong> en proposant l’application en ligne en tant que service payant.</li>
      <li><strong>Augmenter la visibilité de l’entreprise en</strong> proposant un produit innovant et de qualité sur le marché.</li>
      </ul>
      <p>Les <strong>gains</strong> attendus pour l’entreprise de service pourraient être les suivants :</p>
      <ul>
      <li><strong>Augmentation de la base de clients</strong> grâce à la proposition d’un outil de gestion de stockage de qualité.</li>
      <li><strong>Amélioration de la réputation de l’entreprise</strong> en proposant un produit innovant et de qualité.</li>
      <li>Génération de <strong>revenus supplémentaires</strong> grâce à la vente de l’application en ligne en tant que service payant.</li>
      <li><strong>Augmentation de la productivité</strong> des clients grâce à l’utilisation de l’application de gestion de stockage.</li>
      </ul>
      <h3 id="description-de-toutes-les-fonctionnalités-attendues">4.4. Description de toutes les fonctionnalités attendues<!-- OK --></h3>
      <!-- TODO: PlantUml integration:  $feature description > $feature.puml -->
      <h4 id="inscription">4.4.1. Inscription<!-- OK --></h4>
      <h5 id="fonctionnalité-inscription">4.4.1.1. Fonctionnalité : Inscription<!-- OK --></h5>
      <p><em>“En tant que futur utilisateur je veux pouvoir m’inscrire, afin de me créer un compte et de pouvoir accéder aux fonctionnalités du site.”</em></p>
      <p><strong>Scénario 1 :</strong> Tentative d’accès à la page d’inscription</p>
      <ul>
      <li>Étant donné que je n’ai pas de compte utilisateur</li>
      <li>Et que je souhaite m’inscrire</li>
      <li>Et que je clique sur le bouton s’inscrire</li>
      <li>Alors j’accède à la page d’inscription</li>
      <li>Et je suis redirigé sur la page d’inscription</li>
      </ul>
      <p><strong>Scénario 2 :</strong> Tentative d’inscription depuis la page d’inscription en rentrant tous les champs demandés</p>
      <ul>
      <li>Étant donné que j’accède à la page d’inscription</li>
      <li>Et que je souhaite m’inscrire</li>
      <li>Et que j’indique les champs demandés</li>
      <li>Et que j’appuie sur le bouton “s’inscrire”</li>
      <li>Alors je suis inscrit</li>
      <li>Et je suis redirigé sur la page d’ajout d’une catégorie de mon compte</li>
      </ul>
      <p><strong>Scénario 3 :</strong> Tentative d’inscription depuis la page d’inscription en rentrant tous les champs obligatoires</p>
      <ul>
      <li>Étant donné que j’accède à la page d’inscription</li>
      <li>Et que je souhaite m’inscrire</li>
      <li>Et que j’indique les champs demandés</li>
      <li>Et que j’appuie sur le bouton “s’inscrire”</li>
      <li>Alors je suis inscrit</li>
      <li>Et je suis redirigé sur la page d’ajout d’une catégorie de mon compte</li>
      </ul>
      <p><strong>Scénario 4 :</strong> Tentative d’inscription en omettant un champ obligatoire</p>
      <ul>
      <li>Étant donné que j’accède à la page d’inscription</li>
      <li>Et que je souhaite m’inscrire</li>
      <li>Et que j’omet un champ obligatoire</li>
      <li>Et que j’appuie sur le bouton “s’inscrire”</li>
      <li>Alors une erreur s’inscrit en dessous du champ obligatoire</li>
      <li>Et je reste sur la page d’inscription</li>
      </ul>
      <p><strong>Scénario 5 :</strong> Tentative d’inscription en omettant un email déjà valide</p>
      <ul>
      <li>Étant donné que j’accède à la page d’inscription</li>
      <li>Et que je souhaite m’inscrire</li>
      <li>Et que j’indique un email déjà valide</li>
      <li>Et que j’appuie sur le bouton “s’inscrire”</li>
      <li>Alors une erreur s’inscrit en dessous du champ email</li>
      <li>Et je reste sur la page d’inscription</li>
      </ul>
      <p><strong>Scénario 6 :</strong> Tentative d’inscription en ne respectant pas les consignes de création du mot de passe</p>
      <ul>
      <li>Étant donné que j’accède à la page d’inscription</li>
      <li>Et que je souhaite m’inscrire</li>
      <li>Et que j’indique les champs obligatoires/demandés</li>
      <li>Et que je ne respecte pas les consignes de création du mot de passe</li>
      <li>Et que j’appuie sur le bouton “s’inscrire”</li>
      <li>Alors une erreur s’inscrit en dessous du mot de passe</li>
      <li>Et je reste sur la page d’inscription</li>
      </ul>
      <h4 id="authentification">4.4.2. Authentification<!-- OK --></h4>
      <h5 id="fonctionnalité-authentification">4.4.2.1. Fonctionnalité : Authentification<!-- OK --></h5>
      <p><em>“En tant qu’utilisateur je veux pouvoir m’authentifier, afin d’accéder à mon compte.”</em></p>
      <p><strong>Scénario 1 :</strong> Tentative d’authentification d’un compte valide</p>
      <ul>
      <li>Étant donné que je dispose d’un compte utilisateur attaché a mon adresse email</li>
      <li>Quand j’accède à la page d’accueil du site</li>
      <li>Et je saisis mon email dans le champ email</li>
      <li>Et que je saisis mon mot de passe dans le champ mot de passe</li>
      <li>Et que je clique sur le bouton “connexion” du formulaire</li>
      <li>Alors je suis authentifié sur le site</li>
      <li>Et je suis redirigé vers la page d’accueil</li>
      </ul>
      <p><strong>Scénario 2 :</strong> Tentative d’authentification sans compte utilisateur</p>
      <ul>
      <li>Étant donné que je ne dispose pas d’un compte utilisateur</li>
      <li>Et que je saisi une adresse mail non valide dans le champ email</li>
      <li>Et que je saisi un mot de passe non valide dans le champ mot de passe</li>
      <li>Et que je clique sur le bouton “connexion” du formulaire</li>
      <li>Alors le site m’affiche un message d’erreur me disant que mon email ou mon mot de passe ne correspondent pas à un compte utilisateur</li>
      <li>Et je reste sur la page d’accueil du site</li>
      </ul>
      <p><strong>Scénario 3 :</strong> Tentative d’authentification avec un compte valide mais une erreur dans le champ email</p>
      <ul>
      <li>Étant donné que je dispose d’un compte utilisateur</li>
      <li>Et que je saisi une adresse mail non valide dans le champ email</li>
      <li>Et que je saisi un mot de passe valide dans le champ mot de passe</li>
      <li>Et que je clique sur le bouton “connexion” du formulaire</li>
      <li>Alors le site m’affiche un message d’erreur me disant que mon email ou mon mot de passe ne correspondent pas à un compte utilisateur</li>
      <li>Et je reste sur la page d’accueil du site</li>
      </ul>
      <p><strong>Scénario 4 :</strong> Tentative d’authentification avec un compte valide mais une erreur dans le champ mot de passe</p>
      <ul>
      <li>Étant donné que je dispose d’un compte utilisateur</li>
      <li>Et que je saisi mon email valide dans le champs email</li>
      <li>Et que je saisi un mot de passe non valide dans le champ mot de passe</li>
      <li>Et que je clique sur le bouton “connexion” du formulaire</li>
      <li>Alors le site m’affiche un message d’erreur me disant que mon mon mot de passe est erroné</li>
      </ul>
      <h4 id="catégorie">4.4.3. Catégorie<!-- OK --></h4>
      <h5 id="fonctionnalité-ajouter-une-catégorie">4.4.3.1. Fonctionnalité: Ajouter une catégorie<!-- OK --></h5>
      <p><em>“En tant qu’utilisateur, je veux ajouter une catégorie afin de pouvoir la gérer (modifier, supprimer, info).”</em></p>
      <p><strong>Scénario 1 :</strong> Ajouter une catégorie</p>
      <ul>
      <li>Étant donné que j’accède à la page d’accueil de mon compte</li>
      <li>Et que j’appuie sur le bouton ajouter une catégorie</li>
      <li>Alors j’ajoute une catégorie</li>
      <li>Et je suis redirigé sur la page info de la catégorie</li>
      </ul>
      <h5 id="fonctionnalité-supprimer-une-catégorie">4.4.3.2. Fonctionnalité: Supprimer une catégorie<!-- OK --></h5>
      <p><em>“En tant qu’utilisateur, je veux supprimer une catégorie car je n’en ai plus besoin.”</em></p>
      <p><strong>Scénario 1 :</strong> Supprimer une catégorie</p>
      <ul>
      <li>Étant donné que j’accède à la page info d’une catégorie</li>
      <li>Et qu’elle ne contient pas de produit</li>
      <li>Et que j’appuie sur le bouton supprimer la catégorie</li>
      <li>Alors je supprime la catégorie</li>
      <li>Et je suis redirigé sur la page d’accueil de mon compte</li>
      </ul>
      <h5 id="fonctionnalité-modifier-une-catégorie">4.4.3.3. Fonctionnalité: Modifier une catégorie<!-- OK --></h5>
      <p><em>“En tant qu’utilisateur, je veux pouvoir modifier une catégorie afin de la faire évoluer en fonction des mes besoins.”</em></p>
      <p><strong>Scénario 1 :</strong> Modifier le nom de ma catégorie</p>
      <ul>
      <li>Étant donné que j’accède à la page d’information d’une catégorie</li>
      <li>Et que je clique sur le nom de la catégorie</li>
      <li>Et que je change celui-ci</li>
      <li>Et que je clique sur le bouton valider les modifications</li>
      <li>Alors j’ai modifié le nom de ma catégorie</li>
      <li>Et je suis redirigé vers la page d’information de cette catégorie (qui a été mise à jour)</li>
      </ul>
      <p><strong>Scénario 2 :</strong> Modifier la description de ma catégorie</p>
      <ul>
      <li>Étant donné que j’accède à la page d’information d’une catégorie</li>
      <li>Et que je clique sur la description de la catégorie</li>
      <li>Et que je change celle-ci</li>
      <li>Et que je clique sur le bouton valider les modifications</li>
      <li>Alors j’ai modifié le nom de ma catégorie</li>
      <li>Et je suis redirigé vers la page d’information de cette catégorie (qui a été mise à jour)</li>
      </ul>
      <h5 id="fonctionnalité-accéder-aux-informations-dune-catégorie">4.4.3.4. Fonctionnalité: Accéder aux informations d’une catégorie<!-- OK --></h5>
      <p><em>“En tant qu’utilisateur, je veux pouvoir accéder aux informations de mes catégories afin d’y voir les différents types de produit.”</em></p>
      <p><strong>Scénario 1 :</strong> Accéder aux informations d’une catégorie depuis le menu</p>
      <ul>
      <li>Étant donné que j’accède à n’importe quel page de mon compte (accueil, info catégorie, info produit)</li>
      <li>Et que je clique sur la catégorie qui m’intéresse (afficher dans le menu)</li>
      <li>Alors j’accède à la page info de cette catégorie</li>
      <li>Et je suis redirigé2 vers la page info de celle-ci</li>
      </ul>
      <h4 id="produit">4.4.4. Produit<!-- OK --></h4>
      <h5 id="fonctionnalité-ajouter-un-produit">4.4.4.1. Fonctionnalité: Ajouter un produit<!-- OK --></h5>
      <p><em>“En tant qu’utilisateur, je veux ajouter un produit afin de pouvoir la gérer (modifier, supprimer,info).”</em></p>
      <p><strong>Scénario 1:</strong> Ajouter un produit depuis une page info catégorie</p>
      <ul>
      <li>Étant donné que j’accède à la page info d’une catégorie</li>
      <li>Et que je clique sur le bouton ajouter un produit</li>
      <li>Alors j’ajoute un produit</li>
      <li>Et je suis redirigé vers la page info du produit</li>
      </ul>
      <h5 id="fonctionnalité-modifier-un-produit">4.4.4.2. Fonctionnalité: Modifier un produit<!-- OK --></h5>
      <p><em>“En tant qu’utilisateur, je veux pouvoir modifier un produit afin de la faire évoluer en fonction des mes besoins.”</em></p>
      <p><strong>Scénario 1:</strong> Modifier un produit depuis une page info produit</p>
      <ul>
      <li>Étant donné que j’accède à la page info du produit</li>
      <li>Et que je clique sur l’information que je veux modifier</li>
      <li>Et que je clique sur le bouton valider les modifications</li>
      <li>Alors j’ai modifié le produit</li>
      <li>Et je reste sur la page info du produit (mis à jour)</li>
      </ul>
      <h5 id="fonctionnalité-supprimer-un-produit">4.4.4.3. Fonctionnalité: Supprimer un produit<!-- OK --></h5>
      <p><em>“En tant qu’utilisateur, je veux supprimer un produit car je n’en ai plus besoin.”</em></p>
      <p><strong>Scénario 1:</strong> Supprimer un produit depuis une page info produit</p>
      <ul>
      <li>Étant donné que j’accède à la page information du produit</li>
      <li>Et que je clique sur le bouton suppression du produit</li>
      <li>Et que la fenêtre de validation de la suppression du produit s’affiche</li>
      <li>Et que je clique sur le bouton valider la suppression</li>
      <li>Alors je supprime un produit</li>
      <li>Et je suis redirigé sur la page info catégorie qui contenait le produit</li>
      </ul>
      <h5 id="fonctionnalité-accéder-aux-informations-dun-produit">4.4.4.4. Fonctionnalité: Accéder aux informations d’un produit<!-- OK --></h5>
      <p><em>“En tant qu’utilisateur, je veux pouvoir accéder au informations de mes produits afin d’y relever les différentes valeurs.”</em></p>
      <p><strong>Scénario 1:</strong> Accéder aux informations d’un produit depuis la page information de la catégorie contenant le produit</p>
      <ul>
      <li>Étant donné que j’accède à la page information d’une catégorie</li>
      <li>Et que je clique sur le produit dont je veux les informations</li>
      <li>Alors j’accède à ces informations</li>
      <li>Et je suis redirigé sur la page information de ce produit</li>
      </ul>
      <p><strong>Scénario 2:</strong> Accéder aux informations d’un produit depuis la barre de recherche en écrivant le nom d’un produit</p>
      <ul>
      <li>Étant donné que je suis sur n’importe quel page de mon compte utilisateur</li>
      <li>Et que je clique sur la barre de recherche</li>
      <li>Et que j’écris le nom d’un produit</li>
      <li>Et que je clique sur la touche entrée de mon clavier</li>
      <li>Et que j’accède à la page m’indiquant les produits trouvé selon ma recherche</li>
      <li>Et que je clique sur le produit voulu</li>
      <li>Alors j’accède à la page information du produit</li>
      <li>Et je suis redirigé sur la page information du produit</li>
      </ul>
      <p><strong>Scénario 3:</strong> Accéder aux informations d’un produit depuis la barre de recherche en écrivant la référence d’un produit</p>
      <ul>
      <li>Étant donné que je suis sur n’importe quel page de mon compte utilisateur</li>
      <li>Et que je clique sur la barre de recherche</li>
      <li>Et que j’écris la référence d’un produit</li>
      <li>Et que je clique sur la touche entrée de mon clavier</li>
      <li>Et que j’accède à la page m’indiquant les produits trouvé selon ma recherche</li>
      <li>Et que je clique sur le produit voulu</li>
      <li>Alors j’accède à la page information du produit</li>
      <li>Et je suis redirigé sur la page information du produit</li>
      </ul>
      <p><strong>Scénario 4:</strong> Accéder aux informations d’un produit depuis la barre de recherche en écrivant le début du nom (1 lettre obligatoire)</p>
      <ul>
      <li>Étant donné que je suis sur n’importe quel page de mon compte utilisateur</li>
      <li>Et que je clique sur la barre de recherche</li>
      <li>Et que j’écris au minimum la première lettre du nom de mon produit</li>
      <li>Et que je clique sur la touche entrée de mon clavier</li>
      <li>Et que j’accède à la page m’indiquant les produits trouvé selon ma recherche</li>
      <li>Et que je clique sur le produit voulu</li>
      <li>Alors j’accède à la page information du produit</li>
      <li>Et je suis redirigé sur la page information du produit</li>
      </ul>
      <p><strong>Scénario 5:</strong> Accéder aux informations d’un produit depuis la barre de recherche en écrivant le début de la référence d’un produit (1 lettre/chiffre obligatoire)</p>
      <ul>
      <li>Étant donné que je suis sur n’importe quel page de mon compte utilisateur</li>
      <li>Et que je clique sur la barre de recherche</li>
      <li>Et que j’écris au minimum la première lettre/chiffre de la référence de mon produit</li>
      <li>Et que je clique sur la touche entrée de mon clavier</li>
      <li>Et que j’accède à la page m’indiquant les produits trouvé selon ma recherche</li>
      <li>Et que je clique sur le produit voulu</li>
      <li>Alors j’accède à la page information du produit</li>
      <li>Et je suis redirigé sur la page information du produit</li>
      </ul>
      <p><strong>Scénario 6:</strong> Échec d’accès aux informations d’un produit depuis la barre de recherche</p>
      <ul>
      <li>Étant donné que je suis sur n’importe quel page de mon compte utilisateur</li>
      <li>Et que je clique sur la barre de recherche</li>
      <li>Et que j’écris au minimum la première lettre/chiffre du nom ou référence de mon produit</li>
      <li>Et que je clique sur la touche entrée de mon clavier</li>
      <li>Mais que je me suis trompé en écrivant/ou que mon produit n’existe pas</li>
      <li>Et qu’un message d’erreur s’affiche dans une fenêtre</li>
      <li>Et que je clique sur ok</li>
      <li>Et je reste sur la page où j’étais avant mon action</li>
      </ul>
      <h3 id="délais">4.5. Délais<!-- OK --></h3>
      <p>La date prévisionnelle de remise du livrable est fixée au <strong>4 novembre 2022</strong>.</p>
      <div style="page-break-after: always;">

      </div>
      <h2 id="gestion-de-projet">5. Gestion de projet<!-- OK --></h2>
      <ul>
      <li>Planning et suivi</li>
      <li>Environnement humain et technique</li>
      <li>Objectif qualité</li>
      </ul>
      <p>Pour la gestion du projet, nous avons utilisé une <strong>méthode Agile</strong>.</p>
      <p>La méthode Agile se concentre sur la flexibilité et la collaboration pour <strong>livrer rapidement</strong> en répondant aux besoins changeants des clients, en utilisant des <strong>itérations courtes</strong> et une <strong>communication efficace</strong>.</p>
      <ul>
      <li><strong>Besoin et attentes du client</strong> sont la priorité principale.</li>
      <li><strong>Adaptation</strong> rapide aux changements.</li>
      <li><strong>Livraison fréquente</strong> pour obtenir un feedback rapide.</li>
      <li><strong>Travail en équipe</strong> (équipe de développement, parties prenantes, clients).</li>
      <li><strong>Individus et interactions</strong> plus importants que les processus et les outils.</li>
      <li><strong>Logiciel opérationnel</strong> plutôt qu’exhaustif.</li>
      <li><strong>Approche de face-à-face</strong> pour une communication efficace.</li>
      <li><strong>Suivi de l’avancement</strong> concret et visuel.</li>
      <li><strong>Amélioration continue</strong> pour augmenter la qualité et la productivité.</li>
      </ul>
      <h3 id="planning-et-suivi">5.1. Planning et suivi<!-- OK --></h3>
      <p>Pour le planning et le suivi utilisé la méthode Agile <strong>Scrum</strong>. Elle se base sur des itérations courtes appelées <strong>sprints</strong>, dans lesquelles les membres de l’équipe sont cross-fonctionnels et auto-organisés.</p>
      <p>Nous avons choisi pour ce faire d’utiliser <strong>Trello</strong> (ref. <a href="https://trello.com">Trello</a>). Nous y avons mis le <strong>détail des fonctionnalités</strong> et pour chaque fonctionnalité une <strong>check list</strong> à remplir contenant :</p>
      <ul>
      <li>Maquettage</li>
      <li>Front-end</li>
      <li>Back-end</li>
      <li>Test unitaire</li>
      <li>Test fonctionnel</li>
      </ul>
      <p>Nous nous sommes réparti les tâches en début de projet. Nous avons ensuite réalisé quotidiennement une <strong>réunion de synchronisation</strong> (Daily scrum en anglais) afin de planifier les tâches de la journée, et d’échanger sur celles de la veille. Nous avons fréquemment eu de courtes <strong>réunions de collaboration</strong> sur l’ensemble du projet (gestion du Backlog, rétrospective, amélioration de processus, projection et planification…).</p>
      <h3 id="environnement-humain-et-technique">5.2. Environnement humain et technique<!-- OK --></h3>
      <h4 id="environnement-humain">5.2.1. Environnement humain<!-- OK --></h4>
      <p>Ce projet a été réalisé dans son intégralité par <strong>Thibault HULAUX</strong> et <strong>Lylou PONSING</strong>.</p>
      <h4 id="environnement-technique">5.2.2. Environnement technique<!-- OK --></h4>
      <p>Pour ce projet, nous avons bénéficié chacun du prêt d’un ordinateur ASUS ExpertBook en tant que station principale de développement :</p>
      <p><strong>ASUS ExpertBook - station de développement Windows</strong></p>
      <!-- cSpell:disable -->
      <table>
      <colgroup>
      <col style="width: 5%" />
      <col style="width: 94%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th></th>
      <th>Caractéristiques techniques</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td>CPU</td>
      <td>quad-core Intel Core i7-1165GZ 64-bit @ 2.8GHz</td>
      </tr>
      <tr class="even">
      <td>RAM</td>
      <td>8GB DDR4</td>
      </tr>
      <tr class="odd">
      <td>Connectivity</td>
      <td>Gigabit Ethernet, dual-band 802.11ac wireless, Bluetooth 5.0, BLE, 3 USB 3.0 ports, USB 2.0 ports, 1 HDMI port (up to 4kp60 supported), 1 VGA port, 3.5mm analogue audio-video jack and a micro-SD card reader</td>
      </tr>
      <tr class="even">
      <td>Storage</td>
      <td>WDC SN530 512GB</td>
      </tr>
      <tr class="odd">
      <td>Video Output</td>
      <td>1 HDMI port (up to 4kp60 supported), 1 VGA port</td>
      </tr>
      <tr class="even">
      <td>Display</td>
      <td>15.6" Intel Iris Xe Graphics (1920 x 1080 x 60)</td>
      </tr>
      <tr class="odd">
      <td>OS</td>
      <td>Windows 10 Professionnal 64 bits</td>
      </tr>
      </tbody>
      </table>
      <!-- cSpell:enable -->
      <p>Afin de procéder à la conception des infrastructures, aux tests d’intégrations ainsi qu’aux tests de déploiement, il a également été nécessaire d’y adjoindre un couple de Raspberry Pi :</p>
      <p><strong>Raspberry Pi 4 - serveur polyvalent (docker engine, gitlab-runner, VMware ESXi)</strong></p>
      <!-- cSpell:disable -->
      <table>
      <colgroup>
      <col style="width: 5%" />
      <col style="width: 94%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th></th>
      <th>Caractéristiques techniques</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td>CPU</td>
      <td>Broadcom BCM2711, quad-core Cortex-A72 (ARM v8) 64-bit SoC @ 1.5GHz</td>
      </tr>
      <tr class="even">
      <td>RAM</td>
      <td>4GB LPDDR4-3200 SDRAM</td>
      </tr>
      <tr class="odd">
      <td>Connectivity</td>
      <td>Gigabit Ethernet, dual-band 802.11ac wireless, Bluetooth 5.0, BLE, 2 USB 3.0 ports, 2 USB 2.0 ports, 2 micro-HDMI ports (up to 4kp60 supported), 3.5mm analogue audio-video jack, and a 40-pin GPIO header</td>
      </tr>
      <tr class="even">
      <td>Storage</td>
      <td>microSD card slot for loading operating system and data storage</td>
      </tr>
      <tr class="odd">
      <td>Video Output</td>
      <td>2 micro-HDMI ports (up to 4kp60 supported), 2-lane MIPI DSI display port, 2-lane MIPI CSI camera port, 4-pole stereo audio and composite video port</td>
      </tr>
      <tr class="even">
      <td>Power</td>
      <td>5V DC via USB-C connector (minimum 3A<em>), GPIO header (minimum 3A</em>), or PoE (enabled with separate PoE HAT)</td>
      </tr>
      </tbody>
      </table>
      <!-- cSpell:enable -->
      <p><strong>Raspberry Pi 400 - station de développement Linux</strong></p>
      <!-- cSpell:disable -->
      <table>
      <colgroup>
      <col style="width: 5%" />
      <col style="width: 94%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th></th>
      <th>Caractéristiques techniques</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td>CPU</td>
      <td>Broadcom BCM2711, quad-core Cortex-A72 (ARM v8) 64-bit SoC @ 1.8GHz</td>
      </tr>
      <tr class="even">
      <td>RAM</td>
      <td>4GB LPDDR4-3200 SDRAM</td>
      </tr>
      <tr class="odd">
      <td>Connectivity</td>
      <td>Gigabit Ethernet, dual-band 802.11ac wireless, Bluetooth 5.0, BLE, 2 USB 3.0 ports, 2 USB 2.0 ports, 2 micro-HDMI ports (up to 4kp60 supported), 3.5mm analogue audio-video jack, and a 40-pin GPIO header</td>
      </tr>
      <tr class="even">
      <td>Storage</td>
      <td>microSD card slot for loading operating system and data storage</td>
      </tr>
      <tr class="odd">
      <td>Video Output</td>
      <td>2 micro-HDMI ports (up to 4kp60 supported), 2-lane MIPI DSI display port, 2-lane MIPI CSI camera port, 4-pole stereo audio and composite video port</td>
      </tr>
      <tr class="even">
      <td>Power</td>
      <td>5V DC via USB-C connector (minimum 3A<em>), GPIO header (minimum 3A</em>), or PoE (enabled with separate PoE HAT)</td>
      </tr>
      <tr class="odd">
      <td>Keyboard</td>
      <td>78 key compact keyboard with a US layout</td>
      </tr>
      </tbody>
      </table>
      <!-- cSpell:enable -->
      <p>Par soucis d’exhaustivité, nous avons également intégré à l’environnement technique une station de développement Mac OS :</p>
      <p><strong>MacBook Pro - station de développement Mac OS</strong></p>
      <!-- cSpell:disable -->
      <table>
      <colgroup>
      <col style="width: 8%" />
      <col style="width: 91%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th></th>
      <th>Caractéristiques techniques</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td>CPU</td>
      <td>6-core Intel Core i7 with base clock speed of 2.2GHz and turbo boost up to 4.8GHz</td>
      </tr>
      <tr class="even">
      <td>RAM</td>
      <td>16GB of DDR4 RAM</td>
      </tr>
      <tr class="odd">
      <td>Connectivity</td>
      <td>Gigabit Ethernet, dual-band 802.11ac wireless, Bluetooth 5.0, Four Thunderbolt 3 ports, 3.5mm headphone jack, SDXC card slot</td>
      </tr>
      <tr class="even">
      <td>Storage</td>
      <td>1TB solid-state drive (SSD)</td>
      </tr>
      <tr class="odd">
      <td>Display</td>
      <td>15.4-inch Retina display with a resolution of 2880 x 1800 pixels</td>
      </tr>
      <tr class="even">
      <td>Graphics</td>
      <td>Radeon Pro 555X with 4GB of GDDR5 memory</td>
      </tr>
      <tr class="odd">
      <td>OS</td>
      <td>MacOS Monterey (version 10.15)</td>
      </tr>
      </tbody>
      </table>
      <!-- cSpell:enable -->
      <p>En dehors de ces éléments matériels, <strong>l’ensemble du projet a été réalisé avec la contrainte suivante : tous les outils, logiciels et hébergements doivent être utilisables gratuitement</strong>.</p>
      <p>Ceci a eu pour effet de nous interdire l’utilisation, ou de limiter fortement l’accès aux services payants des différents prestataires connexes (Amazon Web Services, Google Cloud, Azure Services, GitLab, Jira…).</p>
      <h3 id="objectif-qualité">5.3. Objectif qualité<!-- OK --></h3>
      <p>Les objectifs qualité sont:</p>
      <ul>
      <li>toutes les fonctionnalités doivent <strong>être réalisées</strong>.</li>
      <li>toutes les fonctionnalités doivent <strong>être assez simples pour être comprises par tous</strong>.</li>
      <li>toutes les fonctionnalités doivent <strong>respecter les standards de l’industrie</strong> (technologies, sécurité, fiabilité)</li>
      </ul>
      <div style="page-break-after: always;">

      </div>
      <h2 id="spécifications-fonctionnelles-du-projet">6. Spécifications fonctionnelles du projet<!-- OK --></h2>
      <ul>
      <li>Front office</li>
      <li>Back office</li>
      <li>Arborescence</li>
      <li>Aperçu des contenus</li>
      </ul>
      <h3 id="front-office">6.1. Front office<!-- OK --></h3>
      <p>Ce projet contient une <strong>landing page avec une animation</strong>. Une page de <strong>connexion et d’inscription</strong>.</p>
      <p>Une fois connecté sur toutes les pages, il y aura une aside qui contient la <strong>liste des catégories</strong> créées par l’utilisateur afin qu’il puisse y accéder d’où il veut, ainsi qu’une <strong>barre de recherche</strong> afin d’accéder au produit depuis n’importe quelle page et un <strong>menu déroulant concernant l’utilisateur</strong>.</p>
      <p>Le site contient une page d’<strong>ajout de catégorie</strong>, une <strong>page informative</strong> d’une catégorie et une page de <strong>modification d’une catégorie</strong>.</p>
      <p>Sur la page informative d’une catégorie, il y a la <strong>liste des produits que contient la catégorie</strong>. Les produits sont représentés par des boutons. Si l’utilisateur <strong>clique</strong> dessus il atterrira sur la <strong>page d’information du produit</strong>. Il y aura aussi une page de <strong>modification du produit</strong> qui sera accessible à partir des informations du produit.</p>
      <h4 id="landing-page">6.1.1. Landing page<!-- OK --></h4>
      <p>La landing page a une <strong>interface stylisée différemment</strong> du reste du site. Une landing page se doit d’être attractive et de pousser l’utilisateur à utiliser le produit ou le service qu’elle essaie de vendre.</p>
      <p>Pour la landing page, nous avons fait le choix de faire une <strong>animation qui s’active une fois</strong> au lancement de la page.</p>
      <p>Cette animation comporte trois boîtes qui s’ouvrent et qui se referment. Pendant que la boite s’ouvre, il y a 4 petites boîtes qui descendent jusqu’à se retrouver dans les grandes boîtes. Les grandes boîtes symbolisent les catégories et les petites boîtes symbolisent les produits.</p>
      <p>Sur la landing page l’utilisateur peut <strong>accéder aux espaces d’inscription et de connexion</strong>.</p>
      <h4 id="inscription-et-connexion">6.1.2. Inscription et connexion<!-- OK --></h4>
      <p>Les espaces de connexion et d’inscription sont accessibles à partir du <strong>header de la landing page</strong>. Comme fait conventionnellement, tout à droite on retrouve en premier l’inscription et ensuite la connexion.</p>
      <p>La page de connexion contient le label : email avec son input, ainsi que le label : mot de passe avec son input.</p>
      <p>Sur la landing page, l’utilisateur peut cliquer sur <strong>se connecter</strong> et à gauche <strong>s’inscrire</strong>.</p>
      <h4 id="catégories">6.1.3. Catégories<!-- OK --></h4>
      <h5 id="menu-catégorie">6.1.3.1. Menu catégorie<!-- OK --></h5>
      <p>Une fois connecté, l’utilisateur aura accès à un <strong>menu disposé à gauche de l’interface</strong> et qui sera <strong>disponible sur toutes les pages</strong> du site.</p>
      <p>Ce menu contient une <strong>liste des catégories</strong> que l’utilisateur aura créé au préalable. Pour chaque catégorie, un lien sera créé avec comme valeur le nom que l’utilisateur lui aura donné.</p>
      <p>Au survol du bouton, le bouton changera de couleur afin d’indiquer à l’utilisateur qu’il s’agit d’un lien cliquable. Ce lien dirige vers la <strong>page informative de la catégorie</strong>.</p>
      <h5 id="ajout-dune-catégorie">6.1.3.2. Ajout d’une catégorie<!-- OK --></h5>
      <p>Quand l’utilisateur se sera connecté, la première page du site auquel il aura accès est la page d’ajout d’une catégorie.</p>
      <p>Sur cette page, l’utilisateur devra <strong>indiquer le nom de la catégorie ainsi que sa description</strong> puis il devra ajouter la catégorie en cliquant sur le bouton correspondant.</p>
      <p>Lorsque l’utilisateur ajoute une catégorie, elle est <strong>directement visible dans le menu catégorie</strong>.</p>
      <h5 id="information-et-modification-dune-catégorie">6.1.3.3. Information et modification d’une catégorie<!-- OK --></h5>
      <p>Une fois que l’utilisateur a accès à la page informative de la catégorie, il peut cliquer sur le bouton modifier la catégorie. En cliquant sur ce bouton l’utilisateur est redirigé vers la page de <strong>modification de la catégorie</strong>. Il peut <strong>modifier les champs <code>nom</code> et <code>description</code></strong> et pour valider les modifications, l’utilisateur devra cliquer sur le bouton <strong>valider les modifications</strong>.</p>
      <h5 id="suppression-dune-catégorie">6.1.3.4. Suppression d’une catégorie<!-- OK --></h5>
      <p>Sur la <strong>page de modification de la catégorie</strong>, l’utilisateur devra <strong>cliquer sur supprimer</strong> pour supprimer la catégorie.</p>
      <h4 id="produits">6.1.4. Produits<!-- OK --></h4>
      <h5 id="information-produit">6.1.4.1. Information produit<!-- OK --></h5>
      <p>L’utilisateur peut accéder aux informations d’un produit de deux manières :</p>
      <ul>
      <li>Quand l’utilisateur arrive sur la <strong>page d’information d’une catégorie</strong>, il y a la liste des produits qui sont affichés. Si l’utilisateur <strong>clique sur le bouton indiquant le nom du produit</strong>, il est redirigé vers la page d’information du produit.</li>
      <li>Quand l’utilisateur recherche un produit, <strong>depuis la barre de recherche</strong>, il obtient une liste de produits correspondant à sa recherche. Si l’utilisateur <strong>clique sur un produit souhaité</strong> il atterrira sur la page d’information du produit.</li>
      </ul>
      <h5 id="ajout-dun-produit">6.1.4.2. Ajout d’un produit<!-- OK --></h5>
      <p>Sur la <strong>page d’information de la catégorie</strong> contenant la liste des produits de celle-ci, si l’utilisateur clique sur ajouter un produit, il atterrira sur la page d’édition du produit.</p>
      <p>Il devra <strong>remplir les champs</strong> et appuyer sur le bouton ajouter pour <strong>valider l’ajout du produit</strong>.</p>
      <h5 id="modifier-un-produit">6.1.4.3. Modifier un produit<!-- OK --></h5>
      <p>Pour modifier le produit, l’utilisateur devra cliquer sur le bouton <strong>modifier le produit sur la page d’information du produit.</strong></p>
      <p>Il sera redirigé vers la page de modification du produit, dans laquelle il pourra modifier les champs et <strong>valider les modifications</strong>.</p>
      <h5 id="supprimer-un-produit">6.1.4.4. Supprimer un produit<!-- OK --></h5>
      <p>Sur la <strong>page de modification d’un produit</strong>, l’utilisateur peut <strong>cliquer sur supprimer</strong> le produit pour supprimer le produit.</p>
      <h4 id="menu-user">6.1.5. Menu user<!-- OK --></h4>
      <p>Une fois l’utilisateur <strong>connecté</strong>, il pourra accéder au <strong>menu user</strong>. L’utilisateur devra <strong>cliquer sur le user ou son symbole</strong>. A partir de là un <strong>menu déroulant</strong> s’abaisse et l’utilisateur peut cliquer sur : modification du profil, modification du mot de passe ou déconnexion.</p>
      <h3 id="back-office">6.2. Back office<!-- OK --></h3>
      <p>La <strong>partie administration</strong> de l’interface de notre site de gestion de stock est conçue pour <strong>faciliter la gestion des données</strong> de l’application. Elle a été nécessaire pour l’elaboration et les tests de l’application. Elle est accessible uniquement aux utilisateurs ayant le <strong>rôle “admin”</strong>. Elle offre plusieurs 3 vues d’administrations : <strong>utilisateurs</strong>, <strong>catégories</strong> et <strong>produits</strong>.</p>
      <p>Les <strong>vues sont construites sous forme de tableau</strong>, affichant l’intégralité des entrées de la base de données, avec pour chaque entrée, des boutons “éditer” et “supprimer”. Cela permet aux utilisateurs de facilement <strong>mettre à jour ou supprimer les entrées</strong> de la table.</p>
      <p>La partie administration liste également toutes les clés de la table concernée et des tables jointes, ce qui permet aux utilisateurs de visualiser l’intégralité des données en rapport avec la vue utilisée.</p>
      <p>Enfin, en bas de l’interface, on trouve une ligne de saisie pour permettre aux utilisateurs d’<strong>ajouter de nouvelles entrées</strong> à la table.</p>
      <p>Le système est conçu pour être <strong>extensible</strong>. Ainsi, d’autres rôles pourraient par la suite être rajoutés ainsi que d’autres fonctionnalités. Cela inclut des fonctionnalités comme la gestion des utilisateurs, des rapports, des alertes, etc.</p>
      <h3 id="arborescence">6.3. Arborescence<!-- OK --></h3>
      <p>Le diagramme de flux est utile dans la création de nouveaux processus métiers. Il permet d’identifier les éléments clés et de définir clairement le début et la fin. Modéliser un processus permet de gagner en qualité et en efficacité.</p>
      <figure>
      <img src="img/usecase-all-uml.png" alt="" /><figcaption>Use case diagram</figcaption>
      </figure>
      <h3 id="aperçu-des-contenus">6.4. Aperçu des contenus<!-- OK --></h3>
      <h4 id="charte-graphique">6.4.1. Charte graphique<!-- OK --></h4>
      <figure>
      <img src="img/palette.png" alt="" /><figcaption>Charte graphique</figcaption>
      </figure>
      <table>
      <colgroup>
      <col style="width: 39%" />
      <col style="width: 3%" />
      <col style="width: 57%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th>Emplacement</th>
      <th>Couleur</th>
      <th>Explication</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td>Fond du site</td>
      <td>#f7f7f7</td>
      <td>Couleur claire, luminosité et propreté. Mise en avant des autres éléments.</td>
      </tr>
      <tr class="even">
      <td>Aside et menu utilisateur</td>
      <td>#151515</td>
      <td>Couleur foncée, profondeur et contraste avec le fond du site. Mise en avant des éléments importants de ces zones.</td>
      </tr>
      <tr class="odd">
      <td>Éléments de la barre de recherche, de l’aside et du menu utilisateur (:hover)</td>
      <td>#0e2b9e</td>
      <td>Couleur bleue, dynamisme et de modernité. Mise en avant d’une action au survol.</td>
      </tr>
      <tr class="even">
      <td>Validation</td>
      <td>#7feb15</td>
      <td>Couleur verte, confirmation. Montre clairement que l’action est effective.</td>
      </tr>
      <tr class="odd">
      <td>Suppression</td>
      <td>#eb6a44</td>
      <td>Couleur orange, urgence et attention. Mise en avant d’une action importante.</td>
      </tr>
      <tr class="even">
      <td>Bouton d’information des produits et catégories</td>
      <td>#2c52eb</td>
      <td>Couleur bleue, montre la différence avec “mise à jour”.</td>
      </tr>
      <tr class="odd">
      <td>Bouton de mise à jour des produits et catégories</td>
      <td>#0e2b9e</td>
      <td>Couleur bleue qui permet de montrer clairement la différence entre cette action et celle de consultation.</td>
      </tr>
      </tbody>
      </table>
      <h4 id="maquette">6.4.2. Maquette<!-- OK --></h4>
      <p>Une maquette est un <strong>outil graphique utilisé pour prévisualiser l’apparence</strong> d’un site web ou d’une application avant sa mise en production. Il s’agit d’une <strong>représentation simplifiée</strong> de la structure et de la mise en page d’un site, qui permet de visualiser les éléments qui seront visibles sur toutes les pages.</p>
      <figure>
      <img src="img/mockup-auth.png" alt="" /><figcaption>welcome</figcaption>
      </figure>
      <p>Cette maquette représente <strong>la page d’authentification du site</strong>. Le body de la maquette est conçu avec un fondu dégradé allant du blanc au bleu clair pour donner un look élégant et moderne.</p>
      <p>Le header comprend un <strong>logo de l’application</strong>, un bouton d’<strong>inscription</strong> et un bouton de <strong>connexion</strong>. Le logo est placé à gauche du header et les boutons d’inscription et de connexion sont placés à droite.</p>
      <p>Sous le header, il y a un formulaire de connexion qui comprend des champs pour saisir l’<strong>adresse email</strong> et le <strong>mot de passe</strong> de l’utilisateur. Les champs sont bien espacés et clairement étiquetés pour une <strong>utilisation facile</strong>. Il y a également des boutons d’inscription et de connexion pour permettre à l’utilisateur de s’inscrire ou de se connecter.</p>
      <p>Les formulaires sur les pages de connexion et d’inscription sont mis en valeur avec une bordure et une ombre qui les font ressortir.</p>
      <figure>
      <img src="img/mockup-desktop.png" alt="" /><figcaption>desktop</figcaption>
      </figure>
      <p>Dans la maquette ci-dessus, les <strong>éléments présents sur toutes les pages</strong> pour les utilisateurs connectés incluent un header avec le logo de l’entreprise et un menu de <strong>gestion du profil</strong> utilisateur, un aside avec un menu pour <strong>gérer les produits et catégories</strong>, un footer avec des <strong>liens vers l’aide</strong>, les <strong>mentions légales</strong> et les <strong>coordonnées de l’entreprise</strong>, et une <strong>barre de recherche</strong> pour chercher des produits spécifiques.</p>
      <div style="page-break-after: always;">

      </div>
      <h2 id="spécifications-techniques-du-projet">7. Spécifications techniques du projet<!-- OK --></h2>
      <ul>
      <li>Langages</li>
      <li>Frameworks</li>
      <li>Versioning (gitlab/github)</li>
      <li>SGBD utilisé (MYSQL/PostgreSQL)</li>
      <li>Outils de maquettage</li>
      <li>Plateforme de développement</li>
      <li>Outils de conception de la documentation</li>
      </ul>
      <h3 id="langages">7.1. Langages<!-- OK --></h3>
      <h4 id="front-end">7.1.1. Front-end<!-- OK --></h4>
      <p>Nous avons choisi d’utiliser HTML, CSS et JavaScript pour développer le front-end de l’application pour les raisons suivantes :</p>
      <ul>
      <li><strong>Accessibilité</strong> : HTML est utilisé pour structurer le contenu de l’application, ce qui facilite l’accessibilité pour les utilisateurs avec des besoins spécifiques. CSS permet de séparer la présentation de la structure, ce qui facilite la mise en forme et la personnalisation de l’apparence.</li>
      <li><strong>Support du navigateur</strong> : HTML, CSS et JavaScript sont des technologies largement supportées par les navigateurs web, ce qui permet de déployer l’application sur une large gamme de plateformes et de navigateurs.</li>
      <li><strong>Interactivité</strong> : JavaScript permet de rendre l’application interactive en ajoutant des fonctionnalités telles que des formulaires, des animations et des interactions utilisateur.</li>
      <li><strong>Développement et maintenance</strong> : il existe une grande communauté de développeurs expérimentés qui travaillent avec ces technologies, il est donc facile de trouver des ressources pour le développement et la maintenance de l’application. Il existe également un grand nombre de bibliothèques et de frameworks qui facilitent le développement en HTML, CSS et JavaScript.</li>
      <li><strong>Scalabilité</strong>: Il est possible de découper le code en composants réutilisables pour améliorer la scalabilité de l’application.</li>
      </ul>
      <p>En somme, HTML, CSS et JavaScript sont des <strong>technologies éprouvées</strong> qui permettent de créer des <strong>applications web accessibles</strong>, <strong>supportées par les navigateurs</strong>, <strong>interactives</strong> et <strong>faciles à développer et maintenir</strong>. Leur combinaison permet de créer des <strong>interfaces utilisateur riches et performantes</strong>.</p>
      <h5 id="html">7.1.1.1. HTML<!-- OK --></h5>
      <p>Le <strong>HyperText Markup Language</strong>, abrégé HTML (ou HTML5 dans sa dernière version), est le langage standard conçu pour représenter des documents dans un navigateur web.</p>
      <p>C’est un <strong>langage de description</strong> de format de document qui se présente sous la forme d’un langage de balisage. Il est souvent assisté par des technologies telles que les feuilles de style en cascade (CSS) et le langage de programmation JavaScript.</p>
      <p>Voici en exemple code HTML produit par la méthode <code>doGet()</code> du servlet <code>CategoryAdd.java</code> de l’application :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb2"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a></span>
      <span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></span>
      <span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a><span class="kw">&lt;html</span><span class="ot"> lang=</span><span class="st">&quot;en&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a>  <span class="kw">&lt;head&gt;</span></span>
      <span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a>    <span class="kw">&lt;meta</span><span class="ot"> charset=</span><span class="st">&quot;UTF-8&quot;</span> <span class="kw">/&gt;</span></span>
      <span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a>    <span class="kw">&lt;meta</span><span class="ot"> http-equiv=</span><span class="st">&quot;X-UA-Compatible&quot;</span><span class="ot"> content=</span><span class="st">&quot;IE=edge&quot;</span> <span class="kw">/&gt;</span></span>
      <span id="cb2-7"><a href="#cb2-7" aria-hidden="true"></a>    <span class="kw">&lt;meta</span><span class="ot"> name=</span><span class="st">&quot;viewport&quot;</span><span class="ot"> content=</span><span class="st">&quot;width=device-width, initial-scale=1.0&quot;</span> <span class="kw">/&gt;</span></span>
      <span id="cb2-8"><a href="#cb2-8" aria-hidden="true"></a>    <span class="kw">&lt;link</span></span>
      <span id="cb2-9"><a href="#cb2-9" aria-hidden="true"></a><span class="ot">      rel=</span><span class="st">&quot;shortcut icon&quot;</span></span>
      <span id="cb2-10"><a href="#cb2-10" aria-hidden="true"></a><span class="ot">      href=</span><span class="st">&quot;/www/favicon-ico-32.png&quot;</span></span>
      <span id="cb2-11"><a href="#cb2-11" aria-hidden="true"></a><span class="ot">      type=</span><span class="st">&quot;image/x-icon&quot;</span></span>
      <span id="cb2-12"><a href="#cb2-12" aria-hidden="true"></a>    <span class="kw">/&gt;</span></span>
      <span id="cb2-13"><a href="#cb2-13" aria-hidden="true"></a>    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;/www/css/general.css&quot;</span> <span class="kw">/&gt;</span></span>
      <span id="cb2-14"><a href="#cb2-14" aria-hidden="true"></a>    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;/www/css/aside.css&quot;</span> <span class="kw">/&gt;</span></span>
      <span id="cb2-15"><a href="#cb2-15" aria-hidden="true"></a>    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;/www/css/header.css&quot;</span> <span class="kw">/&gt;</span></span>
      <span id="cb2-16"><a href="#cb2-16" aria-hidden="true"></a>    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;/www/css/nav.css&quot;</span> <span class="kw">/&gt;</span></span>
      <span id="cb2-17"><a href="#cb2-17" aria-hidden="true"></a>    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;/www/css/search.css&quot;</span> <span class="kw">/&gt;</span></span>
      <span id="cb2-18"><a href="#cb2-18" aria-hidden="true"></a>    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;/www/css/footer.css&quot;</span> <span class="kw">/&gt;</span></span>
      <span id="cb2-19"><a href="#cb2-19" aria-hidden="true"></a>    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;/www/css/mobile.css&quot;</span> <span class="kw">/&gt;</span></span>
      <span id="cb2-20"><a href="#cb2-20" aria-hidden="true"></a>    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;/www/css/cta.css&quot;</span> <span class="kw">/&gt;</span></span>
      <span id="cb2-21"><a href="#cb2-21" aria-hidden="true"></a>    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;/www/css/category.css&quot;</span> <span class="kw">/&gt;</span></span>
      <span id="cb2-22"><a href="#cb2-22" aria-hidden="true"></a>    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;/www/css/product.css&quot;</span> <span class="kw">/&gt;</span></span>
      <span id="cb2-23"><a href="#cb2-23" aria-hidden="true"></a>    <span class="kw">&lt;link</span></span>
      <span id="cb2-24"><a href="#cb2-24" aria-hidden="true"></a><span class="ot">      rel=</span><span class="st">&quot;stylesheet&quot;</span></span>
      <span id="cb2-25"><a href="#cb2-25" aria-hidden="true"></a><span class="ot">      href=</span><span class="st">&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css&quot;</span></span>
      <span id="cb2-26"><a href="#cb2-26" aria-hidden="true"></a><span class="ot">      integrity=</span><span class="st">&quot;sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==&quot;</span></span>
      <span id="cb2-27"><a href="#cb2-27" aria-hidden="true"></a><span class="ot">      crossorigin=</span><span class="st">&quot;anonymous&quot;</span></span>
      <span id="cb2-28"><a href="#cb2-28" aria-hidden="true"></a><span class="ot">      referrerpolicy=</span><span class="st">&quot;no-referrer&quot;</span></span>
      <span id="cb2-29"><a href="#cb2-29" aria-hidden="true"></a>    <span class="kw">/&gt;</span></span>
      <span id="cb2-30"><a href="#cb2-30" aria-hidden="true"></a>  <span class="kw">&lt;/head&gt;</span></span>
      <span id="cb2-31"><a href="#cb2-31" aria-hidden="true"></a>  <span class="kw">&lt;body&gt;</span></span>
      <span id="cb2-32"><a href="#cb2-32" aria-hidden="true"></a>    <span class="kw">&lt;aside&gt;</span></span>
      <span id="cb2-33"><a href="#cb2-33" aria-hidden="true"></a>      <span class="kw">&lt;ul</span><span class="ot"> id=</span><span class="st">&quot;categoryList&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb2-34"><a href="#cb2-34" aria-hidden="true"></a>        <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;empty&quot;</span><span class="kw">&gt;&lt;/li&gt;</span></span>
      <span id="cb2-35"><a href="#cb2-35" aria-hidden="true"></a>        <span class="kw">&lt;li&gt;&lt;a</span><span class="ot"> id=</span><span class="st">&quot;addAside&quot;</span><span class="ot"> class=</span><span class="st">&quot;add&quot;</span><span class="ot"> href=</span><span class="st">&quot;CategoryAdd&quot;</span><span class="kw">&gt;</span>Add a category<span class="kw">&lt;/a&gt;&lt;/li&gt;</span></span>
      <span id="cb2-36"><a href="#cb2-36" aria-hidden="true"></a>        <span class="kw">&lt;li&gt;&lt;hr</span> <span class="kw">/&gt;&lt;/li&gt;</span></span>
      <span id="cb2-37"><a href="#cb2-37" aria-hidden="true"></a>          <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;category-categoryList&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb2-38"><a href="#cb2-38" aria-hidden="true"></a>            <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;/CategoryInfo?categoryId=1&quot;</span><span class="kw">&gt;</span>Coffee tables<span class="kw">&lt;/a&gt;</span></span>
      <span id="cb2-39"><a href="#cb2-39" aria-hidden="true"></a>          <span class="kw">&lt;/li&gt;</span></span>
      <span id="cb2-40"><a href="#cb2-40" aria-hidden="true"></a>          <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;category-categoryList&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb2-41"><a href="#cb2-41" aria-hidden="true"></a>            <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;/CategoryInfo?categoryId=2&quot;</span><span class="kw">&gt;</span>Side tables<span class="kw">&lt;/a&gt;</span></span>
      <span id="cb2-42"><a href="#cb2-42" aria-hidden="true"></a>          <span class="kw">&lt;/li&gt;</span></span>
      <span id="cb2-43"><a href="#cb2-43" aria-hidden="true"></a>          <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;category-categoryList&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb2-44"><a href="#cb2-44" aria-hidden="true"></a>            <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;/CategoryInfo?categoryId=3&quot;</span><span class="kw">&gt;</span>Sideboards<span class="kw">&lt;/a&gt;</span></span>
      <span id="cb2-45"><a href="#cb2-45" aria-hidden="true"></a>          <span class="kw">&lt;/li&gt;</span></span>
      <span id="cb2-46"><a href="#cb2-46" aria-hidden="true"></a>          <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;category-categoryList&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb2-47"><a href="#cb2-47" aria-hidden="true"></a>            <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;/CategoryInfo?categoryId=4&quot;</span><span class="kw">&gt;</span>Bookcases and shelves<span class="kw">&lt;/a&gt;</span></span>
      <span id="cb2-48"><a href="#cb2-48" aria-hidden="true"></a>          <span class="kw">&lt;/li&gt;</span></span>
      <span id="cb2-49"><a href="#cb2-49" aria-hidden="true"></a>          <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;category-categoryList&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb2-50"><a href="#cb2-50" aria-hidden="true"></a>            <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;/CategoryInfo?categoryId=5&quot;</span><span class="kw">&gt;</span>TV cabinets<span class="kw">&lt;/a&gt;</span></span>
      <span id="cb2-51"><a href="#cb2-51" aria-hidden="true"></a>          <span class="kw">&lt;/li&gt;</span></span>
      <span id="cb2-52"><a href="#cb2-52" aria-hidden="true"></a>          <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;category-categoryList&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb2-53"><a href="#cb2-53" aria-hidden="true"></a>            <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;/CategoryInfo?categoryId=6&quot;</span><span class="kw">&gt;</span>Armchairs<span class="kw">&lt;/a&gt;</span></span>
      <span id="cb2-54"><a href="#cb2-54" aria-hidden="true"></a>          <span class="kw">&lt;/li&gt;</span></span>
      <span id="cb2-55"><a href="#cb2-55" aria-hidden="true"></a>          <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;category-categoryList&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb2-56"><a href="#cb2-56" aria-hidden="true"></a>            <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;/CategoryInfo?categoryId=7&quot;</span><span class="kw">&gt;</span>sofas<span class="kw">&lt;/a&gt;</span></span>
      <span id="cb2-57"><a href="#cb2-57" aria-hidden="true"></a>          <span class="kw">&lt;/li&gt;</span></span>
      <span id="cb2-58"><a href="#cb2-58" aria-hidden="true"></a>        <span class="kw">&lt;li&gt;&lt;hr</span> <span class="kw">/&gt;&lt;/li&gt;</span></span>
      <span id="cb2-59"><a href="#cb2-59" aria-hidden="true"></a>      <span class="kw">&lt;/ul&gt;</span></span>
      <span id="cb2-60"><a href="#cb2-60" aria-hidden="true"></a>    <span class="kw">&lt;/aside&gt;</span></span>
      <span id="cb2-61"><a href="#cb2-61" aria-hidden="true"></a>    <span class="kw">&lt;nav&gt;</span></span>
      <span id="cb2-62"><a href="#cb2-62" aria-hidden="true"></a>      <span class="kw">&lt;a</span><span class="ot"> id=</span><span class="st">&quot;userEdit&quot;</span><span class="ot"> href=</span><span class="st">&quot;/UserEdit&quot;</span><span class="kw">&gt;</span>Edit profil<span class="kw">&lt;/a&gt;</span></span>
      <span id="cb2-63"><a href="#cb2-63" aria-hidden="true"></a>      <span class="kw">&lt;a</span><span class="ot"> id=</span><span class="st">&quot;changePassword&quot;</span><span class="ot"> href=</span><span class="st">&quot;/UserChangePassword&quot;</span><span class="kw">&gt;</span>Edit password<span class="kw">&lt;/a&gt;</span></span>
      <span id="cb2-64"><a href="#cb2-64" aria-hidden="true"></a>      <span class="kw">&lt;a</span><span class="ot"> id=</span><span class="st">&quot;logout&quot;</span><span class="ot"> href=</span><span class="st">&quot;/Logout&quot;</span><span class="kw">&gt;</span>Logout<span class="kw">&lt;/a&gt;</span></span>
      <span id="cb2-65"><a href="#cb2-65" aria-hidden="true"></a>    <span class="kw">&lt;/nav&gt;</span></span>
      <span id="cb2-66"><a href="#cb2-66" aria-hidden="true"></a>    <span class="kw">&lt;header&gt;</span></span>
      <span id="cb2-67"><a href="#cb2-67" aria-hidden="true"></a>      <span class="kw">&lt;img</span><span class="ot"> src=</span><span class="st">&quot;../../../www/logo.png&quot;</span><span class="ot"> class=</span><span class="st">&quot;logo&quot;</span><span class="kw">&gt;&lt;/img&gt;</span></span>
      <span id="cb2-68"><a href="#cb2-68" aria-hidden="true"></a>      <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;logo&quot;</span><span class="kw">&gt;</span>Storage Management<span class="kw">&lt;/div&gt;</span></span>
      <span id="cb2-69"><a href="#cb2-69" aria-hidden="true"></a>      <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;user&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb2-70"><a href="#cb2-70" aria-hidden="true"></a>        <span class="kw">&lt;p&gt;</span>user<span class="kw">&lt;/p&gt;</span></span>
      <span id="cb2-71"><a href="#cb2-71" aria-hidden="true"></a>        <span class="kw">&lt;i</span><span class="ot"> class=</span><span class="st">&quot;fa-solid fa-user&quot;</span><span class="kw">&gt;&lt;/i&gt;</span></span>
      <span id="cb2-72"><a href="#cb2-72" aria-hidden="true"></a>      <span class="kw">&lt;/div&gt;</span></span>
      <span id="cb2-73"><a href="#cb2-73" aria-hidden="true"></a>    <span class="kw">&lt;/header&gt;</span></span>
      <span id="cb2-74"><a href="#cb2-74" aria-hidden="true"></a>    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;contentSearch&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb2-75"><a href="#cb2-75" aria-hidden="true"></a>      <span class="kw">&lt;form</span><span class="ot"> action=</span><span class="st">&quot;/Search&quot;</span><span class="ot"> method=</span><span class="st">&quot;post&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb2-76"><a href="#cb2-76" aria-hidden="true"></a>        <span class="kw">&lt;input</span></span>
      <span id="cb2-77"><a href="#cb2-77" aria-hidden="true"></a><span class="ot">          class=</span><span class="st">&quot;searchBar&quot;</span></span>
      <span id="cb2-78"><a href="#cb2-78" aria-hidden="true"></a><span class="ot">          onkeyup=</span><span class="st">&quot;&quot;</span></span>
      <span id="cb2-79"><a href="#cb2-79" aria-hidden="true"></a><span class="ot">          type=</span><span class="st">&quot;text&quot;</span></span>
      <span id="cb2-80"><a href="#cb2-80" aria-hidden="true"></a><span class="ot">          name=</span><span class="st">&quot;searchString&quot;</span></span>
      <span id="cb2-81"><a href="#cb2-81" aria-hidden="true"></a><span class="ot">          placeholder=</span><span class="st">&quot;Search product..&quot;</span></span>
      <span id="cb2-82"><a href="#cb2-82" aria-hidden="true"></a><span class="ot">          required</span></span>
      <span id="cb2-83"><a href="#cb2-83" aria-hidden="true"></a>        <span class="kw">/&gt;</span></span>
      <span id="cb2-84"><a href="#cb2-84" aria-hidden="true"></a>        <span class="kw">&lt;button</span><span class="ot"> type=</span><span class="st">&quot;submit&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb2-85"><a href="#cb2-85" aria-hidden="true"></a>          <span class="kw">&lt;i</span><span class="ot"> class=</span><span class="st">&quot;fa-sharp fa-solid fa-magnifying-glass&quot;</span><span class="kw">&gt;&lt;/i&gt;</span></span>
      <span id="cb2-86"><a href="#cb2-86" aria-hidden="true"></a>        <span class="kw">&lt;/button&gt;</span></span>
      <span id="cb2-87"><a href="#cb2-87" aria-hidden="true"></a>      <span class="kw">&lt;/form&gt;</span></span>
      <span id="cb2-88"><a href="#cb2-88" aria-hidden="true"></a>    <span class="kw">&lt;/div&gt;</span></span>
      <span id="cb2-89"><a href="#cb2-89" aria-hidden="true"></a>    <span class="kw">&lt;main&gt;</span></span>
      <span id="cb2-90"><a href="#cb2-90" aria-hidden="true"></a>      <span class="kw">&lt;h2&gt;</span>Add a category<span class="kw">&lt;/h2&gt;</span></span>
      <span id="cb2-91"><a href="#cb2-91" aria-hidden="true"></a>      <span class="kw">&lt;form</span></span>
      <span id="cb2-92"><a href="#cb2-92" aria-hidden="true"></a><span class="ot">        class=</span><span class="st">&quot;form-category&quot;</span></span>
      <span id="cb2-93"><a href="#cb2-93" aria-hidden="true"></a><span class="ot">        id=</span><span class="st">&quot;category-add&quot;</span></span>
      <span id="cb2-94"><a href="#cb2-94" aria-hidden="true"></a><span class="ot">        action=</span><span class="st">&quot;/CategoryAdd&quot;</span></span>
      <span id="cb2-95"><a href="#cb2-95" aria-hidden="true"></a><span class="ot">        method=</span><span class="st">&quot;post&quot;</span></span>
      <span id="cb2-96"><a href="#cb2-96" aria-hidden="true"></a>      <span class="kw">&gt;</span></span>
      <span id="cb2-97"><a href="#cb2-97" aria-hidden="true"></a>        <span class="kw">&lt;label</span><span class="ot"> id=</span><span class="st">&quot;label-category-name&quot;</span><span class="ot"> for=</span><span class="st">&quot;input-category-name&quot;</span><span class="kw">&gt;</span>Name<span class="kw">&lt;/label&gt;</span></span>
      <span id="cb2-98"><a href="#cb2-98" aria-hidden="true"></a>        <span class="kw">&lt;input</span><span class="ot"> id=</span><span class="st">&quot;input-category-name&quot;</span><span class="ot"> type=</span><span class="st">&quot;text&quot;</span><span class="ot"> name=</span><span class="st">&quot;categoryName&quot;</span><span class="ot"> required</span> <span class="kw">/&gt;</span></span>
      <span id="cb2-99"><a href="#cb2-99" aria-hidden="true"></a>        <span class="kw">&lt;label</span><span class="ot"> id=</span><span class="st">&quot;label-category-description&quot;</span><span class="ot"> for=</span><span class="st">&quot;input-category-description&quot;</span><span class="kw">&gt;</span>Description<span class="kw">&lt;/label&gt;</span></span>
      <span id="cb2-100"><a href="#cb2-100" aria-hidden="true"></a>        <span class="kw">&lt;textarea</span></span>
      <span id="cb2-101"><a href="#cb2-101" aria-hidden="true"></a><span class="ot">          id=</span><span class="st">&quot;input-category-description&quot;</span></span>
      <span id="cb2-102"><a href="#cb2-102" aria-hidden="true"></a><span class="ot">          name=</span><span class="st">&quot;categoryDescription&quot;</span></span>
      <span id="cb2-103"><a href="#cb2-103" aria-hidden="true"></a>        <span class="kw">&gt;&lt;/textarea&gt;</span></span>
      <span id="cb2-104"><a href="#cb2-104" aria-hidden="true"></a>        <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;form-actions&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb2-105"><a href="#cb2-105" aria-hidden="true"></a>          <span class="kw">&lt;button</span><span class="ot"> class=</span><span class="st">&quot;cancel&quot;</span><span class="ot"> onclick=</span><span class="st">&quot;history.back()&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb2-106"><a href="#cb2-106" aria-hidden="true"></a>            <span class="kw">&lt;i</span><span class="ot"> class=</span><span class="st">&quot;fa-solid fa-arrow-left&quot;</span><span class="kw">&gt;&lt;/i&gt;</span></span>
      <span id="cb2-107"><a href="#cb2-107" aria-hidden="true"></a>          <span class="kw">&lt;/button&gt;</span></span>
      <span id="cb2-108"><a href="#cb2-108" aria-hidden="true"></a>          <span class="kw">&lt;button</span><span class="ot"> type=</span><span class="st">&quot;reset&quot;</span><span class="ot"> class=</span><span class="st">&quot;reset&quot;</span><span class="kw">&gt;</span>Reset<span class="kw">&lt;/button&gt;</span></span>
      <span id="cb2-109"><a href="#cb2-109" aria-hidden="true"></a>          <span class="kw">&lt;button</span><span class="ot"> class=</span><span class="st">&quot;add&quot;</span><span class="ot"> type=</span><span class="st">&quot;submit&quot;</span><span class="kw">&gt;</span>Add a category<span class="kw">&lt;/button&gt;</span></span>
      <span id="cb2-110"><a href="#cb2-110" aria-hidden="true"></a>        <span class="kw">&lt;/div&gt;</span></span>
      <span id="cb2-111"><a href="#cb2-111" aria-hidden="true"></a>      <span class="kw">&lt;/form&gt;</span></span>
      <span id="cb2-112"><a href="#cb2-112" aria-hidden="true"></a>    <span class="kw">&lt;/main&gt;</span></span>
      <span id="cb2-113"><a href="#cb2-113" aria-hidden="true"></a>    <span class="kw">&lt;footer</span><span class="ot"> style=</span><span class="st">&quot;clear: both&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb2-114"><a href="#cb2-114" aria-hidden="true"></a>      <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;toggle&quot;</span><span class="ot"> id=</span><span class="st">&quot;toggleCategory&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb2-115"><a href="#cb2-115" aria-hidden="true"></a>        <span class="kw">&lt;button</span><span class="ot"> onclick=</span><span class="st">&quot;disableScroll()&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb2-116"><a href="#cb2-116" aria-hidden="true"></a>          <span class="kw">&lt;i</span><span class="ot"> class=</span><span class="st">&quot;fa-solid fa-bars open&quot;</span><span class="kw">&gt;&lt;/i&gt;</span></span>
      <span id="cb2-117"><a href="#cb2-117" aria-hidden="true"></a>        <span class="kw">&lt;/button&gt;</span></span>
      <span id="cb2-118"><a href="#cb2-118" aria-hidden="true"></a>        <span class="kw">&lt;button</span><span class="ot"> onclick=</span><span class="st">&quot;enableScroll()&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb2-119"><a href="#cb2-119" aria-hidden="true"></a>          <span class="kw">&lt;i</span><span class="ot"> class=</span><span class="st">&quot;fa-solid fa-xmark close&quot;</span><span class="kw">&gt;&lt;/i&gt;</span></span>
      <span id="cb2-120"><a href="#cb2-120" aria-hidden="true"></a>        <span class="kw">&lt;/button&gt;</span></span>
      <span id="cb2-121"><a href="#cb2-121" aria-hidden="true"></a>      <span class="kw">&lt;/div&gt;</span></span>
      <span id="cb2-122"><a href="#cb2-122" aria-hidden="true"></a>      <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;toggle&quot;</span><span class="ot"> id=</span><span class="st">&quot;toggleUser&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb2-123"><a href="#cb2-123" aria-hidden="true"></a>        <span class="kw">&lt;button</span><span class="ot"> onclick=</span><span class="st">&quot;disableScroll()&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb2-124"><a href="#cb2-124" aria-hidden="true"></a>          <span class="kw">&lt;i</span><span class="ot"> class=</span><span class="st">&quot;fa-solid fa-user open&quot;</span><span class="kw">&gt;&lt;/i&gt;</span></span>
      <span id="cb2-125"><a href="#cb2-125" aria-hidden="true"></a>        <span class="kw">&lt;/button&gt;</span></span>
      <span id="cb2-126"><a href="#cb2-126" aria-hidden="true"></a>        <span class="kw">&lt;button</span><span class="ot"> onclick=</span><span class="st">&quot;enableScroll()&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb2-127"><a href="#cb2-127" aria-hidden="true"></a>          <span class="kw">&lt;i</span><span class="ot"> class=</span><span class="st">&quot;fa-solid fa-xmark close&quot;</span><span class="kw">&gt;&lt;/i&gt;</span></span>
      <span id="cb2-128"><a href="#cb2-128" aria-hidden="true"></a>        <span class="kw">&lt;/button&gt;</span></span>
      <span id="cb2-129"><a href="#cb2-129" aria-hidden="true"></a>      <span class="kw">&lt;/div&gt;</span></span>
      <span id="cb2-130"><a href="#cb2-130" aria-hidden="true"></a>      <span class="kw">&lt;ul&gt;</span></span>
      <span id="cb2-131"><a href="#cb2-131" aria-hidden="true"></a>        <span class="kw">&lt;li&gt;</span>Version: 0.5.0<span class="kw">&lt;/li&gt;</span></span>
      <span id="cb2-132"><a href="#cb2-132" aria-hidden="true"></a>        <span class="kw">&lt;li&gt;</span>Release date: 2022-09-22<span class="kw">&lt;/li&gt;</span></span>
      <span id="cb2-133"><a href="#cb2-133" aria-hidden="true"></a>      <span class="kw">&lt;/ul&gt;</span></span>
      <span id="cb2-134"><a href="#cb2-134" aria-hidden="true"></a>    <span class="kw">&lt;/footer&gt;</span></span>
      <span id="cb2-135"><a href="#cb2-135" aria-hidden="true"></a><span class="co">&lt;!-- Debug --&gt;</span></span>
      <span id="cb2-136"><a href="#cb2-136" aria-hidden="true"></a>    <span class="kw">&lt;script</span><span class="ot"> type=</span><span class="st">&quot;text/javascript&quot;</span><span class="ot"> src=</span><span class="st">&quot;/www/js/dev.js&quot;</span><span class="ot"> async defer</span><span class="kw">&gt;&lt;/script&gt;</span></span>
      <span id="cb2-137"><a href="#cb2-137" aria-hidden="true"></a>  <span class="kw">&lt;/body&gt;</span></span>
      <span id="cb2-138"><a href="#cb2-138" aria-hidden="true"></a><span class="kw">&lt;/html&gt;</span></span></code></pre></div>
      <!-- cSpell:enable -->
      <h5 id="css-sass">7.1.1.2. CSS / SASS<!-- OK --></h5>
      <p>Les <strong>feuilles de style en cascade</strong>, abrégé CSS de l’anglais Cascading Style Sheets, est un <strong>langage de description</strong> de la présentation des documents HTML et XML. Les standards définissant CSS sont publiés par le World Wide Web Consortium (W3C).</p>
      <p>Le <strong>Sass</strong> (Syntactically awesome stylesheets) est un <strong>langage de script préprocesseur</strong> qui est compilé ou <strong>interprété en CSS</strong> (Cascading Style Sheets). C’est qu’on appelle un <strong>métalangage imbriqué</strong>, car un CSS valide est un SCSS valide sans modification de syntaxe.</p>
      <p>Il permet d’utiliser une syntaxe (SCSS dans sa nouvelle version) qui utilise les mêmes séparateurs de blocs que le CSS mais en fournissant les mécanismes supplémentaires suivants : variables, imbrication, mixins et héritage des sélecteurs.</p>
      <p>Voici en exemple le fichier <code>welcome.css</code>, responsable de l’affichage de l’animation de la <strong>landing page</strong> :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb3"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a></span>
      <span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a><span class="fu">.little-cube</span> {</span>
      <span id="cb3-3"><a href="#cb3-3" aria-hidden="true"></a>  <span class="kw">height</span>: <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
      <span id="cb3-4"><a href="#cb3-4" aria-hidden="true"></a>  <span class="kw">width</span>: <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
      <span id="cb3-5"><a href="#cb3-5" aria-hidden="true"></a>  <span class="kw">margin</span>: <span class="dv">1</span><span class="dt">px</span><span class="op">;</span></span>
      <span id="cb3-6"><a href="#cb3-6" aria-hidden="true"></a>  <span class="kw">top</span>: <span class="dv">70</span><span class="dt">px</span><span class="op">;</span></span>
      <span id="cb3-7"><a href="#cb3-7" aria-hidden="true"></a>  <span class="co">/* Trigger animation (8s) once with slow start/stop */</span></span>
      <span id="cb3-8"><a href="#cb3-8" aria-hidden="true"></a>  <span class="kw">animation</span>: move-little-cube <span class="dv">8</span><span class="dt">s</span> <span class="dv">1</span> <span class="dv">ease-in-out</span><span class="op">;</span></span>
      <span id="cb3-9"><a href="#cb3-9" aria-hidden="true"></a>}</span>
      <span id="cb3-10"><a href="#cb3-10" aria-hidden="true"></a></span>
      <span id="cb3-11"><a href="#cb3-11" aria-hidden="true"></a><span class="fu">...</span></span>
      <span id="cb3-12"><a href="#cb3-12" aria-hidden="true"></a></span>
      <span id="cb3-13"><a href="#cb3-13" aria-hidden="true"></a> <span class="co">/* Key part of the animation */</span></span>
      <span id="cb3-14"><a href="#cb3-14" aria-hidden="true"></a><span class="im">@keyframes</span> move-little-cube {</span>
      <span id="cb3-15"><a href="#cb3-15" aria-hidden="true"></a>  <span class="dv">0%</span> {</span>
      <span id="cb3-16"><a href="#cb3-16" aria-hidden="true"></a>    <span class="kw">top</span>: <span class="dv">-370</span><span class="dt">px</span><span class="op">;</span></span>
      <span id="cb3-17"><a href="#cb3-17" aria-hidden="true"></a>  }</span>
      <span id="cb3-18"><a href="#cb3-18" aria-hidden="true"></a>  <span class="dv">100%</span> {</span>
      <span id="cb3-19"><a href="#cb3-19" aria-hidden="true"></a>    <span class="kw">top</span>: <span class="dv">70</span><span class="dt">px</span><span class="op">;</span></span>
      <span id="cb3-20"><a href="#cb3-20" aria-hidden="true"></a>    <span class="kw">margin</span>: <span class="dv">0</span><span class="dt">%</span><span class="op">;</span></span>
      <span id="cb3-21"><a href="#cb3-21" aria-hidden="true"></a>  }</span>
      <span id="cb3-22"><a href="#cb3-22" aria-hidden="true"></a>}</span></code></pre></div>
      <!-- cSpell:enable -->
      <h5 id="javascript">7.1.1.3. JavaScript<!-- OK --></h5>
      <p><strong>JavaScript</strong> est un <strong>langage de programmation</strong> de scripts principalement employé dans les pages web interactives et à ce titre est une partie essentielle des applications web. Il est également employé pour les serveurs Web avec l’utilisation par exemple de Node.js (Cf. <a href="#722-revealjs">reveal.js</a>).</p>
      <p>C’est un langage <strong>orienté objet à prototype</strong> : les bases du langage et ses principales interfaces sont fournies par des objets. C’est un langage extrêmement populaire, possédant le plus large écosystème grâce à son gestionnaire de dépendances npm.</p>
      <p>js -&gt; dev.js (context = mettre et enlever des classes sur le body afin de modifier le style de l’affichage en jouant avec les classes que contient le body).</p>
      <p>La couche applicative du front-end est volontairement légère, de manière a limiter les exécutions côté client. Voici néanmoins un extrait du fichier <code>dev.js</code>, qui permet d’intervenir sur le Document Object Model du HTML :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a></span>
      <span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a><span class="kw">function</span> <span class="fu">openUser</span>() {</span>
      <span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a>  <span class="co">// Removed conflicting classes</span></span>
      <span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a>  body<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">&#39;openCategory&#39;</span>)<span class="op">;</span></span>
      <span id="cb4-5"><a href="#cb4-5" aria-hidden="true"></a>  body<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">&#39;openSearch&#39;</span>)<span class="op">;</span></span>
      <span id="cb4-6"><a href="#cb4-6" aria-hidden="true"></a>  <span class="co">// Add &#39;openUser&#39; class</span></span>
      <span id="cb4-7"><a href="#cb4-7" aria-hidden="true"></a>  body<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">toggle</span>(<span class="st">&#39;openUser&#39;</span>)<span class="op">;</span></span>
      <span id="cb4-8"><a href="#cb4-8" aria-hidden="true"></a>  <span class="co">// Check body contains &#39;openUser&#39;</span></span>
      <span id="cb4-9"><a href="#cb4-9" aria-hidden="true"></a>  <span class="cf">if</span>(body<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">contains</span>(<span class="st">&#39;openUser&#39;</span>)<span class="op">===</span> <span class="kw">true</span>) {</span>
      <span id="cb4-10"><a href="#cb4-10" aria-hidden="true"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(body<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">contains</span>(<span class="st">&#39;openUser&#39;</span>))<span class="op">;</span></span>
      <span id="cb4-11"><a href="#cb4-11" aria-hidden="true"></a>  }</span>
      <span id="cb4-12"><a href="#cb4-12" aria-hidden="true"></a>}</span></code></pre></div>
      <!-- cSpell:enable -->
      <h4 id="back-end">7.1.2. Back-end<!-- OK --></h4>
      <p>Nous avons choisi d’utiliser Java, JSP, JSTL et SQL pour le back-end d’une application web basée sur le modèle MVC (Model-View-Controller) pour les raisons suivantes :</p>
      <ul>
      <li><strong>Robustesse</strong> : Java est un langage de programmation populaire et robuste qui offre une grande flexibilité et une forte sécurité, il est donc idéal pour construire des applications de grande envergure.</li>
      <li><strong>Plateforme indépendante</strong> : Java est une plateforme indépendante, cela permet de déployer l’application sur différentes plateformes telles que Windows, MacOS et Linux.</li>
      <li><strong>Intégration facile avec les bases de données</strong> : Java offre un accès facile aux bases de données via JDBC (Java Database Connectivity) pour gérer les données de l’application.</li>
      <li><strong>Respect du modèle</strong> : Java, JSP et JSTL sont tous compatibles avec l’architecture MVC, qui permet de séparer les différentes couches de l’application (modèle, vue et contrôleur) pour une meilleure organisation et une maintenance plus facile.</li>
      <li><strong>JSP</strong> : JSP permet de générer dynamiquement des pages web en se basant sur des modèles prédéfinis.</li>
      <li><strong>JSTL</strong> : JSTL facilite la manipulation des données dans les JSP. Il permet de définir des logiques dans les pages web, pour rendre les pages plus dynamiques.</li>
      </ul>
      <p>En somme, Java, JSP, JSTL et SQL sont des <strong>technologies éprouvées</strong> qui permettent de construire des applications web <strong>robustes</strong>, <strong>fiables</strong>, <strong>performantes</strong>, et <strong>facile à maintenir</strong>.</p>
      <p>Java permet de gérer les logiques métiers, JSP et JSTL de générer les pages web dynamiques, et SQL de gérer les données de l’application.</p>
      <p>Ces technologies sont particulièrement <strong>adaptées à une architecture MVC</strong>, et permettent de faciliter la gestion des données et la génération de pages web dynamiques.</p>
      <h5 id="java">7.1.2.1. Java<!-- OK --></h5>
      <p>Java est un <strong>langage de programmation orienté objet</strong> de haut niveau, basé sur des classes, conçu pour avoir le moins de dépendances d’implémentation possible.</p>
      <p>Une particularité de Java est que les logiciels écrits dans ce langage sont <strong>compilés vers une représentation binaire</strong> intermédiaire qui peut être <strong>exécutée dans une machine virtuelle Java</strong> (JVM) en faisant abstraction du système d’exploitation.</p>
      <p>Java permet de développer des applications client-serveur. Côté client, les applets sont à l’origine de la notoriété du langage. C’est surtout côté serveur que Java s’est imposé dans le milieu de l’entreprise grâce aux <strong>servlets</strong>, le pendant serveur des applets, et plus récemment les <strong>JSP</strong> (JavaServer Pages) qui peuvent se substituer à PHP, ASP et ASP.NET.</p>
      <p>Voici en exemple le ficher <code>CategoryInfo.java</code>, constituant une partie le code du servlet exécuté le serveur lors du traitement d’une requête sur l’url <code>/CategoryInfo</code> :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb5"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a></span>
      <span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a><span class="kw">package</span><span class="im"> servlet.category;</span></span>
      <span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a></span>
      <span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a><span class="kw">import</span><span class="im"> java.io.IOException;</span></span>
      <span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a><span class="kw">import</span><span class="im"> java.sql.SQLException;</span></span>
      <span id="cb5-6"><a href="#cb5-6" aria-hidden="true"></a><span class="kw">import</span><span class="im"> java.util.ArrayList;</span></span>
      <span id="cb5-7"><a href="#cb5-7" aria-hidden="true"></a><span class="kw">import</span><span class="im"> java.util.List;</span></span>
      <span id="cb5-8"><a href="#cb5-8" aria-hidden="true"></a><span class="kw">import</span><span class="im"> java.util.logging.Level;</span></span>
      <span id="cb5-9"><a href="#cb5-9" aria-hidden="true"></a><span class="kw">import</span><span class="im"> java.util.logging.Logger;</span></span>
      <span id="cb5-10"><a href="#cb5-10" aria-hidden="true"></a><span class="kw">import</span><span class="im"> javax.servlet.http.HttpServlet;</span></span>
      <span id="cb5-11"><a href="#cb5-11" aria-hidden="true"></a><span class="kw">import</span><span class="im"> javax.servlet.http.HttpServletRequest;</span></span>
      <span id="cb5-12"><a href="#cb5-12" aria-hidden="true"></a><span class="kw">import</span><span class="im"> javax.servlet.http.HttpServletResponse;</span></span>
      <span id="cb5-13"><a href="#cb5-13" aria-hidden="true"></a><span class="kw">import</span><span class="im"> javax.servlet.http.HttpSession;</span></span>
      <span id="cb5-14"><a href="#cb5-14" aria-hidden="true"></a><span class="kw">import</span><span class="im"> javax.servlet.ServletException;</span></span>
      <span id="cb5-15"><a href="#cb5-15" aria-hidden="true"></a></span>
      <span id="cb5-16"><a href="#cb5-16" aria-hidden="true"></a><span class="kw">import</span><span class="im"> app.jdbc.dao.CategoryDAO;</span></span>
      <span id="cb5-17"><a href="#cb5-17" aria-hidden="true"></a><span class="kw">import</span><span class="im"> app.jdbc.dao.ProductDAO;</span></span>
      <span id="cb5-18"><a href="#cb5-18" aria-hidden="true"></a><span class="kw">import</span><span class="im"> app.model.Category;</span></span>
      <span id="cb5-19"><a href="#cb5-19" aria-hidden="true"></a><span class="kw">import</span><span class="im"> app.model.Product;</span></span>
      <span id="cb5-20"><a href="#cb5-20" aria-hidden="true"></a><span class="kw">import</span><span class="im"> app.model.User;</span></span>
      <span id="cb5-21"><a href="#cb5-21" aria-hidden="true"></a></span>
      <span id="cb5-22"><a href="#cb5-22" aria-hidden="true"></a><span class="kw">public</span> <span class="kw">class</span> CategoryInfo <span class="kw">extends</span> HttpServlet {</span>
      <span id="cb5-23"><a href="#cb5-23" aria-hidden="true"></a></span>
      <span id="cb5-24"><a href="#cb5-24" aria-hidden="true"></a>  <span class="kw">private</span> <span class="dt">static</span> <span class="dt">final</span> <span class="dt">long</span> serialVersionUID = <span class="dv">1L</span>;</span>
      <span id="cb5-25"><a href="#cb5-25" aria-hidden="true"></a>  <span class="kw">private</span> <span class="dt">static</span> <span class="dt">final</span> <span class="bu">Logger</span> log = <span class="bu">Logger</span>.<span class="fu">getLogger</span>(<span class="bu">Thread</span>.<span class="fu">currentThread</span>().<span class="fu">getStackTrace</span>()[<span class="dv">1</span>].<span class="fu">getClassName</span>());</span>
      <span id="cb5-26"><a href="#cb5-26" aria-hidden="true"></a></span>
      <span id="cb5-27"><a href="#cb5-27" aria-hidden="true"></a>  <span class="kw">private</span> Category category = <span class="kw">new</span> <span class="fu">Category</span>();</span>
      <span id="cb5-28"><a href="#cb5-28" aria-hidden="true"></a></span>
      <span id="cb5-29"><a href="#cb5-29" aria-hidden="true"></a>  <span class="co">/*</span></span>
      <span id="cb5-30"><a href="#cb5-30" aria-hidden="true"></a><span class="co">   * (non-Javadoc)</span></span>
      <span id="cb5-31"><a href="#cb5-31" aria-hidden="true"></a><span class="co">   * </span></span>
      <span id="cb5-32"><a href="#cb5-32" aria-hidden="true"></a><span class="co">   * @see javax.servlet.GenericServlet#init()</span></span>
      <span id="cb5-33"><a href="#cb5-33" aria-hidden="true"></a><span class="co">   */</span></span>
      <span id="cb5-34"><a href="#cb5-34" aria-hidden="true"></a>  <span class="at">@Override</span></span>
      <span id="cb5-35"><a href="#cb5-35" aria-hidden="true"></a>  <span class="kw">public</span> <span class="dt">void</span> <span class="fu">init</span>() <span class="kw">throws</span> ServletException {</span>
      <span id="cb5-36"><a href="#cb5-36" aria-hidden="true"></a>    <span class="co">// Do initialization</span></span>
      <span id="cb5-37"><a href="#cb5-37" aria-hidden="true"></a>    log.<span class="fu">info</span>(<span class="st">&quot;Done&quot;</span>);</span>
      <span id="cb5-38"><a href="#cb5-38" aria-hidden="true"></a>  }</span>
      <span id="cb5-39"><a href="#cb5-39" aria-hidden="true"></a></span>
      <span id="cb5-40"><a href="#cb5-40" aria-hidden="true"></a>  <span class="co">/*</span></span>
      <span id="cb5-41"><a href="#cb5-41" aria-hidden="true"></a><span class="co">   * (non-Javadoc)</span></span>
      <span id="cb5-42"><a href="#cb5-42" aria-hidden="true"></a><span class="co">   * </span></span>
      <span id="cb5-43"><a href="#cb5-43" aria-hidden="true"></a><span class="co">   * @see</span></span>
      <span id="cb5-44"><a href="#cb5-44" aria-hidden="true"></a><span class="co">   * javax.servlet.http.HttpServlet#doGet(javax.servlet.http.HttpServletRequest,</span></span>
      <span id="cb5-45"><a href="#cb5-45" aria-hidden="true"></a><span class="co">   * javax.servlet.http.HttpServletResponse)</span></span>
      <span id="cb5-46"><a href="#cb5-46" aria-hidden="true"></a><span class="co">   */</span></span>
      <span id="cb5-47"><a href="#cb5-47" aria-hidden="true"></a>  <span class="at">@Override</span></span>
      <span id="cb5-48"><a href="#cb5-48" aria-hidden="true"></a>  <span class="kw">protected</span> <span class="dt">void</span> <span class="fu">doGet</span>(HttpServletRequest request, HttpServletResponse response)</span>
      <span id="cb5-49"><a href="#cb5-49" aria-hidden="true"></a>      <span class="kw">throws</span> ServletException, <span class="bu">IOException</span> {</span>
      <span id="cb5-50"><a href="#cb5-50" aria-hidden="true"></a></span>
      <span id="cb5-51"><a href="#cb5-51" aria-hidden="true"></a>    <span class="co">// Retrieve session</span></span>
      <span id="cb5-52"><a href="#cb5-52" aria-hidden="true"></a>    HttpSession session = request.<span class="fu">getSession</span>(<span class="kw">false</span>);</span>
      <span id="cb5-53"><a href="#cb5-53" aria-hidden="true"></a></span>
      <span id="cb5-54"><a href="#cb5-54" aria-hidden="true"></a>    <span class="co">// Retrieve user from session</span></span>
      <span id="cb5-55"><a href="#cb5-55" aria-hidden="true"></a>    User user = (User) session.<span class="fu">getAttribute</span>(<span class="st">&quot;user&quot;</span>);</span>
      <span id="cb5-56"><a href="#cb5-56" aria-hidden="true"></a></span>
      <span id="cb5-57"><a href="#cb5-57" aria-hidden="true"></a>    <span class="co">// Retrieve category from request parameter</span></span>
      <span id="cb5-58"><a href="#cb5-58" aria-hidden="true"></a>    <span class="kw">try</span> (CategoryDAO DAO = <span class="kw">new</span> <span class="fu">CategoryDAO</span>();) {</span>
      <span id="cb5-59"><a href="#cb5-59" aria-hidden="true"></a>      <span class="dt">int</span> id = <span class="bu">Integer</span>.<span class="fu">parseInt</span>(request.<span class="fu">getParameter</span>(<span class="st">&quot;categoryId&quot;</span>));</span>
      <span id="cb5-60"><a href="#cb5-60" aria-hidden="true"></a>      category = DAO.<span class="fu">getCategoryById</span>(id);</span>
      <span id="cb5-61"><a href="#cb5-61" aria-hidden="true"></a>    } <span class="kw">catch</span> (<span class="bu">SQLException</span> e) {</span>
      <span id="cb5-62"><a href="#cb5-62" aria-hidden="true"></a>      <span class="co">// </span><span class="al">TODO</span><span class="co"> Auto-generated catch block</span></span>
      <span id="cb5-63"><a href="#cb5-63" aria-hidden="true"></a>      log.<span class="fu">log</span>(<span class="bu">Level</span>.<span class="fu">SEVERE</span>, <span class="st">&quot;Error getting category&quot;</span>, e);</span>
      <span id="cb5-64"><a href="#cb5-64" aria-hidden="true"></a>      e.<span class="fu">printStackTrace</span>();</span>
      <span id="cb5-65"><a href="#cb5-65" aria-hidden="true"></a>      category = <span class="kw">null</span>;</span>
      <span id="cb5-66"><a href="#cb5-66" aria-hidden="true"></a>    } <span class="kw">catch</span> (<span class="bu">Exception</span> e) { <span class="co">// Catch block for java.lang.AutoCloseable#close() throw.</span></span>
      <span id="cb5-67"><a href="#cb5-67" aria-hidden="true"></a>      log.<span class="fu">log</span>(<span class="bu">Level</span>.<span class="fu">SEVERE</span>, <span class="kw">null</span>, e.<span class="fu">getMessage</span>());</span>
      <span id="cb5-68"><a href="#cb5-68" aria-hidden="true"></a>      e.<span class="fu">printStackTrace</span>();</span>
      <span id="cb5-69"><a href="#cb5-69" aria-hidden="true"></a>    }</span>
      <span id="cb5-70"><a href="#cb5-70" aria-hidden="true"></a></span>
      <span id="cb5-71"><a href="#cb5-71" aria-hidden="true"></a>    <span class="co">// Retrieve list of products</span></span>
      <span id="cb5-72"><a href="#cb5-72" aria-hidden="true"></a>    <span class="bu">List</span>&lt;Product&gt; productList = <span class="kw">new</span> <span class="bu">ArrayList</span>&lt;&gt;();</span>
      <span id="cb5-73"><a href="#cb5-73" aria-hidden="true"></a>    <span class="bu">Integer</span> categoryId = <span class="bu">Integer</span>.<span class="fu">parseInt</span>(request.<span class="fu">getParameter</span>(<span class="st">&quot;categoryId&quot;</span>));</span>
      <span id="cb5-74"><a href="#cb5-74" aria-hidden="true"></a>    <span class="kw">try</span> (ProductDAO DAO = <span class="kw">new</span> <span class="fu">ProductDAO</span>();) {</span>
      <span id="cb5-75"><a href="#cb5-75" aria-hidden="true"></a>      productList = DAO.<span class="fu">getProductsByCategory</span>(user.<span class="fu">getId</span>(), categoryId);</span>
      <span id="cb5-76"><a href="#cb5-76" aria-hidden="true"></a>    } <span class="kw">catch</span> (<span class="bu">SQLException</span> e) {</span>
      <span id="cb5-77"><a href="#cb5-77" aria-hidden="true"></a>      log.<span class="fu">log</span>(<span class="bu">Level</span>.<span class="fu">SEVERE</span>, <span class="st">&quot;Error getting products&quot;</span>, e);</span>
      <span id="cb5-78"><a href="#cb5-78" aria-hidden="true"></a>      e.<span class="fu">printStackTrace</span>();</span>
      <span id="cb5-79"><a href="#cb5-79" aria-hidden="true"></a>      productList = <span class="kw">null</span>;</span>
      <span id="cb5-80"><a href="#cb5-80" aria-hidden="true"></a>    } <span class="kw">catch</span> (<span class="bu">Exception</span> e) {</span>
      <span id="cb5-81"><a href="#cb5-81" aria-hidden="true"></a>      <span class="co">// </span><span class="al">TODO</span><span class="co"> Auto-generated catch block for java.lang.AutoCloseable#close() throw.</span></span>
      <span id="cb5-82"><a href="#cb5-82" aria-hidden="true"></a>      log.<span class="fu">log</span>(<span class="bu">Level</span>.<span class="fu">SEVERE</span>, <span class="kw">null</span>, e.<span class="fu">getMessage</span>());</span>
      <span id="cb5-83"><a href="#cb5-83" aria-hidden="true"></a>      e.<span class="fu">printStackTrace</span>();</span>
      <span id="cb5-84"><a href="#cb5-84" aria-hidden="true"></a>    }</span>
      <span id="cb5-85"><a href="#cb5-85" aria-hidden="true"></a></span>
      <span id="cb5-86"><a href="#cb5-86" aria-hidden="true"></a>    <span class="co">// Set attributes to request</span></span>
      <span id="cb5-87"><a href="#cb5-87" aria-hidden="true"></a>    request.<span class="fu">setAttribute</span>(<span class="st">&quot;productList&quot;</span>, productList);</span>
      <span id="cb5-88"><a href="#cb5-88" aria-hidden="true"></a>    request.<span class="fu">setAttribute</span>(<span class="st">&quot;category&quot;</span>, category);</span>
      <span id="cb5-89"><a href="#cb5-89" aria-hidden="true"></a></span>
      <span id="cb5-90"><a href="#cb5-90" aria-hidden="true"></a>    <span class="co">// Dispatch view and forward request</span></span>
      <span id="cb5-91"><a href="#cb5-91" aria-hidden="true"></a>    request.<span class="fu">getRequestDispatcher</span>(<span class="st">&quot;/WEB-INF/views/category/CategoryInfo.jsp&quot;</span>).<span class="fu">forward</span>(request, response);</span>
      <span id="cb5-92"><a href="#cb5-92" aria-hidden="true"></a></span>
      <span id="cb5-93"><a href="#cb5-93" aria-hidden="true"></a>    log.<span class="fu">info</span>(<span class="st">&quot;Done&quot;</span>);</span>
      <span id="cb5-94"><a href="#cb5-94" aria-hidden="true"></a>  }</span>
      <span id="cb5-95"><a href="#cb5-95" aria-hidden="true"></a></span>
      <span id="cb5-96"><a href="#cb5-96" aria-hidden="true"></a>  <span class="co">/*</span></span>
      <span id="cb5-97"><a href="#cb5-97" aria-hidden="true"></a><span class="co">   * (non-Javadoc)</span></span>
      <span id="cb5-98"><a href="#cb5-98" aria-hidden="true"></a><span class="co">   * </span></span>
      <span id="cb5-99"><a href="#cb5-99" aria-hidden="true"></a><span class="co">   * @see</span></span>
      <span id="cb5-100"><a href="#cb5-100" aria-hidden="true"></a><span class="co">   * javax.servlet.http.HttpServlet#doPost(javax.servlet.http.HttpServletRequest,</span></span>
      <span id="cb5-101"><a href="#cb5-101" aria-hidden="true"></a><span class="co">   * javax.servlet.http.HttpServletResponse)</span></span>
      <span id="cb5-102"><a href="#cb5-102" aria-hidden="true"></a><span class="co">   */</span></span>
      <span id="cb5-103"><a href="#cb5-103" aria-hidden="true"></a>  <span class="at">@Override</span></span>
      <span id="cb5-104"><a href="#cb5-104" aria-hidden="true"></a>  <span class="kw">protected</span> <span class="dt">void</span> <span class="fu">doPost</span>(HttpServletRequest request, HttpServletResponse response)</span>
      <span id="cb5-105"><a href="#cb5-105" aria-hidden="true"></a>      <span class="kw">throws</span> ServletException, <span class="bu">IOException</span> {</span>
      <span id="cb5-106"><a href="#cb5-106" aria-hidden="true"></a></span>
      <span id="cb5-107"><a href="#cb5-107" aria-hidden="true"></a>    <span class="co">// Do post</span></span>
      <span id="cb5-108"><a href="#cb5-108" aria-hidden="true"></a>    log.<span class="fu">info</span>(<span class="st">&quot;Done&quot;</span>);</span>
      <span id="cb5-109"><a href="#cb5-109" aria-hidden="true"></a>  }</span>
      <span id="cb5-110"><a href="#cb5-110" aria-hidden="true"></a></span>
      <span id="cb5-111"><a href="#cb5-111" aria-hidden="true"></a>  <span class="co">/*</span></span>
      <span id="cb5-112"><a href="#cb5-112" aria-hidden="true"></a><span class="co">   * (non-Javadoc)</span></span>
      <span id="cb5-113"><a href="#cb5-113" aria-hidden="true"></a><span class="co">   * </span></span>
      <span id="cb5-114"><a href="#cb5-114" aria-hidden="true"></a><span class="co">   * @see javax.servlet.GenericServlet#destroy()</span></span>
      <span id="cb5-115"><a href="#cb5-115" aria-hidden="true"></a><span class="co">   */</span></span>
      <span id="cb5-116"><a href="#cb5-116" aria-hidden="true"></a>  <span class="at">@Override</span></span>
      <span id="cb5-117"><a href="#cb5-117" aria-hidden="true"></a>  <span class="kw">public</span> <span class="dt">void</span> <span class="fu">destroy</span>() {</span>
      <span id="cb5-118"><a href="#cb5-118" aria-hidden="true"></a>    <span class="co">// Do clean up</span></span>
      <span id="cb5-119"><a href="#cb5-119" aria-hidden="true"></a>    log.<span class="fu">info</span>(<span class="st">&quot;Done&quot;</span>);</span>
      <span id="cb5-120"><a href="#cb5-120" aria-hidden="true"></a>  }</span>
      <span id="cb5-121"><a href="#cb5-121" aria-hidden="true"></a></span>
      <span id="cb5-122"><a href="#cb5-122" aria-hidden="true"></a>}</span></code></pre></div>
      <!-- cSpell:enable -->
      <h5 id="jsp">7.1.2.2. JSP<!-- OK --></h5>
      <p><strong>Jakarta Server Pages</strong> (anciennement JavaServer Pages) ou JSP est une collection de technologies qui permet aux développeurs de <strong>créer dynamiquement du code HTML</strong>, XML, SOAP ou tout autre type de page web. JSP est semblable a PHP ou ASP, mais pour le langage de programmation Java.</p>
      <p>Voici en exemple le fichier <code>CategoryInfo.jsp</code> (utilisé comme fichier de vue par <code>CategoryInfo.java</code> de notre exemple précédent), qui est utilisé pour produire le code de la page HTML renvoyée à l’utilisateur.</p>
      <p>Veuillez également noter l’utilisation de la balise <code>&lt;jsp:include&gt;</code> afin d’agréger les différents éléments constitutifs de la page complète :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb6"><pre class="sourceCode jsp"><code class="sourceCode jsp"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a></span>
      <span id="cb6-2"><a href="#cb6-2" aria-hidden="true"></a><span class="bu">&lt;%@ taglib</span><span class="ot"> uri</span>=<span class="st">&quot;http://java.sun.com/jsp/jstl/core&quot;</span><span class="ot"> prefix</span>=<span class="st">&quot;c&quot;</span><span class="ot"> </span><span class="bu">%&gt;</span></span>
      <span id="cb6-3"><a href="#cb6-3" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/__head.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb6-4"><a href="#cb6-4" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/_aside.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb6-5"><a href="#cb6-5" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/_nav.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb6-6"><a href="#cb6-6" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/_header.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb6-7"><a href="#cb6-7" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/_search.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb6-8"><a href="#cb6-8" aria-hidden="true"></a>&lt;main&gt;</span>
      <span id="cb6-9"><a href="#cb6-9" aria-hidden="true"></a>  &lt;article&gt;</span>
      <span id="cb6-10"><a href="#cb6-10" aria-hidden="true"></a>    &lt;h2&gt;Product List&lt;/h2&gt;</span>
      <span id="cb6-11"><a href="#cb6-11" aria-hidden="true"></a>    &lt;ul<span class="ot"> class</span>=<span class="dt">&quot;productList&quot;</span>&gt;</span>
      <span id="cb6-12"><a href="#cb6-12" aria-hidden="true"></a>    <span class="kw">&lt;c:forEach</span><span class="ot"> var</span>=<span class="dt">&quot;product&quot;</span><span class="ot"> items</span>=<span class="dt">&quot;</span><span class="pp">${</span>productList<span class="pp">}</span><span class="dt">&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb6-13"><a href="#cb6-13" aria-hidden="true"></a>      &lt;li&gt;</span>
      <span id="cb6-14"><a href="#cb6-14" aria-hidden="true"></a>        &lt;a<span class="ot"> class</span>=<span class="dt">&quot;product-list&quot;</span></span>
      <span id="cb6-15"><a href="#cb6-15" aria-hidden="true"></a><span class="ot">          href</span>=<span class="dt">&quot;/ProductInfo?productId=</span><span class="pp">${</span>product.<span class="fu">id</span><span class="pp">}</span><span class="dt">&amp;categoryId=</span><span class="pp">${</span>category.<span class="fu">id</span><span class="pp">}</span><span class="dt">&quot;</span>&gt;</span>
      <span id="cb6-16"><a href="#cb6-16" aria-hidden="true"></a>          <span class="co">&lt;!-- JSP parsing variable </span><span class="pp">${</span>product.<span class="fu">name</span><span class="pp">}</span><span class="co">--&gt;</span></span>
      <span id="cb6-17"><a href="#cb6-17" aria-hidden="true"></a>          <span class="pp">${</span>product.<span class="fu">name</span><span class="pp">}</span></span>
      <span id="cb6-18"><a href="#cb6-18" aria-hidden="true"></a>        &lt;/a&gt;</span>
      <span id="cb6-19"><a href="#cb6-19" aria-hidden="true"></a>      &lt;/li&gt;</span>
      <span id="cb6-20"><a href="#cb6-20" aria-hidden="true"></a>    <span class="kw">&lt;/c:forEach&gt;</span></span>
      <span id="cb6-21"><a href="#cb6-21" aria-hidden="true"></a>    &lt;/ul&gt;</span>
      <span id="cb6-22"><a href="#cb6-22" aria-hidden="true"></a>      &lt;div<span class="ot"> class</span>=<span class="dt">&quot;form-actions&quot;</span><span class="ot"> id</span>=<span class="dt">&quot;form-bottom&quot;</span>&gt;</span>
      <span id="cb6-23"><a href="#cb6-23" aria-hidden="true"></a>        &lt;button<span class="ot"> class</span>=<span class="dt">&quot;cancel&quot;</span><span class="ot"> onclick</span>=<span class="dt">&quot;history.back()&quot;</span>&gt;</span>
      <span id="cb6-24"><a href="#cb6-24" aria-hidden="true"></a>          &lt;i<span class="ot"> class</span>=<span class="dt">&quot;fa-solid fa-arrow-left&quot;</span>&gt;&lt;/i&gt;</span>
      <span id="cb6-25"><a href="#cb6-25" aria-hidden="true"></a>        &lt;/button&gt;</span>
      <span id="cb6-26"><a href="#cb6-26" aria-hidden="true"></a>        &lt;a<span class="ot"> class</span>=<span class="dt">&quot;info&quot;</span><span class="ot"> href</span>=<span class="dt">&quot;CategoryEdit?categoryId=</span><span class="pp">${</span>category.<span class="fu">id</span><span class="pp">}</span><span class="dt">&quot;</span>&gt;Update category&lt;/a&gt;</span>
      <span id="cb6-27"><a href="#cb6-27" aria-hidden="true"></a>        &lt;a<span class="ot"> class</span>=<span class="dt">&quot;add&quot;</span><span class="ot"> href</span>=<span class="dt">&quot;/ProductAdd?categoryId=</span><span class="pp">${</span>category.<span class="fu">id</span><span class="pp">}</span><span class="dt">&quot;</span>&gt;Add a product&lt;/a&gt;</span>
      <span id="cb6-28"><a href="#cb6-28" aria-hidden="true"></a>  &lt;/article&gt;</span>
      <span id="cb6-29"><a href="#cb6-29" aria-hidden="true"></a>&lt;/main&gt;</span>
      <span id="cb6-30"><a href="#cb6-30" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/_footer.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb6-31"><a href="#cb6-31" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/__tail.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span></code></pre></div>
      <!-- cSpell:enable -->
      <h5 id="jstl">7.1.2.3. JSTL<!-- OK --></h5>
      <p>La <strong>Jakarta Standard Tag Library</strong> (anciennement JavaServer Pages Standard Tag Library) ou JSTL est un composant de la plateforme de développement Java EE Web application.</p>
      <p>Il <strong>étend les spécifications du JSP</strong> and ajoutant une librairie de tag pour les tâches communes, comme le traitement des données XML, l’exécution conditionnelle, l’accès a une base de données, les boucles ou l’internationalisation.</p>
      <p>Le fichier <code>CategoryInfo.jsp</code> de l’exemple précédent illustre également l’utilisation du JSTL dans le cadre d’une boucle qui génère dynamiquement du code HTML dans la page :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb7"><pre class="sourceCode jsp"><code class="sourceCode jsp"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a></span>
      <span id="cb7-2"><a href="#cb7-2" aria-hidden="true"></a><span class="bu">&lt;%@ taglib</span><span class="ot"> uri</span>=<span class="st">&quot;http://java.sun.com/jsp/jstl/core&quot;</span><span class="ot"> prefix</span>=<span class="st">&quot;c&quot;</span><span class="ot"> </span><span class="bu">%&gt;</span></span>
      <span id="cb7-3"><a href="#cb7-3" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/__head.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb7-4"><a href="#cb7-4" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/_aside.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb7-5"><a href="#cb7-5" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/_nav.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb7-6"><a href="#cb7-6" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/_header.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb7-7"><a href="#cb7-7" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/_search.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb7-8"><a href="#cb7-8" aria-hidden="true"></a>&lt;main&gt;</span>
      <span id="cb7-9"><a href="#cb7-9" aria-hidden="true"></a>  &lt;article&gt;</span>
      <span id="cb7-10"><a href="#cb7-10" aria-hidden="true"></a>    &lt;h2&gt;Product List&lt;/h2&gt;</span>
      <span id="cb7-11"><a href="#cb7-11" aria-hidden="true"></a>    &lt;ul<span class="ot"> class</span>=<span class="dt">&quot;productList&quot;</span>&gt;</span>
      <span id="cb7-12"><a href="#cb7-12" aria-hidden="true"></a>    <span class="co">&lt;!-- JSTL foreach looping on </span><span class="pp">${</span>productList<span class="pp">}</span><span class="co">--&gt;</span></span>
      <span id="cb7-13"><a href="#cb7-13" aria-hidden="true"></a>    <span class="kw">&lt;c:forEach</span><span class="ot"> var</span>=<span class="dt">&quot;product&quot;</span><span class="ot"> items</span>=<span class="dt">&quot;</span><span class="pp">${</span>productList<span class="pp">}</span><span class="dt">&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb7-14"><a href="#cb7-14" aria-hidden="true"></a>      &lt;li&gt;</span>
      <span id="cb7-15"><a href="#cb7-15" aria-hidden="true"></a>        &lt;a<span class="ot"> class</span>=<span class="dt">&quot;product-list&quot;</span></span>
      <span id="cb7-16"><a href="#cb7-16" aria-hidden="true"></a><span class="ot">          href</span>=<span class="dt">&quot;/ProductInfo?productId=</span><span class="pp">${</span>product.<span class="fu">id</span><span class="pp">}</span><span class="dt">&amp;categoryId=</span><span class="pp">${</span>category.<span class="fu">id</span><span class="pp">}</span><span class="dt">&quot;</span>&gt;</span>
      <span id="cb7-17"><a href="#cb7-17" aria-hidden="true"></a>          <span class="pp">${</span>product.<span class="fu">name</span><span class="pp">}</span></span>
      <span id="cb7-18"><a href="#cb7-18" aria-hidden="true"></a>        &lt;/a&gt;</span>
      <span id="cb7-19"><a href="#cb7-19" aria-hidden="true"></a>      &lt;/li&gt;</span>
      <span id="cb7-20"><a href="#cb7-20" aria-hidden="true"></a>    <span class="kw">&lt;/c:forEach&gt;</span></span>
      <span id="cb7-21"><a href="#cb7-21" aria-hidden="true"></a>    &lt;/ul&gt;</span>
      <span id="cb7-22"><a href="#cb7-22" aria-hidden="true"></a>      &lt;div<span class="ot"> class</span>=<span class="dt">&quot;form-actions&quot;</span><span class="ot"> id</span>=<span class="dt">&quot;form-bottom&quot;</span>&gt;</span>
      <span id="cb7-23"><a href="#cb7-23" aria-hidden="true"></a>        &lt;button<span class="ot"> class</span>=<span class="dt">&quot;cancel&quot;</span><span class="ot"> onclick</span>=<span class="dt">&quot;history.back()&quot;</span>&gt;</span>
      <span id="cb7-24"><a href="#cb7-24" aria-hidden="true"></a>          &lt;i<span class="ot"> class</span>=<span class="dt">&quot;fa-solid fa-arrow-left&quot;</span>&gt;&lt;/i&gt;</span>
      <span id="cb7-25"><a href="#cb7-25" aria-hidden="true"></a>        &lt;/button&gt;</span>
      <span id="cb7-26"><a href="#cb7-26" aria-hidden="true"></a>        &lt;a<span class="ot"> class</span>=<span class="dt">&quot;info&quot;</span><span class="ot"> href</span>=<span class="dt">&quot;CategoryEdit?categoryId=</span><span class="pp">${</span>category.<span class="fu">id</span><span class="pp">}</span><span class="dt">&quot;</span>&gt;Update category&lt;/a&gt;</span>
      <span id="cb7-27"><a href="#cb7-27" aria-hidden="true"></a>        &lt;a<span class="ot"> class</span>=<span class="dt">&quot;add&quot;</span><span class="ot"> href</span>=<span class="dt">&quot;/ProductAdd?categoryId=</span><span class="pp">${</span>category.<span class="fu">id</span><span class="pp">}</span><span class="dt">&quot;</span>&gt;Add a product&lt;/a&gt;</span>
      <span id="cb7-28"><a href="#cb7-28" aria-hidden="true"></a>  &lt;/article&gt;</span>
      <span id="cb7-29"><a href="#cb7-29" aria-hidden="true"></a>&lt;/main&gt;</span>
      <span id="cb7-30"><a href="#cb7-30" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/_footer.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb7-31"><a href="#cb7-31" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/__tail.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span></code></pre></div>
      <!-- cSpell:enable -->
      <h5 id="sql">7.1.2.4. SQL<!-- OK --></h5>
      <p>Le <strong>langage de requête structurée</strong>, abrégé SQL de l’anglais Structured Query Language est un <strong>langage informatique normalisé</strong> servant à exploiter des <strong>bases de données relationnelles</strong>.</p>
      <p>Il permet de gérer les données d’une base de données en utilisant des commandes pour <strong>créer, lire, mettre à jour et supprimer des données</strong> (CRUD operations). Il permet également de <strong>gérer les relations</strong> entre les tables de la base de données et de faire des requêtes pour <strong>récupérer des données spécifiques</strong>.</p>
      <p>Le SQL est reconnu par la grande majorité des systèmes de gestion de bases de données relationnelles (abrégé SGBDR) du marché.</p>
      <p>Voici un extrait du fichier <code>_app.sql</code>, dont le code SQL est utilisé pour construire trois tables nécessaires à l’authentification de l’utilisateur dans la base de données de développement :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb8"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a></span>
      <span id="cb8-2"><a href="#cb8-2" aria-hidden="true"></a><span class="kw">SET</span> <span class="kw">time_zone</span> <span class="op">=</span> <span class="st">&#39;+00:00&#39;</span>;</span>
      <span id="cb8-3"><a href="#cb8-3" aria-hidden="true"></a></span>
      <span id="cb8-4"><a href="#cb8-4" aria-hidden="true"></a><span class="co">-- Use application database</span></span>
      <span id="cb8-5"><a href="#cb8-5" aria-hidden="true"></a><span class="kw">USE</span> app;</span>
      <span id="cb8-6"><a href="#cb8-6" aria-hidden="true"></a></span>
      <span id="cb8-7"><a href="#cb8-7" aria-hidden="true"></a><span class="co">-------------------------------------------------------------------------- USER</span></span>
      <span id="cb8-8"><a href="#cb8-8" aria-hidden="true"></a><span class="co">-- Create user table</span></span>
      <span id="cb8-9"><a href="#cb8-9" aria-hidden="true"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> `user`(</span>
      <span id="cb8-10"><a href="#cb8-10" aria-hidden="true"></a>    `id` <span class="dt">INT</span>(<span class="dv">10</span>) UNSIGNED <span class="kw">NOT</span> <span class="kw">NULL</span> AUTO_INCREMENT,</span>
      <span id="cb8-11"><a href="#cb8-11" aria-hidden="true"></a>    `email` <span class="dt">VARCHAR</span>(<span class="dv">255</span>) <span class="kw">NOT</span> <span class="kw">NULL</span> <span class="kw">UNIQUE</span>,</span>
      <span id="cb8-12"><a href="#cb8-12" aria-hidden="true"></a>    `password` <span class="dt">VARCHAR</span>(<span class="dv">255</span>) <span class="kw">NOT</span> <span class="kw">NULL</span>,</span>
      <span id="cb8-13"><a href="#cb8-13" aria-hidden="true"></a>    `title` <span class="dt">VARCHAR</span>(<span class="dv">10</span>),</span>
      <span id="cb8-14"><a href="#cb8-14" aria-hidden="true"></a>    `firstName` <span class="dt">VARCHAR</span>(<span class="dv">50</span>),</span>
      <span id="cb8-15"><a href="#cb8-15" aria-hidden="true"></a>    `lastName` <span class="dt">VARCHAR</span>(<span class="dv">50</span>),</span>
      <span id="cb8-16"><a href="#cb8-16" aria-hidden="true"></a>    `company` <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
      <span id="cb8-17"><a href="#cb8-17" aria-hidden="true"></a>    `address` <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
      <span id="cb8-18"><a href="#cb8-18" aria-hidden="true"></a>    `city` <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
      <span id="cb8-19"><a href="#cb8-19" aria-hidden="true"></a>    `postalCode` <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
      <span id="cb8-20"><a href="#cb8-20" aria-hidden="true"></a>    `country` <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
      <span id="cb8-21"><a href="#cb8-21" aria-hidden="true"></a>    `phone` <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
      <span id="cb8-22"><a href="#cb8-22" aria-hidden="true"></a>    `valid` BIT(<span class="dv">1</span>) <span class="kw">DEFAULT</span> <span class="dv">0</span>, <span class="co">-- TODO: assign instead of default.</span></span>
      <span id="cb8-23"><a href="#cb8-23" aria-hidden="true"></a>    `validationUid` <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
      <span id="cb8-24"><a href="#cb8-24" aria-hidden="true"></a>    `validationTimeout` DATETIME,</span>
      <span id="cb8-25"><a href="#cb8-25" aria-hidden="true"></a>    <span class="co">-- `validationTimeout` DATETIME NOT NULL DEFAULT NOW() + INTERVAL 1 HOUR,</span></span>
      <span id="cb8-26"><a href="#cb8-26" aria-hidden="true"></a>    `createTime` DATETIME <span class="kw">NOT</span> <span class="kw">NULL</span> <span class="kw">DEFAULT</span> NOW(),</span>
      <span id="cb8-27"><a href="#cb8-27" aria-hidden="true"></a>    `updateTime` DATETIME <span class="kw">NOT</span> <span class="kw">NULL</span> <span class="kw">DEFAULT</span> NOW(), <span class="co">-- TODO: assign instead of default.</span></span>
      <span id="cb8-28"><a href="#cb8-28" aria-hidden="true"></a>    <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (`id`)</span>
      <span id="cb8-29"><a href="#cb8-29" aria-hidden="true"></a>);</span>
      <span id="cb8-30"><a href="#cb8-30" aria-hidden="true"></a></span>
      <span id="cb8-31"><a href="#cb8-31" aria-hidden="true"></a><span class="co">-- Insert data samples</span></span>
      <span id="cb8-32"><a href="#cb8-32" aria-hidden="true"></a><span class="kw">INSERT</span> <span class="kw">INTO</span> `user`(`email`,`password`,`title`,`firstName`,`lastName`,`company`,`address`,`city`,`postalCode`,`country`,`phone`)</span>
      <span id="cb8-33"><a href="#cb8-33" aria-hidden="true"></a>  <span class="kw">VALUES</span></span>
      <span id="cb8-34"><a href="#cb8-34" aria-hidden="true"></a>    (<span class="ot">&quot;admin&quot;</span>,SHA2(<span class="ot">&quot;admin&quot;</span>,<span class="dv">512</span>),<span class="ot">&quot;Title&quot;</span>,<span class="ot">&quot;admin&quot;</span>,<span class="ot">&quot;Last name&quot;</span>,<span class="ot">&quot;Admin Company&quot;</span>,<span class="ot">&quot;Address&quot;</span>,<span class="ot">&quot;City&quot;</span>,<span class="ot">&quot;Postal code&quot;</span>,<span class="ot">&quot;Country&quot;</span>,<span class="ot">&quot;Phone&quot;</span>),</span>
      <span id="cb8-35"><a href="#cb8-35" aria-hidden="true"></a>    (<span class="ot">&quot;user&quot;</span>,SHA2(<span class="ot">&quot;user&quot;</span>,<span class="dv">512</span>),<span class="ot">&quot;Title&quot;</span>,<span class="ot">&quot;user&quot;</span>,<span class="ot">&quot;Last name&quot;</span>,<span class="ot">&quot;User Company&quot;</span>,<span class="ot">&quot;Address&quot;</span>,<span class="ot">&quot;City&quot;</span>,<span class="ot">&quot;Postal code&quot;</span>,<span class="ot">&quot;Country&quot;</span>,<span class="ot">&quot;Phone&quot;</span>),</span>
      <span id="cb8-36"><a href="#cb8-36" aria-hidden="true"></a>    (<span class="ot">&quot;donald.duck@mail.com&quot;</span>,SHA2(<span class="ot">&quot;donald&quot;</span>,<span class="dv">512</span>),<span class="ot">&quot;M.&quot;</span>,<span class="ot">&quot;Donald&quot;</span>,<span class="ot">&quot;Duck&quot;</span>,<span class="ot">&quot;Acme Company&quot;</span>,<span class="ot">&quot;66 Route 66&quot;</span>,<span class="ot">&quot;Dreamland&quot;</span>,<span class="ot">&quot;67000&quot;</span>,<span class="ot">&quot;France&quot;</span>,<span class="ot">&quot;0606060606&quot;</span>)</span>
      <span id="cb8-37"><a href="#cb8-37" aria-hidden="true"></a>  ;</span>
      <span id="cb8-38"><a href="#cb8-38" aria-hidden="true"></a></span>
      <span id="cb8-39"><a href="#cb8-39" aria-hidden="true"></a><span class="co">-------------------------------------------------------------------------- ROLE</span></span>
      <span id="cb8-40"><a href="#cb8-40" aria-hidden="true"></a><span class="co">-- Create role table</span></span>
      <span id="cb8-41"><a href="#cb8-41" aria-hidden="true"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> `role`(</span>
      <span id="cb8-42"><a href="#cb8-42" aria-hidden="true"></a>    `id` <span class="dt">INT</span>(<span class="dv">10</span>) UNSIGNED <span class="kw">NOT</span> <span class="kw">NULL</span>,</span>
      <span id="cb8-43"><a href="#cb8-43" aria-hidden="true"></a>    `name` <span class="dt">VARCHAR</span>(<span class="dv">80</span>) <span class="kw">NOT</span> <span class="kw">NULL</span> <span class="kw">UNIQUE</span>,</span>
      <span id="cb8-44"><a href="#cb8-44" aria-hidden="true"></a>    <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (`id`)</span>
      <span id="cb8-45"><a href="#cb8-45" aria-hidden="true"></a>);</span>
      <span id="cb8-46"><a href="#cb8-46" aria-hidden="true"></a></span>
      <span id="cb8-47"><a href="#cb8-47" aria-hidden="true"></a><span class="co">-- Insert data samples</span></span>
      <span id="cb8-48"><a href="#cb8-48" aria-hidden="true"></a><span class="kw">INSERT</span> <span class="kw">INTO</span> `role`(`id`,`name`)</span>
      <span id="cb8-49"><a href="#cb8-49" aria-hidden="true"></a>  <span class="kw">VALUES</span></span>
      <span id="cb8-50"><a href="#cb8-50" aria-hidden="true"></a>    (<span class="ot">&quot;1&quot;</span>,<span class="ot">&quot;admin&quot;</span>),</span>
      <span id="cb8-51"><a href="#cb8-51" aria-hidden="true"></a>    (<span class="ot">&quot;2&quot;</span>,<span class="ot">&quot;user&quot;</span>)</span>
      <span id="cb8-52"><a href="#cb8-52" aria-hidden="true"></a>  ;</span>
      <span id="cb8-53"><a href="#cb8-53" aria-hidden="true"></a></span>
      <span id="cb8-54"><a href="#cb8-54" aria-hidden="true"></a><span class="co">--------------------------------------------------------------------- USER_ROLE</span></span>
      <span id="cb8-55"><a href="#cb8-55" aria-hidden="true"></a><span class="co">-- Create user_role table</span></span>
      <span id="cb8-56"><a href="#cb8-56" aria-hidden="true"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> `user_role`(</span>
      <span id="cb8-57"><a href="#cb8-57" aria-hidden="true"></a>    `id` <span class="dt">INT</span>(<span class="dv">10</span>) UNSIGNED <span class="kw">NOT</span> <span class="kw">NULL</span> AUTO_INCREMENT,</span>
      <span id="cb8-58"><a href="#cb8-58" aria-hidden="true"></a>    `user_id` <span class="dt">INT</span>(<span class="dv">10</span>) UNSIGNED <span class="kw">NOT</span> <span class="kw">NULL</span>,</span>
      <span id="cb8-59"><a href="#cb8-59" aria-hidden="true"></a>    `role_id` <span class="dt">INT</span>(<span class="dv">10</span>) UNSIGNED <span class="kw">NOT</span> <span class="kw">NULL</span> <span class="kw">DEFAULT</span> <span class="dv">2</span>, <span class="co">-- default to user role</span></span>
      <span id="cb8-60"><a href="#cb8-60" aria-hidden="true"></a>    <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (`id`),</span>
      <span id="cb8-61"><a href="#cb8-61" aria-hidden="true"></a>    <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (`user_id`) <span class="kw">REFERENCES</span> `user`(`id`),</span>
      <span id="cb8-62"><a href="#cb8-62" aria-hidden="true"></a>    <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (`role_id`) <span class="kw">REFERENCES</span> `role`(`id`)</span>
      <span id="cb8-63"><a href="#cb8-63" aria-hidden="true"></a>);</span>
      <span id="cb8-64"><a href="#cb8-64" aria-hidden="true"></a></span>
      <span id="cb8-65"><a href="#cb8-65" aria-hidden="true"></a><span class="co">-- Insert data samples</span></span>
      <span id="cb8-66"><a href="#cb8-66" aria-hidden="true"></a><span class="kw">INSERT</span> <span class="kw">INTO</span> `user_role`(`user_id`,`role_id`)</span>
      <span id="cb8-67"><a href="#cb8-67" aria-hidden="true"></a>  <span class="kw">VALUES</span></span>
      <span id="cb8-68"><a href="#cb8-68" aria-hidden="true"></a>    (<span class="dv">1</span>,<span class="dv">1</span>), <span class="co">-- admin(1):admin</span></span>
      <span id="cb8-69"><a href="#cb8-69" aria-hidden="true"></a>    (<span class="dv">1</span>,<span class="dv">2</span>), <span class="co">-- admin(1):user</span></span>
      <span id="cb8-70"><a href="#cb8-70" aria-hidden="true"></a>    (<span class="dv">2</span>,<span class="dv">2</span>) <span class="co">-- user(2):user</span></span>
      <span id="cb8-71"><a href="#cb8-71" aria-hidden="true"></a>  ;</span></code></pre></div>
      <!-- cSpell:enable -->
      <h4 id="autres">7.1.3. Autres<!-- OK --></h4>
      <h5 id="dockerfile">7.1.3.1. Dockerfile<!-- OK --></h5>
      <p>Docker (Cf. <a href="#7621-docker">docker</a>) peut <strong>construire des images automatiquement</strong> grâce aux instructions présentes dans un Dockerfile. Un Dockerfile est un <strong>document texte contenant toutes les commandes</strong> qu’un utilisateur peut utiliser en ligne de commandes.</p>
      <p>Voici en exemple le fichier <code>Dockerfile</code> pour construire une image de conteneur Tomcat dans le cadre d’un environnement de développement :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb9"><pre class="sourceCode dockerfile"><code class="sourceCode dockerfile"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a></span>
      <span id="cb9-2"><a href="#cb9-2" aria-hidden="true"></a><span class="kw">FROM</span> tomcat:9</span>
      <span id="cb9-3"><a href="#cb9-3" aria-hidden="true"></a><span class="kw">LABEL</span> maintainer=<span class="st">&quot;Thibault &lt;thibault.hulaux@gmail.com&gt;&quot;</span> \</span>
      <span id="cb9-4"><a href="#cb9-4" aria-hidden="true"></a>      description=<span class="st">&quot;tomcat&quot;</span></span>
      <span id="cb9-5"><a href="#cb9-5" aria-hidden="true"></a></span>
      <span id="cb9-6"><a href="#cb9-6" aria-hidden="true"></a><span class="co"># Update apt.</span></span>
      <span id="cb9-7"><a href="#cb9-7" aria-hidden="true"></a><span class="kw">RUN</span> apt -y update</span>
      <span id="cb9-8"><a href="#cb9-8" aria-hidden="true"></a></span>
      <span id="cb9-9"><a href="#cb9-9" aria-hidden="true"></a><span class="co"># Install extra packets for conveniency.</span></span>
      <span id="cb9-10"><a href="#cb9-10" aria-hidden="true"></a><span class="kw">RUN</span> apt -y install \</span>
      <span id="cb9-11"><a href="#cb9-11" aria-hidden="true"></a>    bash \</span>
      <span id="cb9-12"><a href="#cb9-12" aria-hidden="true"></a>    vim</span>
      <span id="cb9-13"><a href="#cb9-13" aria-hidden="true"></a></span>
      <span id="cb9-14"><a href="#cb9-14" aria-hidden="true"></a><span class="co"># Install openssh-server.</span></span>
      <span id="cb9-15"><a href="#cb9-15" aria-hidden="true"></a><span class="kw">RUN</span> apt -y install openssh-server &amp;&amp; \</span>
      <span id="cb9-16"><a href="#cb9-16" aria-hidden="true"></a>    mkdir -p /var/run/sshd &amp;&amp; \</span>
      <span id="cb9-17"><a href="#cb9-17" aria-hidden="true"></a>    sed -ri <span class="st">&#39;s/UsePAM yes/#UsePAM yes/g&#39;</span> /etc/ssh/sshd_config &amp;&amp; \</span>
      <span id="cb9-18"><a href="#cb9-18" aria-hidden="true"></a>    sed -ri <span class="st">&#39;s/#PasswordAuthentication yes/PasswordAuthentication yes/g&#39;</span> /etc/ssh/sshd_config &amp;&amp; \</span>
      <span id="cb9-19"><a href="#cb9-19" aria-hidden="true"></a>    sed -ri <span class="st">&#39;s/#PermitRootLogin\s+.*/PermitRootLogin yes/&#39;</span> /etc/ssh/sshd_config &amp;&amp; \</span>
      <span id="cb9-20"><a href="#cb9-20" aria-hidden="true"></a>    echo <span class="st">&quot;$0:$?: /etc/ssh/ssh_config edited.&quot;</span></span>
      <span id="cb9-21"><a href="#cb9-21" aria-hidden="true"></a></span>
      <span id="cb9-22"><a href="#cb9-22" aria-hidden="true"></a><span class="co"># Clean up.</span></span>
      <span id="cb9-23"><a href="#cb9-23" aria-hidden="true"></a><span class="kw">RUN</span> rm -rf /var/cache/apt/* &amp;&amp; \</span>
      <span id="cb9-24"><a href="#cb9-24" aria-hidden="true"></a>    rm -rf /var/lib/apt/lists/* &amp;&amp; \</span>
      <span id="cb9-25"><a href="#cb9-25" aria-hidden="true"></a>    apt clean</span>
      <span id="cb9-26"><a href="#cb9-26" aria-hidden="true"></a></span>
      <span id="cb9-27"><a href="#cb9-27" aria-hidden="true"></a><span class="co"># Set root password.</span></span>
      <span id="cb9-28"><a href="#cb9-28" aria-hidden="true"></a><span class="kw">RUN</span> echo <span class="st">&#39;root:root&#39;</span> | chpasswd</span>
      <span id="cb9-29"><a href="#cb9-29" aria-hidden="true"></a></span>
      <span id="cb9-30"><a href="#cb9-30" aria-hidden="true"></a><span class="co"># Copy default webapps (avoid in production)</span></span>
      <span id="cb9-31"><a href="#cb9-31" aria-hidden="true"></a><span class="co"># RUN cp -rv webapps.dist/* webapps/</span></span>
      <span id="cb9-32"><a href="#cb9-32" aria-hidden="true"></a></span>
      <span id="cb9-33"><a href="#cb9-33" aria-hidden="true"></a><span class="co"># Copying and running start script.</span></span>
      <span id="cb9-34"><a href="#cb9-34" aria-hidden="true"></a><span class="kw">COPY</span> /start.sh /start.sh</span>
      <span id="cb9-35"><a href="#cb9-35" aria-hidden="true"></a><span class="kw">CMD</span> [<span class="st">&quot;/bin/bash&quot;</span>, <span class="st">&quot;/start.sh&quot;</span>]</span></code></pre></div>
      <!-- cSpell:enable -->
      <h5 id="python">7.1.3.2. Python<!-- OK --></h5>
      <p>Python est un <strong>langage de programmation interprété</strong>, multi paradigme et <strong>multi plateformes</strong>. Il favorise la programmation impérative structurée, fonctionnelle et <strong>orientée objet</strong>. Il est doté d’un typage dynamique fort, d’une gestion automatique de la mémoire par garbage collector et d’un système de gestion d’exceptions.</p>
      <p>C’est un langage qui peut s’utiliser dans de nombreux contextes et s’adapter à tout type d’utilisation grâce à des <strong>bibliothèques spécialisées</strong>. Il est cependant particulièrement <strong>utilisé comme langage de script</strong> pour automatiser des tâches simples mais fastidieuses.</p>
      <p>Dans le cadre de ce projet, un script en Python a été crée afin de <strong>piloter</strong> une installation locale de <strong>Oracle VM Virtualbox</strong>. Le script peut effectuer, au travers des commandes <code>swarm</code> et <code>stack</code>, les opérations suivantes :</p>
      <ul>
      <li>Provisionnement des machines virtuelles légères (avec un docker engine)</li>
      <li>Configuration de la couche réseau</li>
      <li>Création et configuration d’un docker swarm</li>
      <li>Déploiement de stack docker (build, registry, orchestration)</li>
      </ul>
      <p>Voici des extraits représentatifs du fichier <code>swarm.py</code>. Veuillez noter que le script est encore en développement (absence de DocStrings, manque de structures de contrôle…), mais qu’il gère le logging et l’interpretation de la ligne de commande :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb10"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true"></a></span>
      <span id="cb10-2"><a href="#cb10-2" aria-hidden="true"></a><span class="co">#!/usr/bin/env python3</span></span>
      <span id="cb10-3"><a href="#cb10-3" aria-hidden="true"></a><span class="co">&quot;&quot;&quot;</span></span>
      <span id="cb10-4"><a href="#cb10-4" aria-hidden="true"></a><span class="co">Module Docstring</span></span>
      <span id="cb10-5"><a href="#cb10-5" aria-hidden="true"></a><span class="co">&quot;&quot;&quot;</span></span>
      <span id="cb10-6"><a href="#cb10-6" aria-hidden="true"></a></span>
      <span id="cb10-7"><a href="#cb10-7" aria-hidden="true"></a><span class="co">&quot;&quot;&quot; IMPORTS --------------------------------------------------------------- &quot;&quot;&quot;</span></span>
      <span id="cb10-8"><a href="#cb10-8" aria-hidden="true"></a><span class="im">import</span> argparse</span>
      <span id="cb10-9"><a href="#cb10-9" aria-hidden="true"></a><span class="im">import</span> logging <span class="co"># see https://docs.python.org/3/library/logging.html</span></span>
      <span id="cb10-10"><a href="#cb10-10" aria-hidden="true"></a><span class="im">import</span> logging.config</span>
      <span id="cb10-11"><a href="#cb10-11" aria-hidden="true"></a><span class="im">import</span> os</span>
      <span id="cb10-12"><a href="#cb10-12" aria-hidden="true"></a><span class="im">import</span> platform</span>
      <span id="cb10-13"><a href="#cb10-13" aria-hidden="true"></a><span class="im">import</span> signal</span>
      <span id="cb10-14"><a href="#cb10-14" aria-hidden="true"></a><span class="im">import</span> subprocess</span>
      <span id="cb10-15"><a href="#cb10-15" aria-hidden="true"></a><span class="im">import</span> sys</span>
      <span id="cb10-16"><a href="#cb10-16" aria-hidden="true"></a><span class="im">import</span> time</span>
      <span id="cb10-17"><a href="#cb10-17" aria-hidden="true"></a><span class="co"># import docker</span></span>
      <span id="cb10-18"><a href="#cb10-18" aria-hidden="true"></a><span class="co"># import pprint # pretty print for dict()</span></span>
      <span id="cb10-19"><a href="#cb10-19" aria-hidden="true"></a></span>
      <span id="cb10-20"><a href="#cb10-20" aria-hidden="true"></a><span class="co">&quot;&quot;&quot; GLOBAL VARIABLES ------------------------------------------------------ &quot;&quot;&quot;</span></span>
      <span id="cb10-21"><a href="#cb10-21" aria-hidden="true"></a><span class="co"># Default LOGLEVEL</span></span>
      <span id="cb10-22"><a href="#cb10-22" aria-hidden="true"></a>os.environ[<span class="st">&#39;LOGLEVEL&#39;</span>] <span class="op">=</span> <span class="st">&#39;DEBUG&#39;</span></span>
      <span id="cb10-23"><a href="#cb10-23" aria-hidden="true"></a></span>
      <span id="cb10-24"><a href="#cb10-24" aria-hidden="true"></a><span class="co"># System</span></span>
      <span id="cb10-25"><a href="#cb10-25" aria-hidden="true"></a>__env__ <span class="op">=</span> os.environ</span>
      <span id="cb10-26"><a href="#cb10-26" aria-hidden="true"></a>__start__ <span class="op">=</span> time.time()</span>
      <span id="cb10-27"><a href="#cb10-27" aria-hidden="true"></a>__platform__ <span class="op">=</span> platform.system()</span>
      <span id="cb10-28"><a href="#cb10-28" aria-hidden="true"></a></span>
      <span id="cb10-29"><a href="#cb10-29" aria-hidden="true"></a><span class="co"># Authoring</span></span>
      <span id="cb10-30"><a href="#cb10-30" aria-hidden="true"></a>__author_name__ <span class="op">=</span> <span class="st">&#39;Thibault HULAUX&#39;</span></span>
      <span id="cb10-31"><a href="#cb10-31" aria-hidden="true"></a>__author_mail__ <span class="op">=</span> <span class="st">&#39;thibault.hulaux@gmail.com&#39;</span></span>
      <span id="cb10-32"><a href="#cb10-32" aria-hidden="true"></a>__version__ <span class="op">=</span> <span class="st">&#39;0.1.0&#39;</span></span>
      <span id="cb10-33"><a href="#cb10-33" aria-hidden="true"></a>__license__ <span class="op">=</span> <span class="st">&#39;MIT&#39;</span></span>
      <span id="cb10-34"><a href="#cb10-34" aria-hidden="true"></a></span>
      <span id="cb10-35"><a href="#cb10-35" aria-hidden="true"></a><span class="co"># Magic file and folder paths</span></span>
      <span id="cb10-36"><a href="#cb10-36" aria-hidden="true"></a>__basename__ <span class="op">=</span> os.path.basename(<span class="va">__file__</span>)</span>
      <span id="cb10-37"><a href="#cb10-37" aria-hidden="true"></a>__basenamenoext__ <span class="op">=</span> __basename__.split(<span class="st">&quot;.&quot;</span>, <span class="dv">1</span>)[<span class="dv">0</span>]</span>
      <span id="cb10-38"><a href="#cb10-38" aria-hidden="true"></a>__dirname__ <span class="op">=</span> os.path.dirname(<span class="va">__file__</span>)</span>
      <span id="cb10-39"><a href="#cb10-39" aria-hidden="true"></a></span>
      <span id="cb10-40"><a href="#cb10-40" aria-hidden="true"></a><span class="co"># Help strings</span></span>
      <span id="cb10-41"><a href="#cb10-41" aria-hidden="true"></a>__description__ <span class="op">=</span> <span class="ss">f&#39;</span><span class="sc">{</span>__basename__<span class="sc">}</span><span class="ss"> is a python helper script to administrate a docker swarm and docker services.&#39;</span></span>
      <span id="cb10-42"><a href="#cb10-42" aria-hidden="true"></a>__epilog__ <span class="op">=</span> <span class="ss">f&#39;Run </span><span class="sc">{</span>__basename__<span class="sc">}</span><span class="ss"> [command] --help for more information on a command.&#39;</span></span>
      <span id="cb10-43"><a href="#cb10-43" aria-hidden="true"></a></span>
      <span id="cb10-44"><a href="#cb10-44" aria-hidden="true"></a><span class="co">&quot;&quot;&quot; INITIALIZE WORKING DIRECTORY ------------------------------------------ &quot;&quot;&quot;</span></span>
      <span id="cb10-45"><a href="#cb10-45" aria-hidden="true"></a><span class="co"># Change working directory to script location</span></span>
      <span id="cb10-46"><a href="#cb10-46" aria-hidden="true"></a>os.chdir(__dirname__)</span>
      <span id="cb10-47"><a href="#cb10-47" aria-hidden="true"></a></span>
      <span id="cb10-48"><a href="#cb10-48" aria-hidden="true"></a><span class="co">&quot;&quot;&quot; INITIALIZE LOGGER ----------------------------------------------------- &quot;&quot;&quot;</span></span>
      <span id="cb10-49"><a href="#cb10-49" aria-hidden="true"></a>log <span class="op">=</span> <span class="va">None</span></span>
      <span id="cb10-50"><a href="#cb10-50" aria-hidden="true"></a></span>
      <span id="cb10-51"><a href="#cb10-51" aria-hidden="true"></a><span class="co"># Add log filepath and filename to the logging namespace, so the config file</span></span>
      <span id="cb10-52"><a href="#cb10-52" aria-hidden="true"></a><span class="co"># can reference it.</span></span>
      <span id="cb10-53"><a href="#cb10-53" aria-hidden="true"></a>logging.filepath <span class="op">=</span> <span class="st">&#39;log&#39;</span></span>
      <span id="cb10-54"><a href="#cb10-54" aria-hidden="true"></a>logging.filename <span class="op">=</span> <span class="ss">f&#39;</span><span class="sc">{</span>__basenamenoext__<span class="sc">}</span><span class="ss">.log&#39;</span></span>
      <span id="cb10-55"><a href="#cb10-55" aria-hidden="true"></a></span>
      <span id="cb10-56"><a href="#cb10-56" aria-hidden="true"></a><span class="co"># Load config file</span></span>
      <span id="cb10-57"><a href="#cb10-57" aria-hidden="true"></a>logging.config.fileConfig(</span>
      <span id="cb10-58"><a href="#cb10-58" aria-hidden="true"></a>  fname<span class="op">=</span><span class="st">&#39;conf/logging.conf&#39;</span>,</span>
      <span id="cb10-59"><a href="#cb10-59" aria-hidden="true"></a>  disable_existing_loggers<span class="op">=</span><span class="va">False</span></span>
      <span id="cb10-60"><a href="#cb10-60" aria-hidden="true"></a>  )</span>
      <span id="cb10-61"><a href="#cb10-61" aria-hidden="true"></a></span>
      <span id="cb10-62"><a href="#cb10-62" aria-hidden="true"></a><span class="co"># Create logger</span></span>
      <span id="cb10-63"><a href="#cb10-63" aria-hidden="true"></a>log <span class="op">=</span> logging.getLogger(__basename__)</span>
      <span id="cb10-64"><a href="#cb10-64" aria-hidden="true"></a></span>
      <span id="cb10-65"><a href="#cb10-65" aria-hidden="true"></a><span class="co">&quot;&quot;&quot; INITIALIZE PARSER ----------------------------------------------------- &quot;&quot;&quot;</span></span>
      <span id="cb10-66"><a href="#cb10-66" aria-hidden="true"></a>parser <span class="op">=</span> <span class="va">None</span></span>
      <span id="cb10-67"><a href="#cb10-67" aria-hidden="true"></a></span>
      <span id="cb10-68"><a href="#cb10-68" aria-hidden="true"></a><span class="co"># Create parser</span></span>
      <span id="cb10-69"><a href="#cb10-69" aria-hidden="true"></a>parser <span class="op">=</span> argparse.ArgumentParser(</span>
      <span id="cb10-70"><a href="#cb10-70" aria-hidden="true"></a>  add_help <span class="op">=</span> <span class="va">True</span>,</span>
      <span id="cb10-71"><a href="#cb10-71" aria-hidden="true"></a>  formatter_class <span class="op">=</span> argparse.RawDescriptionHelpFormatter,</span>
      <span id="cb10-72"><a href="#cb10-72" aria-hidden="true"></a>  description<span class="op">=</span>__description__,</span>
      <span id="cb10-73"><a href="#cb10-73" aria-hidden="true"></a>  epilog<span class="op">=</span>__epilog__</span>
      <span id="cb10-74"><a href="#cb10-74" aria-hidden="true"></a>)</span>
      <span id="cb10-75"><a href="#cb10-75" aria-hidden="true"></a></span>
      <span id="cb10-76"><a href="#cb10-76" aria-hidden="true"></a><span class="co"># Add parser arguments</span></span>
      <span id="cb10-77"><a href="#cb10-77" aria-hidden="true"></a>parser.add_argument(</span>
      <span id="cb10-78"><a href="#cb10-78" aria-hidden="true"></a>  <span class="st">&#39;-d&#39;</span>, <span class="st">&#39;--debug&#39;</span>,</span>
      <span id="cb10-79"><a href="#cb10-79" aria-hidden="true"></a>  action<span class="op">=</span><span class="st">&#39;store_true&#39;</span>,</span>
      <span id="cb10-80"><a href="#cb10-80" aria-hidden="true"></a>  default<span class="op">=</span><span class="va">False</span></span>
      <span id="cb10-81"><a href="#cb10-81" aria-hidden="true"></a>)</span>
      <span id="cb10-82"><a href="#cb10-82" aria-hidden="true"></a>parser.add_argument(</span>
      <span id="cb10-83"><a href="#cb10-83" aria-hidden="true"></a>  <span class="st">&#39;--version&#39;</span>,</span>
      <span id="cb10-84"><a href="#cb10-84" aria-hidden="true"></a>  action<span class="op">=</span><span class="st">&#39;version&#39;</span>,</span>
      <span id="cb10-85"><a href="#cb10-85" aria-hidden="true"></a>  version<span class="op">=</span><span class="ss">f&#39;</span><span class="sc">{</span>__basename__<span class="sc">}</span><span class="ss"> (version </span><span class="sc">{</span>__version__<span class="sc">}</span><span class="ss">) </span><span class="sc">{</span>__author_name__<span class="sc">}</span><span class="ss"> - </span><span class="sc">{</span>__author_mail__<span class="sc">}</span><span class="ss">&#39;</span></span>
      <span id="cb10-86"><a href="#cb10-86" aria-hidden="true"></a>)</span>
      <span id="cb10-87"><a href="#cb10-87" aria-hidden="true"></a></span>
      <span id="cb10-88"><a href="#cb10-88" aria-hidden="true"></a><span class="co"># Initialize subparsers</span></span>
      <span id="cb10-89"><a href="#cb10-89" aria-hidden="true"></a>subparsers <span class="op">=</span> parser.add_subparsers(dest<span class="op">=</span><span class="st">&#39;subcommand&#39;</span>, <span class="bu">help</span><span class="op">=</span><span class="st">&#39;Commands&#39;</span>)</span>
      <span id="cb10-90"><a href="#cb10-90" aria-hidden="true"></a></span>
      <span id="cb10-91"><a href="#cb10-91" aria-hidden="true"></a><span class="kw">def</span> argument(<span class="op">*</span>name_or_flags, <span class="op">**</span>kwargs):</span>
      <span id="cb10-92"><a href="#cb10-92" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;Helper function to satisfy argparse.ArgumentParser.add_argument()&#39;s</span></span>
      <span id="cb10-93"><a href="#cb10-93" aria-hidden="true"></a><span class="co">    input argument syntax.</span></span>
      <span id="cb10-94"><a href="#cb10-94" aria-hidden="true"></a></span>
      <span id="cb10-95"><a href="#cb10-95" aria-hidden="true"></a><span class="co">    &quot;&quot;&quot;</span></span>
      <span id="cb10-96"><a href="#cb10-96" aria-hidden="true"></a>    <span class="cf">return</span> (<span class="bu">list</span>(name_or_flags), kwargs)</span>
      <span id="cb10-97"><a href="#cb10-97" aria-hidden="true"></a></span>
      <span id="cb10-98"><a href="#cb10-98" aria-hidden="true"></a><span class="kw">def</span> subcommand(args<span class="op">=</span>[], parent<span class="op">=</span>subparsers):</span>
      <span id="cb10-99"><a href="#cb10-99" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;Decorator to define a new subcommand in a sanity-preserving way.</span></span>
      <span id="cb10-100"><a href="#cb10-100" aria-hidden="true"></a><span class="co">    See https://mike.depalatis.net/blog/simplifying-argparse.html</span></span>
      <span id="cb10-101"><a href="#cb10-101" aria-hidden="true"></a></span>
      <span id="cb10-102"><a href="#cb10-102" aria-hidden="true"></a><span class="co">    &quot;&quot;&quot;</span></span>
      <span id="cb10-103"><a href="#cb10-103" aria-hidden="true"></a>    <span class="kw">def</span> decorator(func):</span>
      <span id="cb10-104"><a href="#cb10-104" aria-hidden="true"></a>        parser <span class="op">=</span> parent.add_parser(func.<span class="va">__name__</span>, description<span class="op">=</span>func.__doc__)</span>
      <span id="cb10-105"><a href="#cb10-105" aria-hidden="true"></a>        <span class="cf">for</span> arg <span class="kw">in</span> args:</span>
      <span id="cb10-106"><a href="#cb10-106" aria-hidden="true"></a>            parser.add_argument(<span class="op">*</span>arg[<span class="dv">0</span>], <span class="op">**</span>arg[<span class="dv">1</span>])</span>
      <span id="cb10-107"><a href="#cb10-107" aria-hidden="true"></a>        parser.set_defaults(func<span class="op">=</span>func)</span>
      <span id="cb10-108"><a href="#cb10-108" aria-hidden="true"></a>    <span class="cf">return</span> decorator</span>
      <span id="cb10-109"><a href="#cb10-109" aria-hidden="true"></a></span>
      <span id="cb10-110"><a href="#cb10-110" aria-hidden="true"></a><span class="co"># &#39;swarm&#39; subcommands definition</span></span>
      <span id="cb10-111"><a href="#cb10-111" aria-hidden="true"></a><span class="at">@subcommand</span>([</span>
      <span id="cb10-112"><a href="#cb10-112" aria-hidden="true"></a>  argument(<span class="st">&#39;command&#39;</span>, <span class="bu">help</span><span class="op">=</span><span class="st">&#39;Commands&#39;</span>, choices<span class="op">=</span>[</span>
      <span id="cb10-113"><a href="#cb10-113" aria-hidden="true"></a>    <span class="st">&#39;create&#39;</span>, <span class="st">&#39;remove&#39;</span>, <span class="st">&#39;start&#39;</span>, <span class="st">&#39;status&#39;</span>, <span class="st">&#39;stop&#39;</span>, <span class="st">&#39;update&#39;</span></span>
      <span id="cb10-114"><a href="#cb10-114" aria-hidden="true"></a>    ])</span>
      <span id="cb10-115"><a href="#cb10-115" aria-hidden="true"></a>  ])</span>
      <span id="cb10-116"><a href="#cb10-116" aria-hidden="true"></a><span class="kw">def</span> swarm(args):</span>
      <span id="cb10-117"><a href="#cb10-117" aria-hidden="true"></a>    <span class="co">&#39;&#39;&#39;swarm subcommand definition&#39;&#39;&#39;</span></span>
      <span id="cb10-118"><a href="#cb10-118" aria-hidden="true"></a>    cmd <span class="op">=</span> args.command</span>
      <span id="cb10-119"><a href="#cb10-119" aria-hidden="true"></a>    <span class="bu">list</span> <span class="op">=</span> get_listfromfile(<span class="st">&#39;conf/swarm.conf&#39;</span>)</span>
      <span id="cb10-120"><a href="#cb10-120" aria-hidden="true"></a>    <span class="cf">if</span> cmd <span class="op">==</span> <span class="st">&#39;create&#39;</span>:</span>
      <span id="cb10-121"><a href="#cb10-121" aria-hidden="true"></a>        swarm_create(<span class="bu">list</span>)</span>
      <span id="cb10-122"><a href="#cb10-122" aria-hidden="true"></a>        swarm_config_network(<span class="bu">list</span>)</span>
      <span id="cb10-123"><a href="#cb10-123" aria-hidden="true"></a>        <span class="co"># swarm_config_nfs(list)</span></span>
      <span id="cb10-124"><a href="#cb10-124" aria-hidden="true"></a>        swarm_register(<span class="bu">list</span>)</span>
      <span id="cb10-125"><a href="#cb10-125" aria-hidden="true"></a>    <span class="cf">if</span> cmd <span class="op">==</span> <span class="st">&#39;remove&#39;</span>:</span>
      <span id="cb10-126"><a href="#cb10-126" aria-hidden="true"></a>        <span class="co"># swarm_stop(list)</span></span>
      <span id="cb10-127"><a href="#cb10-127" aria-hidden="true"></a>        swarm_remove(<span class="bu">list</span>)</span>
      <span id="cb10-128"><a href="#cb10-128" aria-hidden="true"></a>        swarm_cleanup(<span class="bu">list</span>)</span>
      <span id="cb10-129"><a href="#cb10-129" aria-hidden="true"></a>    <span class="cf">if</span> cmd <span class="op">==</span> <span class="st">&#39;start&#39;</span>:</span>
      <span id="cb10-130"><a href="#cb10-130" aria-hidden="true"></a>        swarm_start(<span class="bu">list</span>)</span>
      <span id="cb10-131"><a href="#cb10-131" aria-hidden="true"></a>        <span class="co"># swarm_config_network(list)</span></span>
      <span id="cb10-132"><a href="#cb10-132" aria-hidden="true"></a>        <span class="co"># swarm_register(list)</span></span>
      <span id="cb10-133"><a href="#cb10-133" aria-hidden="true"></a>    <span class="cf">if</span> cmd <span class="op">==</span> <span class="st">&#39;status&#39;</span>:</span>
      <span id="cb10-134"><a href="#cb10-134" aria-hidden="true"></a>        swarm_status(<span class="bu">list</span>)</span>
      <span id="cb10-135"><a href="#cb10-135" aria-hidden="true"></a>    <span class="cf">if</span> cmd <span class="op">==</span> <span class="st">&#39;stop&#39;</span>:</span>
      <span id="cb10-136"><a href="#cb10-136" aria-hidden="true"></a>        swarm_stop(<span class="bu">list</span>)</span>
      <span id="cb10-137"><a href="#cb10-137" aria-hidden="true"></a>    <span class="cf">if</span> cmd <span class="op">==</span> <span class="st">&#39;update&#39;</span>:</span>
      <span id="cb10-138"><a href="#cb10-138" aria-hidden="true"></a>        <span class="co"># swarm_config_network(list)</span></span>
      <span id="cb10-139"><a href="#cb10-139" aria-hidden="true"></a>        swarm_config_nfs(<span class="bu">list</span>)</span>
      <span id="cb10-140"><a href="#cb10-140" aria-hidden="true"></a>        <span class="co"># swarm_config_extras(list)</span></span>
      <span id="cb10-141"><a href="#cb10-141" aria-hidden="true"></a>        <span class="co"># swarm_register(list)</span></span>
      <span id="cb10-142"><a href="#cb10-142" aria-hidden="true"></a></span>
      <span id="cb10-143"><a href="#cb10-143" aria-hidden="true"></a>...</span>
      <span id="cb10-144"><a href="#cb10-144" aria-hidden="true"></a></span>
      <span id="cb10-145"><a href="#cb10-145" aria-hidden="true"></a><span class="co">&quot;&quot;&quot; SUBPROCESS FUNCTIONS --------------------------------------------------- &quot;&quot;&quot;</span></span>
      <span id="cb10-146"><a href="#cb10-146" aria-hidden="true"></a><span class="kw">def</span> subprocess_run(cmd, timeout_s<span class="op">=</span><span class="dv">180</span>, <span class="bu">input</span><span class="op">=</span><span class="va">None</span>):</span>
      <span id="cb10-147"><a href="#cb10-147" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;_summary_</span></span>
      <span id="cb10-148"><a href="#cb10-148" aria-hidden="true"></a></span>
      <span id="cb10-149"><a href="#cb10-149" aria-hidden="true"></a><span class="co">    Args:</span></span>
      <span id="cb10-150"><a href="#cb10-150" aria-hidden="true"></a><span class="co">        cmd (_type_): _description_</span></span>
      <span id="cb10-151"><a href="#cb10-151" aria-hidden="true"></a><span class="co">        timeout_s (int, optional): _description_. Defaults to 180.</span></span>
      <span id="cb10-152"><a href="#cb10-152" aria-hidden="true"></a><span class="co">        input (_type_, optional): _description_. Defaults to None.</span></span>
      <span id="cb10-153"><a href="#cb10-153" aria-hidden="true"></a></span>
      <span id="cb10-154"><a href="#cb10-154" aria-hidden="true"></a><span class="co">    Returns:</span></span>
      <span id="cb10-155"><a href="#cb10-155" aria-hidden="true"></a><span class="co">        _type_: _description_</span></span>
      <span id="cb10-156"><a href="#cb10-156" aria-hidden="true"></a><span class="co">    &quot;&quot;&quot;</span></span>
      <span id="cb10-157"><a href="#cb10-157" aria-hidden="true"></a>    log.debug(<span class="ss">f&#39;subprocess_run(cmd=</span><span class="sc">{</span>cmd<span class="sc">}</span><span class="ss">, timeout_s=</span><span class="sc">{</span>timeout_s<span class="sc">}</span><span class="ss">, input=</span><span class="sc">{</span><span class="bu">input</span><span class="sc">}</span><span class="ss">)&#39;</span>)</span>
      <span id="cb10-158"><a href="#cb10-158" aria-hidden="true"></a>    <span class="cf">try</span>:</span>
      <span id="cb10-159"><a href="#cb10-159" aria-hidden="true"></a>        <span class="co"># proc = subprocess.run(cmd, input=input, timeout=timeout_s, capture_output=True, text=True, shell=True)</span></span>
      <span id="cb10-160"><a href="#cb10-160" aria-hidden="true"></a>        proc <span class="op">=</span> subprocess.run(cmd, <span class="bu">input</span><span class="op">=</span><span class="bu">input</span>, timeout<span class="op">=</span>timeout_s, capture_output<span class="op">=</span><span class="va">True</span>, text<span class="op">=</span><span class="va">True</span>)</span>
      <span id="cb10-161"><a href="#cb10-161" aria-hidden="true"></a>    <span class="cf">except</span> subprocess.TimeoutExpired:</span>
      <span id="cb10-162"><a href="#cb10-162" aria-hidden="true"></a>        log.error(<span class="ss">f&#39;timeout for cmd=</span><span class="sc">{</span>cmd<span class="sc">}</span><span class="ss"> (</span><span class="sc">{</span>timeout_s<span class="sc">}</span><span class="ss">s) expired.&#39;</span>)</span>
      <span id="cb10-163"><a href="#cb10-163" aria-hidden="true"></a>        sys.exit(<span class="dv">1</span>)</span>
      <span id="cb10-164"><a href="#cb10-164" aria-hidden="true"></a>    stdout <span class="op">=</span> []</span>
      <span id="cb10-165"><a href="#cb10-165" aria-hidden="true"></a>    <span class="cf">for</span> line <span class="kw">in</span> proc.stdout.splitlines():</span>
      <span id="cb10-166"><a href="#cb10-166" aria-hidden="true"></a>        stdout.append(line)</span>
      <span id="cb10-167"><a href="#cb10-167" aria-hidden="true"></a>    stderr <span class="op">=</span> []</span>
      <span id="cb10-168"><a href="#cb10-168" aria-hidden="true"></a>    <span class="cf">for</span> line <span class="kw">in</span> proc.stderr.splitlines():</span>
      <span id="cb10-169"><a href="#cb10-169" aria-hidden="true"></a>        stderr.append(line)</span>
      <span id="cb10-170"><a href="#cb10-170" aria-hidden="true"></a>    log.debug(<span class="ss">f&#39;stdout=</span><span class="sc">{</span>stdout<span class="sc">}</span><span class="ss">, stderr=</span><span class="sc">{</span>stderr<span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb10-171"><a href="#cb10-171" aria-hidden="true"></a>    <span class="cf">return</span> proc</span>
      <span id="cb10-172"><a href="#cb10-172" aria-hidden="true"></a></span>
      <span id="cb10-173"><a href="#cb10-173" aria-hidden="true"></a>...</span>
      <span id="cb10-174"><a href="#cb10-174" aria-hidden="true"></a></span>
      <span id="cb10-175"><a href="#cb10-175" aria-hidden="true"></a><span class="co">&quot;&quot;&quot; MACHINE FUNCTIONS ----------------------------------------------------- &quot;&quot;&quot;</span></span>
      <span id="cb10-176"><a href="#cb10-176" aria-hidden="true"></a><span class="kw">def</span> machine_env(hostname: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">list</span>:</span>
      <span id="cb10-177"><a href="#cb10-177" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;Get docker environment from machine hostname.</span></span>
      <span id="cb10-178"><a href="#cb10-178" aria-hidden="true"></a></span>
      <span id="cb10-179"><a href="#cb10-179" aria-hidden="true"></a><span class="co">    Args:</span></span>
      <span id="cb10-180"><a href="#cb10-180" aria-hidden="true"></a><span class="co">        hostname (str): machine hostname</span></span>
      <span id="cb10-181"><a href="#cb10-181" aria-hidden="true"></a></span>
      <span id="cb10-182"><a href="#cb10-182" aria-hidden="true"></a><span class="co">    Returns:</span></span>
      <span id="cb10-183"><a href="#cb10-183" aria-hidden="true"></a><span class="co">        list: docker environment as ([key, value])</span></span>
      <span id="cb10-184"><a href="#cb10-184" aria-hidden="true"></a><span class="co">    &quot;&quot;&quot;</span></span>
      <span id="cb10-185"><a href="#cb10-185" aria-hidden="true"></a>    log.debug(<span class="ss">f&#39;</span><span class="sc">{</span>hostname<span class="sc">}</span><span class="ss">: getting machine environment&#39;</span>)</span>
      <span id="cb10-186"><a href="#cb10-186" aria-hidden="true"></a>    cmd <span class="op">=</span> [get_exec(<span class="st">&#39;machine&#39;</span>), <span class="st">&#39;env&#39;</span>, hostname]</span>
      <span id="cb10-187"><a href="#cb10-187" aria-hidden="true"></a>    proc <span class="op">=</span> subprocess_run(cmd)</span>
      <span id="cb10-188"><a href="#cb10-188" aria-hidden="true"></a>    env <span class="op">=</span> []</span>
      <span id="cb10-189"><a href="#cb10-189" aria-hidden="true"></a>    <span class="cf">for</span> line <span class="kw">in</span> proc.stdout.splitlines():</span>
      <span id="cb10-190"><a href="#cb10-190" aria-hidden="true"></a>        <span class="cf">if</span> line.startswith(<span class="st">&#39;REM&#39;</span>) <span class="kw">or</span> line.startswith(<span class="st">&#39;#&#39;</span>): <span class="cf">continue</span></span>
      <span id="cb10-191"><a href="#cb10-191" aria-hidden="true"></a>        line <span class="op">=</span> line.replace(<span class="st">&#39;$Env:&#39;</span>, <span class="st">&#39;&#39;</span>).replace(<span class="st">&#39;SET &#39;</span>, <span class="st">&#39;&#39;</span>)</span>
      <span id="cb10-192"><a href="#cb10-192" aria-hidden="true"></a>        key <span class="op">=</span> line.split(<span class="st">&#39;=&#39;</span>, <span class="dv">1</span>)[<span class="dv">0</span>].strip()</span>
      <span id="cb10-193"><a href="#cb10-193" aria-hidden="true"></a>        value <span class="op">=</span> line.split(<span class="st">&#39;=&#39;</span>, <span class="dv">1</span>)[<span class="dv">1</span>].strip()</span>
      <span id="cb10-194"><a href="#cb10-194" aria-hidden="true"></a>        env.append([key, value])</span>
      <span id="cb10-195"><a href="#cb10-195" aria-hidden="true"></a>    log.debug(<span class="ss">f&#39;hostname=</span><span class="sc">{</span>hostname<span class="sc">}</span><span class="ss">, env=</span><span class="sc">{</span>env<span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb10-196"><a href="#cb10-196" aria-hidden="true"></a>    <span class="cf">return</span> env</span>
      <span id="cb10-197"><a href="#cb10-197" aria-hidden="true"></a></span>
      <span id="cb10-198"><a href="#cb10-198" aria-hidden="true"></a><span class="kw">def</span> machine_activate(hostname: <span class="bu">str</span>):</span>
      <span id="cb10-199"><a href="#cb10-199" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;Set docker environment from machine hostname.</span></span>
      <span id="cb10-200"><a href="#cb10-200" aria-hidden="true"></a></span>
      <span id="cb10-201"><a href="#cb10-201" aria-hidden="true"></a><span class="co">    Args:</span></span>
      <span id="cb10-202"><a href="#cb10-202" aria-hidden="true"></a><span class="co">        hostname (str): machine</span></span>
      <span id="cb10-203"><a href="#cb10-203" aria-hidden="true"></a><span class="co">    &quot;&quot;&quot;</span></span>
      <span id="cb10-204"><a href="#cb10-204" aria-hidden="true"></a>    env <span class="op">=</span> machine_env(hostname)</span>
      <span id="cb10-205"><a href="#cb10-205" aria-hidden="true"></a>    log.debug(<span class="ss">f&#39;</span><span class="sc">{</span>hostname<span class="sc">}</span><span class="ss">: Setting machine environment&#39;</span>)</span>
      <span id="cb10-206"><a href="#cb10-206" aria-hidden="true"></a>    os.environ <span class="op">=</span> __env__</span>
      <span id="cb10-207"><a href="#cb10-207" aria-hidden="true"></a>    <span class="cf">for</span> key, value <span class="kw">in</span> env:</span>
      <span id="cb10-208"><a href="#cb10-208" aria-hidden="true"></a>        os.environ[key] <span class="op">=</span> value</span>
      <span id="cb10-209"><a href="#cb10-209" aria-hidden="true"></a></span>
      <span id="cb10-210"><a href="#cb10-210" aria-hidden="true"></a>...</span>
      <span id="cb10-211"><a href="#cb10-211" aria-hidden="true"></a></span>
      <span id="cb10-212"><a href="#cb10-212" aria-hidden="true"></a><span class="co">&quot;&quot;&quot; SWARM FUNCTIONS ------------------------------------------------------- &quot;&quot;&quot;</span></span>
      <span id="cb10-213"><a href="#cb10-213" aria-hidden="true"></a></span>
      <span id="cb10-214"><a href="#cb10-214" aria-hidden="true"></a>...</span>
      <span id="cb10-215"><a href="#cb10-215" aria-hidden="true"></a></span>
      <span id="cb10-216"><a href="#cb10-216" aria-hidden="true"></a><span class="kw">def</span> swarm_create(<span class="bu">list</span>):</span>
      <span id="cb10-217"><a href="#cb10-217" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;&#39;swarm_create(list)&#39; documentation.</span></span>
      <span id="cb10-218"><a href="#cb10-218" aria-hidden="true"></a><span class="co">    </span></span>
      <span id="cb10-219"><a href="#cb10-219" aria-hidden="true"></a><span class="co">    &quot;&quot;&quot;</span></span>
      <span id="cb10-220"><a href="#cb10-220" aria-hidden="true"></a>    log.info(<span class="st">&#39;&gt; Creating swarm... (This may take several minutes)&#39;</span>)</span>
      <span id="cb10-221"><a href="#cb10-221" aria-hidden="true"></a>    log.debug(<span class="ss">f&#39;list=</span><span class="sc">{</span><span class="bu">list</span><span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb10-222"><a href="#cb10-222" aria-hidden="true"></a>    <span class="cf">if</span> __platform__ <span class="op">==</span> <span class="st">&#39;Windows&#39;</span>:</span>
      <span id="cb10-223"><a href="#cb10-223" aria-hidden="true"></a>        options <span class="op">=</span> get_listfromfile(<span class="st">&#39;conf/driver-windows-virtualbox.conf&#39;</span>)</span>
      <span id="cb10-224"><a href="#cb10-224" aria-hidden="true"></a>    cmd <span class="op">=</span> [get_exec(<span class="st">&#39;machine&#39;</span>)] <span class="op">+</span> [<span class="st">&#39;create&#39;</span>] <span class="op">+</span> options</span>
      <span id="cb10-225"><a href="#cb10-225" aria-hidden="true"></a>    processes <span class="op">=</span> subprocess_prun(cmd, <span class="bu">list</span>, <span class="dv">120</span>)</span>
      <span id="cb10-226"><a href="#cb10-226" aria-hidden="true"></a>    log.info(<span class="ss">f&#39;&gt; </span><span class="sc">{</span><span class="bu">len</span>(<span class="bu">list</span>)<span class="sc">}</span><span class="ss"> machines created.&#39;</span>)</span>
      <span id="cb10-227"><a href="#cb10-227" aria-hidden="true"></a></span>
      <span id="cb10-228"><a href="#cb10-228" aria-hidden="true"></a><span class="kw">def</span> swarm_register(<span class="bu">list</span>):</span>
      <span id="cb10-229"><a href="#cb10-229" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;&#39;swarm_register(list)&#39; documentation.</span></span>
      <span id="cb10-230"><a href="#cb10-230" aria-hidden="true"></a><span class="co">    </span></span>
      <span id="cb10-231"><a href="#cb10-231" aria-hidden="true"></a><span class="co">    &quot;&quot;&quot;</span></span>
      <span id="cb10-232"><a href="#cb10-232" aria-hidden="true"></a>    log.info(<span class="st">&#39;&gt; Registering swarm...&#39;</span>)</span>
      <span id="cb10-233"><a href="#cb10-233" aria-hidden="true"></a>    log.debug(<span class="ss">f&#39;list=</span><span class="sc">{</span><span class="bu">list</span><span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb10-234"><a href="#cb10-234" aria-hidden="true"></a>    manager <span class="op">=</span> <span class="st">&#39;&#39;</span></span>
      <span id="cb10-235"><a href="#cb10-235" aria-hidden="true"></a>    port <span class="op">=</span> <span class="st">&#39;2377&#39;</span></span>
      <span id="cb10-236"><a href="#cb10-236" aria-hidden="true"></a>    token <span class="op">=</span> <span class="st">&#39;&#39;</span></span>
      <span id="cb10-237"><a href="#cb10-237" aria-hidden="true"></a>    <span class="cf">for</span> hostname <span class="kw">in</span> <span class="bu">list</span>:</span>
      <span id="cb10-238"><a href="#cb10-238" aria-hidden="true"></a>        machine_activate(hostname)</span>
      <span id="cb10-239"><a href="#cb10-239" aria-hidden="true"></a>        machine_swarm_leave(hostname)</span>
      <span id="cb10-240"><a href="#cb10-240" aria-hidden="true"></a>        <span class="cf">if</span> <span class="st">&#39;manager&#39;</span> <span class="kw">in</span> hostname:</span>
      <span id="cb10-241"><a href="#cb10-241" aria-hidden="true"></a>            ip <span class="op">=</span> machine_ip(hostname)</span>
      <span id="cb10-242"><a href="#cb10-242" aria-hidden="true"></a>            manager <span class="op">=</span> <span class="ss">f&#39;</span><span class="sc">{ip}</span><span class="ss">:</span><span class="sc">{</span>port<span class="sc">}</span><span class="ss">&#39;</span></span>
      <span id="cb10-243"><a href="#cb10-243" aria-hidden="true"></a>            log.debug(<span class="ss">f&#39;manager=</span><span class="sc">{</span>manager<span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb10-244"><a href="#cb10-244" aria-hidden="true"></a>            token <span class="op">=</span> machine_swarm_init(hostname, ip)</span>
      <span id="cb10-245"><a href="#cb10-245" aria-hidden="true"></a>        <span class="cf">else</span>:</span>
      <span id="cb10-246"><a href="#cb10-246" aria-hidden="true"></a>            machine_swarm_join(hostname, token, manager)</span>
      <span id="cb10-247"><a href="#cb10-247" aria-hidden="true"></a>    log.info(<span class="ss">f&#39;&gt; </span><span class="sc">{</span><span class="bu">len</span>(<span class="bu">list</span>)<span class="sc">}</span><span class="ss"> nodes registered.&#39;</span>)</span>
      <span id="cb10-248"><a href="#cb10-248" aria-hidden="true"></a></span>
      <span id="cb10-249"><a href="#cb10-249" aria-hidden="true"></a>...</span>
      <span id="cb10-250"><a href="#cb10-250" aria-hidden="true"></a></span>
      <span id="cb10-251"><a href="#cb10-251" aria-hidden="true"></a><span class="kw">def</span> swarm_config_network(<span class="bu">list</span>):</span>
      <span id="cb10-252"><a href="#cb10-252" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;&#39;swarm_setup(list)&#39; documentation.</span></span>
      <span id="cb10-253"><a href="#cb10-253" aria-hidden="true"></a><span class="co">    </span></span>
      <span id="cb10-254"><a href="#cb10-254" aria-hidden="true"></a><span class="co">    &quot;&quot;&quot;</span></span>
      <span id="cb10-255"><a href="#cb10-255" aria-hidden="true"></a>    log.info(<span class="st">&#39;&gt; Setting up network...&#39;</span>)</span>
      <span id="cb10-256"><a href="#cb10-256" aria-hidden="true"></a>    log.debug(<span class="ss">f&#39;list=</span><span class="sc">{</span><span class="bu">list</span><span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb10-257"><a href="#cb10-257" aria-hidden="true"></a>    <span class="co"># Create temporary hosts file</span></span>
      <span id="cb10-258"><a href="#cb10-258" aria-hidden="true"></a>    local_path <span class="op">=</span> <span class="st">&#39;tmp/hosts&#39;</span></span>
      <span id="cb10-259"><a href="#cb10-259" aria-hidden="true"></a>    <span class="bu">file</span> <span class="op">=</span> <span class="bu">open</span>(local_path, <span class="st">&#39;w&#39;</span>)</span>
      <span id="cb10-260"><a href="#cb10-260" aria-hidden="true"></a>    <span class="bu">file</span>.write(<span class="st">&#39;# /etc/hosts</span><span class="ch">\n</span><span class="st">&#39;</span>)</span>
      <span id="cb10-261"><a href="#cb10-261" aria-hidden="true"></a>    <span class="cf">for</span> hostname <span class="kw">in</span> <span class="bu">list</span>:</span>
      <span id="cb10-262"><a href="#cb10-262" aria-hidden="true"></a>        ip <span class="op">=</span> machine_ip(hostname)</span>
      <span id="cb10-263"><a href="#cb10-263" aria-hidden="true"></a>        line <span class="op">=</span> <span class="ss">f&#39;</span><span class="sc">{ip}</span><span class="ss"> </span><span class="sc">{</span>hostname<span class="sc">}</span><span class="ss">&#39;</span></span>
      <span id="cb10-264"><a href="#cb10-264" aria-hidden="true"></a>        log.debug(<span class="ss">f&#39;Adding line=</span><span class="sc">{</span>line<span class="sc">}</span><span class="ss"> to </span><span class="sc">{</span>local_path<span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb10-265"><a href="#cb10-265" aria-hidden="true"></a>        <span class="bu">file</span>.write(<span class="ss">f&#39;</span><span class="sc">{</span>line<span class="sc">}</span><span class="ch">\n</span><span class="ss">&#39;</span>)</span>
      <span id="cb10-266"><a href="#cb10-266" aria-hidden="true"></a>    <span class="bu">file</span>.close()</span>
      <span id="cb10-267"><a href="#cb10-267" aria-hidden="true"></a>    <span class="co"># Write to each host</span></span>
      <span id="cb10-268"><a href="#cb10-268" aria-hidden="true"></a>    tag <span class="op">=</span> <span class="ss">f&#39;# Added by </span><span class="sc">{</span>__basename__<span class="sc">}</span><span class="ss">:swarm_config_network()&#39;</span></span>
      <span id="cb10-269"><a href="#cb10-269" aria-hidden="true"></a>    remote_path <span class="op">=</span> <span class="st">&#39;/etc/hosts&#39;</span></span>
      <span id="cb10-270"><a href="#cb10-270" aria-hidden="true"></a>    <span class="cf">for</span> hostname <span class="kw">in</span> <span class="bu">list</span>:</span>
      <span id="cb10-271"><a href="#cb10-271" aria-hidden="true"></a>        log.info(<span class="ss">f&#39;</span><span class="sc">{</span>hostname<span class="sc">}</span><span class="ss">: Edit </span><span class="sc">{</span>remote_path<span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb10-272"><a href="#cb10-272" aria-hidden="true"></a>        <span class="co"># Remove previous appends depending on tag</span></span>
      <span id="cb10-273"><a href="#cb10-273" aria-hidden="true"></a>        cmd <span class="op">=</span> <span class="st">&#39;&#39;</span></span>
      <span id="cb10-274"><a href="#cb10-274" aria-hidden="true"></a>        cmd <span class="op">+=</span> <span class="st">&#39;i=1; while read line; do &#39;</span></span>
      <span id="cb10-275"><a href="#cb10-275" aria-hidden="true"></a>        cmd <span class="op">+=</span> <span class="st">&#39;if [ &quot;$line&quot; == &quot;&#39;</span><span class="op">+</span> tag <span class="op">+</span><span class="st">&#39;&quot; ]; then break; fi; i=$((i+1)); &#39;</span></span>
      <span id="cb10-276"><a href="#cb10-276" aria-hidden="true"></a>        cmd <span class="op">+=</span> <span class="st">&#39;done &lt; /etc/hosts; &#39;</span></span>
      <span id="cb10-277"><a href="#cb10-277" aria-hidden="true"></a>        cmd <span class="op">+=</span> <span class="st">&#39;head -n $((i-1)) /etc/hosts | sudo tee /etc/hosts&#39;</span></span>
      <span id="cb10-278"><a href="#cb10-278" aria-hidden="true"></a>        proc <span class="op">=</span> machine_ssh(hostname, cmd)</span>
      <span id="cb10-279"><a href="#cb10-279" aria-hidden="true"></a>        <span class="co"># Append host definitions</span></span>
      <span id="cb10-280"><a href="#cb10-280" aria-hidden="true"></a>        cmd <span class="op">=</span> <span class="st">&#39;{ echo &quot;&#39;</span> <span class="op">+</span> tag <span class="op">+</span> <span class="st">&#39;&quot;; &#39;</span></span>
      <span id="cb10-281"><a href="#cb10-281" aria-hidden="true"></a>        <span class="cf">for</span> line <span class="kw">in</span> get_listfromfile(local_path):</span>
      <span id="cb10-282"><a href="#cb10-282" aria-hidden="true"></a>            <span class="cf">if</span> line.endswith(hostname): <span class="cf">continue</span></span>
      <span id="cb10-283"><a href="#cb10-283" aria-hidden="true"></a>            cmd <span class="op">=</span> cmd <span class="op">+</span> <span class="st">&#39;echo &quot;&#39;</span> <span class="op">+</span> line <span class="op">+</span> <span class="st">&#39;&quot;; &#39;</span></span>
      <span id="cb10-284"><a href="#cb10-284" aria-hidden="true"></a>        cmd <span class="op">=</span> cmd <span class="op">+</span> <span class="st">&#39;} | sudo tee -a /etc/hosts&#39;</span></span>
      <span id="cb10-285"><a href="#cb10-285" aria-hidden="true"></a>        proc <span class="op">=</span> machine_ssh(hostname, cmd)</span>
      <span id="cb10-286"><a href="#cb10-286" aria-hidden="true"></a>    log.info(<span class="st">&#39;&gt; Network setup complete.&#39;</span>)</span>
      <span id="cb10-287"><a href="#cb10-287" aria-hidden="true"></a></span>
      <span id="cb10-288"><a href="#cb10-288" aria-hidden="true"></a>...</span>
      <span id="cb10-289"><a href="#cb10-289" aria-hidden="true"></a></span>
      <span id="cb10-290"><a href="#cb10-290" aria-hidden="true"></a><span class="co">&quot;&quot;&quot; STACK FUNCTIONS ------------------------------------------------------- &quot;&quot;&quot;</span></span>
      <span id="cb10-291"><a href="#cb10-291" aria-hidden="true"></a><span class="kw">def</span> compose_convert():</span>
      <span id="cb10-292"><a href="#cb10-292" aria-hidden="true"></a>    <span class="co">&#39;&#39;&#39;&#39;&#39;&#39;</span></span>
      <span id="cb10-293"><a href="#cb10-293" aria-hidden="true"></a>    version <span class="op">=</span> <span class="st">&#39;3.6&#39;</span></span>
      <span id="cb10-294"><a href="#cb10-294" aria-hidden="true"></a></span>
      <span id="cb10-295"><a href="#cb10-295" aria-hidden="true"></a>    cmd <span class="op">=</span> [get_exec(<span class="st">&#39;docker&#39;</span>), <span class="st">&#39;compose&#39;</span>, <span class="st">&#39;convert&#39;</span>]</span>
      <span id="cb10-296"><a href="#cb10-296" aria-hidden="true"></a>    proc <span class="op">=</span> subprocess_run(cmd)</span>
      <span id="cb10-297"><a href="#cb10-297" aria-hidden="true"></a></span>
      <span id="cb10-298"><a href="#cb10-298" aria-hidden="true"></a>    <span class="co"># &#39;docker compose convert&#39; needs serious fixing...</span></span>
      <span id="cb10-299"><a href="#cb10-299" aria-hidden="true"></a>    <span class="co"># 1. add mandatory compose version.</span></span>
      <span id="cb10-300"><a href="#cb10-300" aria-hidden="true"></a>    compose <span class="op">=</span> <span class="ss">f&quot;version: &#39;</span><span class="sc">{</span>version<span class="sc">}</span><span class="ss">&#39;</span><span class="ch">\n</span><span class="ss">&quot;</span></span>
      <span id="cb10-301"><a href="#cb10-301" aria-hidden="true"></a>    <span class="cf">for</span> line <span class="kw">in</span> proc.stdout.splitlines():</span>
      <span id="cb10-302"><a href="#cb10-302" aria-hidden="true"></a>        <span class="co"># 2. remove conflicting name entry.</span></span>
      <span id="cb10-303"><a href="#cb10-303" aria-hidden="true"></a>        <span class="cf">if</span> line.startswith(<span class="st">&#39;name&#39;</span>) : <span class="cf">continue</span></span>
      <span id="cb10-304"><a href="#cb10-304" aria-hidden="true"></a>        <span class="co"># 3. remove &#39;&quot;&#39; to define integers.</span></span>
      <span id="cb10-305"><a href="#cb10-305" aria-hidden="true"></a>        <span class="cf">if</span> <span class="st">&#39;published&#39;</span> <span class="kw">in</span> line : line <span class="op">=</span> line.replace(<span class="st">&#39;&quot;&#39;</span>, <span class="st">&#39;&#39;</span>)</span>
      <span id="cb10-306"><a href="#cb10-306" aria-hidden="true"></a>        compose <span class="op">=</span> compose <span class="op">+</span> <span class="ss">f&#39;</span><span class="sc">{</span>line<span class="sc">}</span><span class="ch">\n</span><span class="ss">&#39;</span></span>
      <span id="cb10-307"><a href="#cb10-307" aria-hidden="true"></a></span>
      <span id="cb10-308"><a href="#cb10-308" aria-hidden="true"></a>    <span class="cf">return</span> compose</span>
      <span id="cb10-309"><a href="#cb10-309" aria-hidden="true"></a></span>
      <span id="cb10-310"><a href="#cb10-310" aria-hidden="true"></a>...</span>
      <span id="cb10-311"><a href="#cb10-311" aria-hidden="true"></a></span>
      <span id="cb10-312"><a href="#cb10-312" aria-hidden="true"></a><span class="kw">def</span> stack_deploy(stack, manager):</span>
      <span id="cb10-313"><a href="#cb10-313" aria-hidden="true"></a>    <span class="co">&#39;&#39;&#39;Deploy a single docker stack on swarm manager.&#39;&#39;&#39;</span></span>
      <span id="cb10-314"><a href="#cb10-314" aria-hidden="true"></a>    log.debug(<span class="ss">f&#39;stack=</span><span class="sc">{</span>stack<span class="sc">}</span><span class="ss">, manager=</span><span class="sc">{</span>manager<span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb10-315"><a href="#cb10-315" aria-hidden="true"></a>    log.info(<span class="ss">f&#39;</span><span class="sc">{</span>stack<span class="sc">}</span><span class="ss">: Deploying stack.&#39;</span>)</span>
      <span id="cb10-316"><a href="#cb10-316" aria-hidden="true"></a></span>
      <span id="cb10-317"><a href="#cb10-317" aria-hidden="true"></a>    <span class="co"># Setup working directory and environment</span></span>
      <span id="cb10-318"><a href="#cb10-318" aria-hidden="true"></a>    os.chdir(<span class="ss">f&#39;</span><span class="sc">{</span>__dirname__<span class="sc">}</span><span class="ss">/stacks/</span><span class="sc">{</span>stack<span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb10-319"><a href="#cb10-319" aria-hidden="true"></a>    machine_activate(manager)</span>
      <span id="cb10-320"><a href="#cb10-320" aria-hidden="true"></a></span>
      <span id="cb10-321"><a href="#cb10-321" aria-hidden="true"></a>    <span class="co"># Add environment variables</span></span>
      <span id="cb10-322"><a href="#cb10-322" aria-hidden="true"></a>    env <span class="op">=</span> [</span>
      <span id="cb10-323"><a href="#cb10-323" aria-hidden="true"></a>      (<span class="st">&#39;STACK&#39;</span>, stack),</span>
      <span id="cb10-324"><a href="#cb10-324" aria-hidden="true"></a>      (<span class="st">&#39;MANAGER&#39;</span>, manager)</span>
      <span id="cb10-325"><a href="#cb10-325" aria-hidden="true"></a>    ]</span>
      <span id="cb10-326"><a href="#cb10-326" aria-hidden="true"></a>    <span class="cf">for</span> key, value <span class="kw">in</span> env:</span>
      <span id="cb10-327"><a href="#cb10-327" aria-hidden="true"></a>        os.environ[key] <span class="op">=</span> value</span>
      <span id="cb10-328"><a href="#cb10-328" aria-hidden="true"></a></span>
      <span id="cb10-329"><a href="#cb10-329" aria-hidden="true"></a>    <span class="co"># If stack contains builds</span></span>
      <span id="cb10-330"><a href="#cb10-330" aria-hidden="true"></a>    <span class="cf">if</span> os.path.isdir(<span class="st">&#39;builds&#39;</span>):</span>
      <span id="cb10-331"><a href="#cb10-331" aria-hidden="true"></a>        <span class="cf">for</span> build <span class="kw">in</span> os.listdir(<span class="st">&#39;builds&#39;</span>):</span>
      <span id="cb10-332"><a href="#cb10-332" aria-hidden="true"></a>            log.debug(<span class="ss">f&#39;build=</span><span class="sc">{</span>build<span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb10-333"><a href="#cb10-333" aria-hidden="true"></a>            <span class="co"># Build image</span></span>
      <span id="cb10-334"><a href="#cb10-334" aria-hidden="true"></a>            log.info(<span class="ss">f&#39;</span><span class="sc">{</span>stack<span class="sc">}</span><span class="ss">: Building </span><span class="sc">{</span>build<span class="sc">}</span><span class="ss">.&#39;</span>)</span>
      <span id="cb10-335"><a href="#cb10-335" aria-hidden="true"></a>            cmd <span class="op">=</span> [get_exec(<span class="st">&#39;docker&#39;</span>), <span class="st">&#39;build&#39;</span>, <span class="st">&#39;-t&#39;</span>, <span class="ss">f&#39;127.0.0.1:5000/</span><span class="sc">{</span>stack<span class="sc">}</span><span class="ss">-</span><span class="sc">{</span>build<span class="sc">}</span><span class="ss">&#39;</span>, <span class="ss">f&#39;builds/</span><span class="sc">{</span>build<span class="sc">}</span><span class="ss">/.&#39;</span>]</span>
      <span id="cb10-336"><a href="#cb10-336" aria-hidden="true"></a>            proc <span class="op">=</span> subprocess_run(cmd, timeout_s<span class="op">=</span><span class="dv">240</span>)</span>
      <span id="cb10-337"><a href="#cb10-337" aria-hidden="true"></a>            <span class="co"># Push image to registry</span></span>
      <span id="cb10-338"><a href="#cb10-338" aria-hidden="true"></a>            log.info(<span class="ss">f&#39;</span><span class="sc">{</span>stack<span class="sc">}</span><span class="ss">: Pushing </span><span class="sc">{</span>build<span class="sc">}</span><span class="ss">.&#39;</span>)</span>
      <span id="cb10-339"><a href="#cb10-339" aria-hidden="true"></a>            cmd <span class="op">=</span> [get_exec(<span class="st">&#39;docker&#39;</span>), <span class="st">&#39;push&#39;</span>, <span class="ss">f&#39;127.0.0.1:5000/</span><span class="sc">{</span>stack<span class="sc">}</span><span class="ss">-</span><span class="sc">{</span>build<span class="sc">}</span><span class="ss">:latest&#39;</span>]</span>
      <span id="cb10-340"><a href="#cb10-340" aria-hidden="true"></a>            proc <span class="op">=</span> subprocess_run(cmd, timeout_s<span class="op">=</span><span class="dv">240</span>)</span>
      <span id="cb10-341"><a href="#cb10-341" aria-hidden="true"></a></span>
      <span id="cb10-342"><a href="#cb10-342" aria-hidden="true"></a>    <span class="co"># Deploy stack</span></span>
      <span id="cb10-343"><a href="#cb10-343" aria-hidden="true"></a>    compose <span class="op">=</span> compose_convert()</span>
      <span id="cb10-344"><a href="#cb10-344" aria-hidden="true"></a>    cmd <span class="op">=</span> [get_exec(<span class="st">&#39;docker&#39;</span>), <span class="st">&#39;stack&#39;</span>, <span class="st">&#39;deploy&#39;</span>, <span class="st">&#39;--compose-file&#39;</span>, <span class="st">&#39;-&#39;</span>, stack]</span>
      <span id="cb10-345"><a href="#cb10-345" aria-hidden="true"></a>    proc <span class="op">=</span> subprocess_run(cmd, <span class="bu">input</span><span class="op">=</span>compose)</span>
      <span id="cb10-346"><a href="#cb10-346" aria-hidden="true"></a></span>
      <span id="cb10-347"><a href="#cb10-347" aria-hidden="true"></a>    <span class="co"># Revert working directory and environment</span></span>
      <span id="cb10-348"><a href="#cb10-348" aria-hidden="true"></a>    os.chdir(__dirname__)</span>
      <span id="cb10-349"><a href="#cb10-349" aria-hidden="true"></a>    os.environ <span class="op">=</span> __env__</span>
      <span id="cb10-350"><a href="#cb10-350" aria-hidden="true"></a>    log.info(<span class="ss">f&#39;</span><span class="sc">{</span>stack<span class="sc">}</span><span class="ss">: Stack deployed.&#39;</span>)</span>
      <span id="cb10-351"><a href="#cb10-351" aria-hidden="true"></a></span>
      <span id="cb10-352"><a href="#cb10-352" aria-hidden="true"></a>...</span>
      <span id="cb10-353"><a href="#cb10-353" aria-hidden="true"></a></span>
      <span id="cb10-354"><a href="#cb10-354" aria-hidden="true"></a><span class="co">&quot;&quot;&quot; MAIN FUNCTION --------------------------------------------------------- &quot;&quot;&quot;</span></span>
      <span id="cb10-355"><a href="#cb10-355" aria-hidden="true"></a><span class="kw">def</span> main():</span>
      <span id="cb10-356"><a href="#cb10-356" aria-hidden="true"></a>    <span class="co">&#39;&#39;&#39; Main entry point&#39;&#39;&#39;</span></span>
      <span id="cb10-357"><a href="#cb10-357" aria-hidden="true"></a>    <span class="co"># Parse args</span></span>
      <span id="cb10-358"><a href="#cb10-358" aria-hidden="true"></a>    args <span class="op">=</span> parser.parse_args()</span>
      <span id="cb10-359"><a href="#cb10-359" aria-hidden="true"></a>    log.debug(<span class="ss">f&#39;args=</span><span class="sc">{</span>args<span class="sc">}</span><span class="ss">, args.subcommand=</span><span class="sc">{</span>args<span class="sc">.</span>subcommand<span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb10-360"><a href="#cb10-360" aria-hidden="true"></a>    <span class="cf">if</span> args.subcommand <span class="kw">is</span> <span class="va">None</span>:</span>
      <span id="cb10-361"><a href="#cb10-361" aria-hidden="true"></a>        parser.print_help()</span>
      <span id="cb10-362"><a href="#cb10-362" aria-hidden="true"></a>    <span class="cf">else</span>:</span>
      <span id="cb10-363"><a href="#cb10-363" aria-hidden="true"></a>        args.func(args)</span>
      <span id="cb10-364"><a href="#cb10-364" aria-hidden="true"></a></span>
      <span id="cb10-365"><a href="#cb10-365" aria-hidden="true"></a>    <span class="co"># Debug:</span></span>
      <span id="cb10-366"><a href="#cb10-366" aria-hidden="true"></a>    <span class="co"># print(&quot;User&#39;s Environment variable:&quot;)</span></span>
      <span id="cb10-367"><a href="#cb10-367" aria-hidden="true"></a>    <span class="co"># pprint.pprint(dict(__env__), width = 1)</span></span>
      <span id="cb10-368"><a href="#cb10-368" aria-hidden="true"></a></span>
      <span id="cb10-369"><a href="#cb10-369" aria-hidden="true"></a>    <span class="co"># Execution time</span></span>
      <span id="cb10-370"><a href="#cb10-370" aria-hidden="true"></a>    log.debug(<span class="ss">f&#39;Execution time: </span><span class="sc">{</span>(time.time()<span class="op">-</span>__start__)<span class="op">*</span><span class="dv">10</span><span class="op">**</span><span class="dv">3</span><span class="sc">:.03f}</span><span class="ss"> ms&#39;</span>)</span>
      <span id="cb10-371"><a href="#cb10-371" aria-hidden="true"></a></span>
      <span id="cb10-372"><a href="#cb10-372" aria-hidden="true"></a><span class="co">&quot;&quot;&quot; RUNTIME --------------------------------------------------------------- &quot;&quot;&quot;</span></span>
      <span id="cb10-373"><a href="#cb10-373" aria-hidden="true"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&#39;__main__&#39;</span>:</span>
      <span id="cb10-374"><a href="#cb10-374" aria-hidden="true"></a>    <span class="co">&#39;&#39;&#39; This is executed when run from the command line &#39;&#39;&#39;</span></span>
      <span id="cb10-375"><a href="#cb10-375" aria-hidden="true"></a>    main()</span>
      <span id="cb10-376"><a href="#cb10-376" aria-hidden="true"></a>sys.exit(<span class="dv">0</span>)</span>
      <span id="cb10-377"><a href="#cb10-377" aria-hidden="true"></a></span></code></pre></div>
      <!-- cSpell:enable -->
      <h5 id="shell">7.1.3.3. Shell<!-- OK --></h5>
      <p>Un <strong>shell Unix</strong> est un <strong>interpréteur de commandes</strong> destiné aux systèmes d’exploitation Unix et de type Unix qui permet d’accéder aux fonctionnalités internes du système d’exploitation.</p>
      <p>Un <strong>script shell</strong> est une <strong>liste de commandes</strong> dans un programme qui est <strong>exécute par le shell Unix</strong>. Un script shell comprends des commandes et des commentaires décrivant les opérations effectuées. Ce sont généralement des exécutions de programmes, de la manipulation de fichiers et de l’affichage de texte.</p>
      <p>Voici <code>start.sh</code>, un exemple de script shell (utilisé par le Dockerfile précédent comme script de démarrage du conteneur) démarrant successivement un serveur ssh et l’applicatif de Tomcat :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb11"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a></span>
      <span id="cb11-2"><a href="#cb11-2" aria-hidden="true"></a><span class="co">#!/usr/bin/env sh</span></span>
      <span id="cb11-3"><a href="#cb11-3" aria-hidden="true"></a></span>
      <span id="cb11-4"><a href="#cb11-4" aria-hidden="true"></a><span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${HOSTNAME}</span><span class="st">:</span><span class="va">$0</span><span class="st">: &gt;&gt; Begin.&quot;</span></span>
      <span id="cb11-5"><a href="#cb11-5" aria-hidden="true"></a></span>
      <span id="cb11-6"><a href="#cb11-6" aria-hidden="true"></a><span class="kw">set</span> <span class="ex">-e</span></span>
      <span id="cb11-7"><a href="#cb11-7" aria-hidden="true"></a></span>
      <span id="cb11-8"><a href="#cb11-8" aria-hidden="true"></a><span class="bu">[</span> <span class="st">&quot;</span><span class="va">$DEBUG</span><span class="st">&quot;</span> <span class="ot">==</span> <span class="st">&#39;true&#39;</span><span class="bu"> ]</span> <span class="kw">&amp;&amp;</span> <span class="kw">set</span> <span class="ex">-x</span></span>
      <span id="cb11-9"><a href="#cb11-9" aria-hidden="true"></a></span>
      <span id="cb11-10"><a href="#cb11-10" aria-hidden="true"></a><span class="co"># Base image Ubuntu 22.04 uses sysvinit init system</span></span>
      <span id="cb11-11"><a href="#cb11-11" aria-hidden="true"></a><span class="co"># Use following instead of `systemctl enable --now ssh` to start ssh server</span></span>
      <span id="cb11-12"><a href="#cb11-12" aria-hidden="true"></a><span class="ex">service</span> ssh start</span>
      <span id="cb11-13"><a href="#cb11-13" aria-hidden="true"></a></span>
      <span id="cb11-14"><a href="#cb11-14" aria-hidden="true"></a><span class="co"># Start tomcat service</span></span>
      <span id="cb11-15"><a href="#cb11-15" aria-hidden="true"></a><span class="ex">catalina.sh</span> run</span>
      <span id="cb11-16"><a href="#cb11-16" aria-hidden="true"></a></span>
      <span id="cb11-17"><a href="#cb11-17" aria-hidden="true"></a><span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${HOSTNAME}</span><span class="st">:</span><span class="va">$0</span><span class="st">: &gt;&gt; Terminate.&quot;</span></span>
      <span id="cb11-18"><a href="#cb11-18" aria-hidden="true"></a></span>
      <span id="cb11-19"><a href="#cb11-19" aria-hidden="true"></a><span class="bu">exec</span> <span class="st">&quot;</span><span class="va">$@</span><span class="st">&quot;</span></span></code></pre></div>
      <!-- cSpell:enable -->
      <h5 id="xml">7.1.3.4. XML<!-- OK --></h5>
      <p>Le <strong>langage de balisage extensible</strong>, abrégé XML de l’anglais Extensible Markup Language est un <strong>métalangage de balisage générique</strong>, pour stocker, transmettre et reconstruire des données arbitraires. Il définit un jeux de règles pour construire des documents dans un format lisible facilement par l’homme ou la machine.</p>
      <p>L’objectif initial du XML est de <strong>faciliter l’échange automatisé</strong> de contenus complexes (arbres, texte enrichi, etc.) entre systèmes d’informations hétérogènes (interopérabilité).</p>
      <p>Voici des extraits de <code>web.xml</code>, fichier XML utilisé par le serveur Tomcat pour configurer l’application, dans lequel on peut voir des éléments sur l’authentification et la sécurité, ou la configuration des servlets :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb12"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true"></a></span>
      <span id="cb12-2"><a href="#cb12-2" aria-hidden="true"></a><span class="kw">&lt;?xml</span> version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;<span class="kw">?&gt;</span></span>
      <span id="cb12-3"><a href="#cb12-3" aria-hidden="true"></a></span>
      <span id="cb12-4"><a href="#cb12-4" aria-hidden="true"></a><span class="kw">&lt;web-app</span> </span>
      <span id="cb12-5"><a href="#cb12-5" aria-hidden="true"></a><span class="ot">    xmlns=</span><span class="st">&quot;http://java.sun.com/xml/ns/javaee&quot;</span></span>
      <span id="cb12-6"><a href="#cb12-6" aria-hidden="true"></a><span class="ot">    xmlns:xsi=</span><span class="st">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
      <span id="cb12-7"><a href="#cb12-7" aria-hidden="true"></a><span class="ot">    xsi:schemaLocation=</span><span class="st">&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;</span></span>
      <span id="cb12-8"><a href="#cb12-8" aria-hidden="true"></a><span class="ot">    metadata-complete=</span><span class="st">&quot;false&quot;</span></span>
      <span id="cb12-9"><a href="#cb12-9" aria-hidden="true"></a><span class="ot">    version=</span><span class="st">&quot;3.0&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb12-10"><a href="#cb12-10" aria-hidden="true"></a></span>
      <span id="cb12-11"><a href="#cb12-11" aria-hidden="true"></a>  <span class="kw">&lt;display-name&gt;</span>Storage Manager<span class="kw">&lt;/display-name&gt;</span></span>
      <span id="cb12-12"><a href="#cb12-12" aria-hidden="true"></a></span>
      <span id="cb12-13"><a href="#cb12-13" aria-hidden="true"></a><span class="co">&lt;!-- ======================================================== Welcome files --&gt;</span></span>
      <span id="cb12-14"><a href="#cb12-14" aria-hidden="true"></a>  <span class="kw">&lt;welcome-file-list&gt;</span></span>
      <span id="cb12-15"><a href="#cb12-15" aria-hidden="true"></a>    <span class="kw">&lt;welcome-file&gt;</span>Welcome<span class="kw">&lt;/welcome-file&gt;</span></span>
      <span id="cb12-16"><a href="#cb12-16" aria-hidden="true"></a>  <span class="kw">&lt;/welcome-file-list&gt;</span></span>
      <span id="cb12-17"><a href="#cb12-17" aria-hidden="true"></a></span>
      <span id="cb12-18"><a href="#cb12-18" aria-hidden="true"></a><span class="co">&lt;!-- ================================================== Security constraint --&gt;</span></span>
      <span id="cb12-19"><a href="#cb12-19" aria-hidden="true"></a><span class="co">&lt;!-- ............................................................... PUBLIC --&gt;</span></span>
      <span id="cb12-20"><a href="#cb12-20" aria-hidden="true"></a>  <span class="kw">&lt;security-constraint&gt;</span></span>
      <span id="cb12-21"><a href="#cb12-21" aria-hidden="true"></a>    <span class="kw">&lt;web-resource-collection&gt;</span></span>
      <span id="cb12-22"><a href="#cb12-22" aria-hidden="true"></a>      <span class="kw">&lt;web-resource-name&gt;</span>All Access - Welcome page<span class="kw">&lt;/web-resource-name&gt;</span></span>
      <span id="cb12-23"><a href="#cb12-23" aria-hidden="true"></a>      <span class="kw">&lt;url-pattern&gt;</span>/Welcome<span class="kw">&lt;/url-pattern&gt;</span></span>
      <span id="cb12-24"><a href="#cb12-24" aria-hidden="true"></a>      <span class="kw">&lt;http-method&gt;</span>GET<span class="kw">&lt;/http-method&gt;</span></span>
      <span id="cb12-25"><a href="#cb12-25" aria-hidden="true"></a>    <span class="kw">&lt;/web-resource-collection&gt;</span></span>
      <span id="cb12-26"><a href="#cb12-26" aria-hidden="true"></a>    <span class="co">&lt;!-- Omitting &lt;auth-constraint&gt; to get public access --&gt;</span></span>
      <span id="cb12-27"><a href="#cb12-27" aria-hidden="true"></a>    <span class="kw">&lt;user-data-constraint&gt;</span></span>
      <span id="cb12-28"><a href="#cb12-28" aria-hidden="true"></a>      <span class="kw">&lt;transport-guarantee&gt;</span>NONE<span class="kw">&lt;/transport-guarantee&gt;</span></span>
      <span id="cb12-29"><a href="#cb12-29" aria-hidden="true"></a>    <span class="kw">&lt;/user-data-constraint&gt;</span></span>
      <span id="cb12-30"><a href="#cb12-30" aria-hidden="true"></a>  <span class="kw">&lt;/security-constraint&gt;</span></span>
      <span id="cb12-31"><a href="#cb12-31" aria-hidden="true"></a></span>
      <span id="cb12-32"><a href="#cb12-32" aria-hidden="true"></a>...</span>
      <span id="cb12-33"><a href="#cb12-33" aria-hidden="true"></a></span>
      <span id="cb12-34"><a href="#cb12-34" aria-hidden="true"></a><span class="co">&lt;!-- ........................................................... RESTRICTED --&gt;</span></span>
      <span id="cb12-35"><a href="#cb12-35" aria-hidden="true"></a>  <span class="kw">&lt;security-constraint&gt;</span></span>
      <span id="cb12-36"><a href="#cb12-36" aria-hidden="true"></a>    <span class="kw">&lt;web-resource-collection&gt;</span></span>
      <span id="cb12-37"><a href="#cb12-37" aria-hidden="true"></a>      <span class="kw">&lt;web-resource-name&gt;</span>Restricted Access - admin,user<span class="kw">&lt;/web-resource-name&gt;</span></span>
      <span id="cb12-38"><a href="#cb12-38" aria-hidden="true"></a>      <span class="kw">&lt;url-pattern&gt;</span>/*<span class="kw">&lt;/url-pattern&gt;</span></span>
      <span id="cb12-39"><a href="#cb12-39" aria-hidden="true"></a>      <span class="kw">&lt;http-method&gt;</span>GET<span class="kw">&lt;/http-method&gt;</span></span>
      <span id="cb12-40"><a href="#cb12-40" aria-hidden="true"></a>      <span class="kw">&lt;http-method&gt;</span>POST<span class="kw">&lt;/http-method&gt;</span></span>
      <span id="cb12-41"><a href="#cb12-41" aria-hidden="true"></a>    <span class="kw">&lt;/web-resource-collection&gt;</span></span>
      <span id="cb12-42"><a href="#cb12-42" aria-hidden="true"></a>    <span class="kw">&lt;auth-constraint&gt;</span></span>
      <span id="cb12-43"><a href="#cb12-43" aria-hidden="true"></a>      <span class="kw">&lt;role-name&gt;</span>admin<span class="kw">&lt;/role-name&gt;</span></span>
      <span id="cb12-44"><a href="#cb12-44" aria-hidden="true"></a>      <span class="kw">&lt;role-name&gt;</span>user<span class="kw">&lt;/role-name&gt;</span></span>
      <span id="cb12-45"><a href="#cb12-45" aria-hidden="true"></a>    <span class="kw">&lt;/auth-constraint&gt;</span></span>
      <span id="cb12-46"><a href="#cb12-46" aria-hidden="true"></a>    <span class="kw">&lt;user-data-constraint&gt;</span></span>
      <span id="cb12-47"><a href="#cb12-47" aria-hidden="true"></a>      <span class="kw">&lt;transport-guarantee&gt;</span>NONE<span class="kw">&lt;/transport-guarantee&gt;</span></span>
      <span id="cb12-48"><a href="#cb12-48" aria-hidden="true"></a>    <span class="kw">&lt;/user-data-constraint&gt;</span></span>
      <span id="cb12-49"><a href="#cb12-49" aria-hidden="true"></a>  <span class="kw">&lt;/security-constraint&gt;</span></span>
      <span id="cb12-50"><a href="#cb12-50" aria-hidden="true"></a></span>
      <span id="cb12-51"><a href="#cb12-51" aria-hidden="true"></a>...</span>
      <span id="cb12-52"><a href="#cb12-52" aria-hidden="true"></a></span>
      <span id="cb12-53"><a href="#cb12-53" aria-hidden="true"></a><span class="co">&lt;!-- ................................................................ ROLES --&gt;</span></span>
      <span id="cb12-54"><a href="#cb12-54" aria-hidden="true"></a>  <span class="kw">&lt;security-role&gt;</span></span>
      <span id="cb12-55"><a href="#cb12-55" aria-hidden="true"></a>    <span class="kw">&lt;role-name&gt;</span>admin<span class="kw">&lt;/role-name&gt;</span></span>
      <span id="cb12-56"><a href="#cb12-56" aria-hidden="true"></a>    <span class="kw">&lt;role-name&gt;</span>user<span class="kw">&lt;/role-name&gt;</span></span>
      <span id="cb12-57"><a href="#cb12-57" aria-hidden="true"></a>  <span class="kw">&lt;/security-role&gt;</span></span>
      <span id="cb12-58"><a href="#cb12-58" aria-hidden="true"></a><span class="co">&lt;!-- ................................................................ LOGIN --&gt;</span></span>
      <span id="cb12-59"><a href="#cb12-59" aria-hidden="true"></a>  <span class="kw">&lt;login-config&gt;</span></span>
      <span id="cb12-60"><a href="#cb12-60" aria-hidden="true"></a>    <span class="kw">&lt;auth-method&gt;</span>FORM<span class="kw">&lt;/auth-method&gt;</span></span>
      <span id="cb12-61"><a href="#cb12-61" aria-hidden="true"></a>    <span class="kw">&lt;realm-name&gt;</span>default<span class="kw">&lt;/realm-name&gt;</span></span>
      <span id="cb12-62"><a href="#cb12-62" aria-hidden="true"></a>    <span class="kw">&lt;form-login-config&gt;</span></span>
      <span id="cb12-63"><a href="#cb12-63" aria-hidden="true"></a>      <span class="kw">&lt;form-login-page&gt;</span>/Login<span class="kw">&lt;/form-login-page&gt;</span></span>
      <span id="cb12-64"><a href="#cb12-64" aria-hidden="true"></a>      <span class="kw">&lt;form-login-error&gt;</span>/Error<span class="kw">&lt;/form-login-error&gt;</span></span>
      <span id="cb12-65"><a href="#cb12-65" aria-hidden="true"></a>    <span class="kw">&lt;/form-login-config&gt;</span></span>
      <span id="cb12-66"><a href="#cb12-66" aria-hidden="true"></a>  <span class="kw">&lt;/login-config&gt;</span></span>
      <span id="cb12-67"><a href="#cb12-67" aria-hidden="true"></a><span class="co">&lt;!-- ============================================================== Session --&gt;</span></span>
      <span id="cb12-68"><a href="#cb12-68" aria-hidden="true"></a>  <span class="kw">&lt;session-config&gt;</span></span>
      <span id="cb12-69"><a href="#cb12-69" aria-hidden="true"></a>    <span class="kw">&lt;session-timeout&gt;</span>30<span class="kw">&lt;/session-timeout&gt;</span></span>
      <span id="cb12-70"><a href="#cb12-70" aria-hidden="true"></a>  <span class="kw">&lt;/session-config&gt;</span></span>
      <span id="cb12-71"><a href="#cb12-71" aria-hidden="true"></a><span class="co">&lt;!-- ============================================================ Listeners --&gt;</span></span>
      <span id="cb12-72"><a href="#cb12-72" aria-hidden="true"></a><span class="kw">&lt;listener&gt;</span></span>
      <span id="cb12-73"><a href="#cb12-73" aria-hidden="true"></a>    <span class="kw">&lt;listener-class&gt;</span>listener.Initializer<span class="kw">&lt;/listener-class&gt;</span></span>
      <span id="cb12-74"><a href="#cb12-74" aria-hidden="true"></a><span class="kw">&lt;/listener&gt;</span></span>
      <span id="cb12-75"><a href="#cb12-75" aria-hidden="true"></a><span class="co">&lt;!-- ============================================================== Filters --&gt;</span></span>
      <span id="cb12-76"><a href="#cb12-76" aria-hidden="true"></a>  <span class="kw">&lt;filter&gt;</span> <span class="co">&lt;!--                    SetSessionAttributes: read property file --&gt;</span></span>
      <span id="cb12-77"><a href="#cb12-77" aria-hidden="true"></a>    <span class="kw">&lt;filter-name&gt;</span>SetSessionAttributes<span class="kw">&lt;/filter-name&gt;</span></span>
      <span id="cb12-78"><a href="#cb12-78" aria-hidden="true"></a>    <span class="kw">&lt;filter-class&gt;</span>filter.SetSessionAttributes<span class="kw">&lt;/filter-class&gt;</span></span>
      <span id="cb12-79"><a href="#cb12-79" aria-hidden="true"></a>  <span class="kw">&lt;/filter&gt;</span></span>
      <span id="cb12-80"><a href="#cb12-80" aria-hidden="true"></a>  <span class="kw">&lt;filter-mapping&gt;</span></span>
      <span id="cb12-81"><a href="#cb12-81" aria-hidden="true"></a>    <span class="kw">&lt;filter-name&gt;</span>SetSessionAttributes<span class="kw">&lt;/filter-name&gt;</span></span>
      <span id="cb12-82"><a href="#cb12-82" aria-hidden="true"></a>    <span class="kw">&lt;url-pattern&gt;</span>/*<span class="kw">&lt;/url-pattern&gt;</span></span>
      <span id="cb12-83"><a href="#cb12-83" aria-hidden="true"></a>  <span class="kw">&lt;/filter-mapping&gt;</span></span>
      <span id="cb12-84"><a href="#cb12-84" aria-hidden="true"></a></span>
      <span id="cb12-85"><a href="#cb12-85" aria-hidden="true"></a>...</span>
      <span id="cb12-86"><a href="#cb12-86" aria-hidden="true"></a></span>
      <span id="cb12-87"><a href="#cb12-87" aria-hidden="true"></a><span class="co">&lt;!-- ============================================================= Servlets --&gt;</span></span>
      <span id="cb12-88"><a href="#cb12-88" aria-hidden="true"></a></span>
      <span id="cb12-89"><a href="#cb12-89" aria-hidden="true"></a>...</span>
      <span id="cb12-90"><a href="#cb12-90" aria-hidden="true"></a></span>
      <span id="cb12-91"><a href="#cb12-91" aria-hidden="true"></a><span class="co">&lt;!-- ............................................................. CATEGORY --&gt;</span></span>
      <span id="cb12-92"><a href="#cb12-92" aria-hidden="true"></a>  <span class="kw">&lt;servlet&gt;</span> <span class="co">&lt;!--                                              /CategoryInfo --&gt;</span></span>
      <span id="cb12-93"><a href="#cb12-93" aria-hidden="true"></a>    <span class="kw">&lt;servlet-name&gt;</span>CategoryInfo<span class="kw">&lt;/servlet-name&gt;</span></span>
      <span id="cb12-94"><a href="#cb12-94" aria-hidden="true"></a>    <span class="kw">&lt;servlet-class&gt;</span>servlet.category.CategoryInfo<span class="kw">&lt;/servlet-class&gt;</span></span>
      <span id="cb12-95"><a href="#cb12-95" aria-hidden="true"></a>    <span class="co">&lt;!-- &lt;load-on-startup&gt;0&lt;/load-on-startup&gt; --&gt;</span></span>
      <span id="cb12-96"><a href="#cb12-96" aria-hidden="true"></a>  <span class="kw">&lt;/servlet&gt;</span></span>
      <span id="cb12-97"><a href="#cb12-97" aria-hidden="true"></a>  <span class="kw">&lt;servlet-mapping&gt;</span></span>
      <span id="cb12-98"><a href="#cb12-98" aria-hidden="true"></a>    <span class="kw">&lt;servlet-name&gt;</span>CategoryInfo<span class="kw">&lt;/servlet-name&gt;</span></span>
      <span id="cb12-99"><a href="#cb12-99" aria-hidden="true"></a>    <span class="kw">&lt;url-pattern&gt;</span>/CategoryInfo<span class="kw">&lt;/url-pattern&gt;</span></span>
      <span id="cb12-100"><a href="#cb12-100" aria-hidden="true"></a>  <span class="kw">&lt;/servlet-mapping&gt;</span></span>
      <span id="cb12-101"><a href="#cb12-101" aria-hidden="true"></a></span>
      <span id="cb12-102"><a href="#cb12-102" aria-hidden="true"></a>...</span>
      <span id="cb12-103"><a href="#cb12-103" aria-hidden="true"></a></span>
      <span id="cb12-104"><a href="#cb12-104" aria-hidden="true"></a><span class="kw">&lt;/web-app&gt;</span></span></code></pre></div>
      <!-- cSpell:enable -->
      <h5 id="yaml">7.1.3.5. YAML<!-- OK --></h5>
      <p>YAML, acronyme de Yet Another Markup Language, un <strong>format de représentation de données</strong> par sérialisation Unicode, lisible facilement par l’homme.</p>
      <p>L’idée de YAML est que presque toute donnée peut être représentée par combinaison de listes, tableaux associatifs et données scalaires. Ce langage est couramment utilisé pour des <strong>fichiers de configuration</strong>, et dans les applications ou les données sont stockées ou transmises.</p>
      <p>Pour un exemple de fichier YAML, merci de vous référer à <a href="#7622-docker-compose">Docker Compose</a> ou <a href="#7623-docker-swarm">Docker Swarm</a>.</p>
      <h3 id="frameworks">7.2. Frameworks<!-- OK --></h3>
      <p>Dans la mesure ou ce <strong>projet est réalisé dans le cadre d’une formation</strong>, le but étant d’acquérir de solides bases sur les différents composants, il semblait naturel d’<strong>écarter la grande majorité des frameworks de développement</strong>.</p>
      <p>En effet, les diverses couches d’abstractions, bien que simplifiant grandement le développement d’une application, peuvent ici être contre-productifs :</p>
      <ul>
      <li>ils <strong>masquent les détails de la conception et de la mise en œuvre</strong>, ce qui rend plus difficile la comprehension comment les choses fonctionnent réellement.</li>
      <li>ils rendent plus difficile l’apprentissage des concepts de base de la programmation, car ils <strong>fournissent des solutions toutes faites</strong>, plutôt que de permettre aux développeurs de les <strong>résoudre les problèmes par eux-mêmes</strong>.</li>
      <li>ils rendent les <strong>applications plus lourdes et plus difficiles à déboguer</strong>, car ils ajoutent une couche supplémentaire d’abstraction.</li>
      <li>les différentes <strong>options existantes pour résoudre un problème donné sont limités</strong> aux solutions proposées par le framework.</li>
      </ul>
      <p>Il est cependant important de noter que <strong>lorsque l’on maîtrise les concepts de base</strong> et que l’on a une bonne compréhension de la façon dont les frameworks fonctionnent, ils peuvent être très <strong>utiles pour accélérer le développement</strong> et améliorer la qualité du code.</p>
      <p>Dans le cadre de ce projet, un des choix de framework aurait été Java <a href="https://spring.io/projects/spring-framework">Spring</a>.</p>
      <p>Nous avons cependant retenu <strong>deux frameworks pour ce projet</strong> :</p>
      <ul>
      <li>Java Authentication And Authorization Service</li>
      <li>reveal.js</li>
      </ul>
      <h4 id="jaas">7.2.1. JAAS<!-- OK --></h4>
      <p><strong>Java Authentication And Authorization Service</strong> (JAAS) est un <strong>framework de sécurité de bas niveau</strong> de la plateforme Java SE. En améliorant l’architecture de la sécurité de Java, ce framework ajoute la capacité de forcer un contrôle d’accès sur l’utilisateur qui exécute le code.</p>
      <p>Il est utilisé pour deux raisons:</p>
      <ul>
      <li><strong>Authentification</strong>: identification fiable et sécurisé de l’entité qui exécute actuellement le code, quelque soit son contexte d’exécution (application, applet, bean, servlet)</li>
      <li><strong>Autorisation</strong>: vérification des droits de contrôle d’accès ou des autorisations requises pour exécuter du code sensible</li>
      </ul>
      <p>L’intégration du JAAS à l’application a été réalisé de la manière suivante :</p>
      <ul>
      <li><strong>Création de deux classes</strong> java <code>UserPrincipal.java</code> et <code>RolePrincipal.java</code>, définissant les principaux :</li>
      </ul>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb13"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a></span>
      <span id="cb13-2"><a href="#cb13-2" aria-hidden="true"></a><span class="kw">package</span><span class="im"> app.auth;</span></span>
      <span id="cb13-3"><a href="#cb13-3" aria-hidden="true"></a><span class="kw">import</span><span class="im"> java.security.Principal;</span></span>
      <span id="cb13-4"><a href="#cb13-4" aria-hidden="true"></a></span>
      <span id="cb13-5"><a href="#cb13-5" aria-hidden="true"></a><span class="kw">public</span> <span class="kw">class</span> UserPrincipal <span class="kw">implements</span> <span class="bu">Principal</span> {</span>
      <span id="cb13-6"><a href="#cb13-6" aria-hidden="true"></a></span>
      <span id="cb13-7"><a href="#cb13-7" aria-hidden="true"></a>  <span class="kw">private</span> <span class="bu">String</span> name;</span>
      <span id="cb13-8"><a href="#cb13-8" aria-hidden="true"></a></span>
      <span id="cb13-9"><a href="#cb13-9" aria-hidden="true"></a>  <span class="co">/**</span></span>
      <span id="cb13-10"><a href="#cb13-10" aria-hidden="true"></a>   <span class="co">* </span><span class="an">@param name</span></span>
      <span id="cb13-11"><a href="#cb13-11" aria-hidden="true"></a>   <span class="co">*/</span></span>
      <span id="cb13-12"><a href="#cb13-12" aria-hidden="true"></a>  <span class="kw">public</span> <span class="fu">UserPrincipal</span>(<span class="bu">String</span> name) {</span>
      <span id="cb13-13"><a href="#cb13-13" aria-hidden="true"></a>    <span class="kw">super</span>();</span>
      <span id="cb13-14"><a href="#cb13-14" aria-hidden="true"></a>    <span class="kw">this</span>.<span class="fu">name</span> = name;</span>
      <span id="cb13-15"><a href="#cb13-15" aria-hidden="true"></a>  }</span>
      <span id="cb13-16"><a href="#cb13-16" aria-hidden="true"></a></span>
      <span id="cb13-17"><a href="#cb13-17" aria-hidden="true"></a>  <span class="co">/**</span></span>
      <span id="cb13-18"><a href="#cb13-18" aria-hidden="true"></a>   <span class="co">* </span><span class="an">@param name</span></span>
      <span id="cb13-19"><a href="#cb13-19" aria-hidden="true"></a>   <span class="co">*/</span></span>
      <span id="cb13-20"><a href="#cb13-20" aria-hidden="true"></a>  <span class="kw">public</span> <span class="dt">void</span> <span class="fu">setName</span>(<span class="bu">String</span> name) {</span>
      <span id="cb13-21"><a href="#cb13-21" aria-hidden="true"></a>    <span class="kw">this</span>.<span class="fu">name</span> = name;</span>
      <span id="cb13-22"><a href="#cb13-22" aria-hidden="true"></a>  }</span>
      <span id="cb13-23"><a href="#cb13-23" aria-hidden="true"></a></span>
      <span id="cb13-24"><a href="#cb13-24" aria-hidden="true"></a>  <span class="co">/*</span></span>
      <span id="cb13-25"><a href="#cb13-25" aria-hidden="true"></a><span class="co">   * (non-Javadoc)</span></span>
      <span id="cb13-26"><a href="#cb13-26" aria-hidden="true"></a><span class="co">   * </span></span>
      <span id="cb13-27"><a href="#cb13-27" aria-hidden="true"></a><span class="co">   * @see java.security.Principal#getName()</span></span>
      <span id="cb13-28"><a href="#cb13-28" aria-hidden="true"></a><span class="co">   */</span></span>
      <span id="cb13-29"><a href="#cb13-29" aria-hidden="true"></a>  <span class="at">@Override</span></span>
      <span id="cb13-30"><a href="#cb13-30" aria-hidden="true"></a>  <span class="kw">public</span> <span class="bu">String</span> <span class="fu">getName</span>() {</span>
      <span id="cb13-31"><a href="#cb13-31" aria-hidden="true"></a>    <span class="kw">return</span> name;</span>
      <span id="cb13-32"><a href="#cb13-32" aria-hidden="true"></a>  }</span>
      <span id="cb13-33"><a href="#cb13-33" aria-hidden="true"></a>}</span>
      <span id="cb13-34"><a href="#cb13-34" aria-hidden="true"></a></span></code></pre></div>
      <!-- cSpell:enable -->
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb14"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true"></a></span>
      <span id="cb14-2"><a href="#cb14-2" aria-hidden="true"></a><span class="kw">package</span><span class="im"> app.auth;</span></span>
      <span id="cb14-3"><a href="#cb14-3" aria-hidden="true"></a><span class="kw">import</span><span class="im"> java.security.Principal;</span></span>
      <span id="cb14-4"><a href="#cb14-4" aria-hidden="true"></a></span>
      <span id="cb14-5"><a href="#cb14-5" aria-hidden="true"></a><span class="kw">public</span> <span class="kw">class</span> RolePrincipal <span class="kw">implements</span> <span class="bu">Principal</span> {</span>
      <span id="cb14-6"><a href="#cb14-6" aria-hidden="true"></a>  <span class="kw">private</span> <span class="bu">String</span> name;</span>
      <span id="cb14-7"><a href="#cb14-7" aria-hidden="true"></a></span>
      <span id="cb14-8"><a href="#cb14-8" aria-hidden="true"></a>  <span class="co">/**</span></span>
      <span id="cb14-9"><a href="#cb14-9" aria-hidden="true"></a>   <span class="co">* </span><span class="an">@param name</span></span>
      <span id="cb14-10"><a href="#cb14-10" aria-hidden="true"></a>   <span class="co">*/</span></span>
      <span id="cb14-11"><a href="#cb14-11" aria-hidden="true"></a>  <span class="kw">public</span> <span class="fu">RolePrincipal</span>(<span class="bu">String</span> name) {</span>
      <span id="cb14-12"><a href="#cb14-12" aria-hidden="true"></a>    <span class="kw">super</span>();</span>
      <span id="cb14-13"><a href="#cb14-13" aria-hidden="true"></a>    <span class="kw">this</span>.<span class="fu">name</span> = name;</span>
      <span id="cb14-14"><a href="#cb14-14" aria-hidden="true"></a>  }</span>
      <span id="cb14-15"><a href="#cb14-15" aria-hidden="true"></a></span>
      <span id="cb14-16"><a href="#cb14-16" aria-hidden="true"></a>  <span class="co">/**</span></span>
      <span id="cb14-17"><a href="#cb14-17" aria-hidden="true"></a>   <span class="co">* </span><span class="an">@param name</span></span>
      <span id="cb14-18"><a href="#cb14-18" aria-hidden="true"></a>   <span class="co">*/</span></span>
      <span id="cb14-19"><a href="#cb14-19" aria-hidden="true"></a>  <span class="kw">public</span> <span class="dt">void</span> <span class="fu">setName</span>(<span class="bu">String</span> name) {</span>
      <span id="cb14-20"><a href="#cb14-20" aria-hidden="true"></a>    <span class="kw">this</span>.<span class="fu">name</span> = name;</span>
      <span id="cb14-21"><a href="#cb14-21" aria-hidden="true"></a>  }</span>
      <span id="cb14-22"><a href="#cb14-22" aria-hidden="true"></a></span>
      <span id="cb14-23"><a href="#cb14-23" aria-hidden="true"></a>  <span class="co">/*</span></span>
      <span id="cb14-24"><a href="#cb14-24" aria-hidden="true"></a><span class="co">   * (non-Javadoc)</span></span>
      <span id="cb14-25"><a href="#cb14-25" aria-hidden="true"></a><span class="co">   * </span></span>
      <span id="cb14-26"><a href="#cb14-26" aria-hidden="true"></a><span class="co">   * @see java.security.Principal#getName()</span></span>
      <span id="cb14-27"><a href="#cb14-27" aria-hidden="true"></a><span class="co">   */</span></span>
      <span id="cb14-28"><a href="#cb14-28" aria-hidden="true"></a>  <span class="at">@Override</span></span>
      <span id="cb14-29"><a href="#cb14-29" aria-hidden="true"></a>  <span class="kw">public</span> <span class="bu">String</span> <span class="fu">getName</span>() {</span>
      <span id="cb14-30"><a href="#cb14-30" aria-hidden="true"></a>    <span class="kw">return</span> name;</span>
      <span id="cb14-31"><a href="#cb14-31" aria-hidden="true"></a>  }</span>
      <span id="cb14-32"><a href="#cb14-32" aria-hidden="true"></a>}</span></code></pre></div>
      <!-- cSpell:enable -->
      <ul>
      <li><strong>Implémentation</strong> de la méthode <code>login()</code> de la classe <code>JAASLoginModule.java</code> :</li>
      </ul>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb15"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true"></a></span>
      <span id="cb15-2"><a href="#cb15-2" aria-hidden="true"></a>  ...</span>
      <span id="cb15-3"><a href="#cb15-3" aria-hidden="true"></a></span>
      <span id="cb15-4"><a href="#cb15-4" aria-hidden="true"></a>  <span class="co">/*</span></span>
      <span id="cb15-5"><a href="#cb15-5" aria-hidden="true"></a><span class="co">   * (non-Javadoc)</span></span>
      <span id="cb15-6"><a href="#cb15-6" aria-hidden="true"></a><span class="co">   * </span></span>
      <span id="cb15-7"><a href="#cb15-7" aria-hidden="true"></a><span class="co">   * In the login() method, we invoke the CallbackHandler.handle() method with a</span></span>
      <span id="cb15-8"><a href="#cb15-8" aria-hidden="true"></a><span class="co">   * NameCallback and a PasswordCallback to prompt and get the username and</span></span>
      <span id="cb15-9"><a href="#cb15-9" aria-hidden="true"></a><span class="co">   * password. Then, we compare these provided credentials with the hardcoded</span></span>
      <span id="cb15-10"><a href="#cb15-10" aria-hidden="true"></a><span class="co">   * ones.</span></span>
      <span id="cb15-11"><a href="#cb15-11" aria-hidden="true"></a><span class="co">   * </span></span>
      <span id="cb15-12"><a href="#cb15-12" aria-hidden="true"></a><span class="co">   * @see javax.security.auth.spi.LoginModule#login()</span></span>
      <span id="cb15-13"><a href="#cb15-13" aria-hidden="true"></a><span class="co">   */</span></span>
      <span id="cb15-14"><a href="#cb15-14" aria-hidden="true"></a>  <span class="at">@Override</span></span>
      <span id="cb15-15"><a href="#cb15-15" aria-hidden="true"></a>  <span class="kw">public</span> <span class="dt">boolean</span> <span class="fu">login</span>() <span class="kw">throws</span> <span class="bu">LoginException</span> {</span>
      <span id="cb15-16"><a href="#cb15-16" aria-hidden="true"></a>    <span class="bu">NameCallback</span> nameCallback = <span class="kw">new</span> <span class="bu">NameCallback</span>(<span class="st">&quot;username: &quot;</span>);</span>
      <span id="cb15-17"><a href="#cb15-17" aria-hidden="true"></a>    <span class="bu">PasswordCallback</span> passwordCallback = <span class="kw">new</span> <span class="bu">PasswordCallback</span>(<span class="st">&quot;password: &quot;</span>, <span class="kw">false</span>);</span>
      <span id="cb15-18"><a href="#cb15-18" aria-hidden="true"></a>    <span class="kw">try</span> {</span>
      <span id="cb15-19"><a href="#cb15-19" aria-hidden="true"></a>      callbackHandler.<span class="fu">handle</span>(<span class="kw">new</span> <span class="bu">Callback</span>[] { nameCallback, passwordCallback });</span>
      <span id="cb15-20"><a href="#cb15-20" aria-hidden="true"></a>      <span class="bu">String</span> login = nameCallback.<span class="fu">getName</span>();</span>
      <span id="cb15-21"><a href="#cb15-21" aria-hidden="true"></a>      <span class="bu">String</span> password = <span class="kw">new</span> <span class="bu">String</span>(passwordCallback.<span class="fu">getPassword</span>());</span>
      <span id="cb15-22"><a href="#cb15-22" aria-hidden="true"></a>      <span class="co">// WARN: secrets in logfiles</span></span>
      <span id="cb15-23"><a href="#cb15-23" aria-hidden="true"></a>      log.<span class="fu">info</span>(<span class="st">&quot;#### Authenticating with: &quot;</span> + login + <span class="st">&quot; : &quot;</span> + password);</span>
      <span id="cb15-24"><a href="#cb15-24" aria-hidden="true"></a></span>
      <span id="cb15-25"><a href="#cb15-25" aria-hidden="true"></a>      UserDAO userDAO = <span class="kw">new</span> <span class="fu">UserDAO</span>();</span>
      <span id="cb15-26"><a href="#cb15-26" aria-hidden="true"></a>      User user = <span class="kw">new</span> <span class="fu">User</span>();</span>
      <span id="cb15-27"><a href="#cb15-27" aria-hidden="true"></a></span>
      <span id="cb15-28"><a href="#cb15-28" aria-hidden="true"></a>      <span class="kw">try</span> {</span>
      <span id="cb15-29"><a href="#cb15-29" aria-hidden="true"></a>        <span class="co">// User retrieval</span></span>
      <span id="cb15-30"><a href="#cb15-30" aria-hidden="true"></a>        user = userDAO.<span class="fu">getUserByCredentials</span>(login, password);</span>
      <span id="cb15-31"><a href="#cb15-31" aria-hidden="true"></a>        log.<span class="fu">info</span>(<span class="st">&quot;#### Retrieved user: &quot;</span> + user.<span class="fu">getId</span>() + <span class="st">&quot; : &quot;</span> + user.<span class="fu">getEmail</span>() + <span class="st">&quot; : &quot;</span> + user.<span class="fu">getPassword</span>());</span>
      <span id="cb15-32"><a href="#cb15-32" aria-hidden="true"></a>      } <span class="kw">catch</span> (<span class="bu">SQLException</span> e) {</span>
      <span id="cb15-33"><a href="#cb15-33" aria-hidden="true"></a>        <span class="co">// </span><span class="al">TODO</span><span class="co">: Auto-generated catch block</span></span>
      <span id="cb15-34"><a href="#cb15-34" aria-hidden="true"></a>        e.<span class="fu">printStackTrace</span>();</span>
      <span id="cb15-35"><a href="#cb15-35" aria-hidden="true"></a>      }</span>
      <span id="cb15-36"><a href="#cb15-36" aria-hidden="true"></a></span>
      <span id="cb15-37"><a href="#cb15-37" aria-hidden="true"></a>      <span class="kw">if</span> (user != <span class="kw">null</span>) {</span>
      <span id="cb15-38"><a href="#cb15-38" aria-hidden="true"></a>        userGroups = <span class="kw">new</span> <span class="bu">ArrayList</span>&lt;<span class="bu">String</span>&gt;();</span>
      <span id="cb15-39"><a href="#cb15-39" aria-hidden="true"></a>        <span class="kw">for</span> (<span class="bu">String</span> role : user.<span class="fu">getRoleList</span>()) {</span>
      <span id="cb15-40"><a href="#cb15-40" aria-hidden="true"></a>          userGroups.<span class="fu">add</span>(role);</span>
      <span id="cb15-41"><a href="#cb15-41" aria-hidden="true"></a>        }</span>
      <span id="cb15-42"><a href="#cb15-42" aria-hidden="true"></a>        loginSucceeded = <span class="kw">true</span>;</span>
      <span id="cb15-43"><a href="#cb15-43" aria-hidden="true"></a>      }</span>
      <span id="cb15-44"><a href="#cb15-44" aria-hidden="true"></a></span>
      <span id="cb15-45"><a href="#cb15-45" aria-hidden="true"></a>    } <span class="kw">catch</span> (<span class="bu">IOException</span> | <span class="bu">UnsupportedCallbackException</span> e) {</span>
      <span id="cb15-46"><a href="#cb15-46" aria-hidden="true"></a>      <span class="kw">throw</span> <span class="kw">new</span> <span class="bu">LoginException</span>(e.<span class="fu">getMessage</span>());</span>
      <span id="cb15-47"><a href="#cb15-47" aria-hidden="true"></a>    }</span>
      <span id="cb15-48"><a href="#cb15-48" aria-hidden="true"></a>    <span class="co">// The login() method should return true for a successful operation and false</span></span>
      <span id="cb15-49"><a href="#cb15-49" aria-hidden="true"></a>    <span class="co">// for a failed login.</span></span>
      <span id="cb15-50"><a href="#cb15-50" aria-hidden="true"></a>    log.<span class="fu">info</span>(<span class="st">&quot;Done&quot;</span>);</span>
      <span id="cb15-51"><a href="#cb15-51" aria-hidden="true"></a>    <span class="kw">return</span> loginSucceeded;</span>
      <span id="cb15-52"><a href="#cb15-52" aria-hidden="true"></a>  }</span>
      <span id="cb15-53"><a href="#cb15-53" aria-hidden="true"></a></span>
      <span id="cb15-54"><a href="#cb15-54" aria-hidden="true"></a>  ...</span></code></pre></div>
      <!-- cSpell:enable -->
      <ul>
      <li><strong>Configurer le contexte</strong> de la couche JAAS avec le fichier <code>context.xml</code> :</li>
      </ul>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb16"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true"></a></span>
      <span id="cb16-2"><a href="#cb16-2" aria-hidden="true"></a><span class="kw">&lt;?xml</span> version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;<span class="kw">?&gt;</span></span>
      <span id="cb16-3"><a href="#cb16-3" aria-hidden="true"></a><span class="kw">&lt;Context&gt;</span></span>
      <span id="cb16-4"><a href="#cb16-4" aria-hidden="true"></a>  <span class="kw">&lt;Realm</span><span class="ot"> className=</span><span class="st">&quot;org.apache.catalina.realm.JAASRealm&quot;</span> </span>
      <span id="cb16-5"><a href="#cb16-5" aria-hidden="true"></a><span class="ot">    appName=</span><span class="st">&quot;webapp&quot;</span></span>
      <span id="cb16-6"><a href="#cb16-6" aria-hidden="true"></a><span class="ot">    userClassNames=</span><span class="st">&quot;app.auth.UserPrincipal&quot;</span></span>
      <span id="cb16-7"><a href="#cb16-7" aria-hidden="true"></a><span class="ot">    roleClassNames=</span><span class="st">&quot;app.auth.RolePrincipal&quot;</span> <span class="kw">/&gt;</span></span>
      <span id="cb16-8"><a href="#cb16-8" aria-hidden="true"></a><span class="kw">&lt;/Context&gt;</span></span></code></pre></div>
      <!-- cSpell:enable -->
      <ul>
      <li>Ajout du fichier <code>jaas.config</code> sur le serveur Tomcat :</li>
      </ul>
      <!-- cSpell:disable -->
      <pre class="config"><code>
      webapp { // appName is defined in webapp/META-INF/context.xml
        app.auth.JAASLoginModule required debug=true;
      };
      </code></pre>
      <!-- cSpell:enable -->
      <ul>
      <li>Ajout des paramètres supplémentaires au fichier <code>web.xml</code> pour <strong>configurer la sécurité et les autorisations dans l’application</strong> (extraits) :</li>
      </ul>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb18"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true"></a></span>
      <span id="cb18-2"><a href="#cb18-2" aria-hidden="true"></a>...</span>
      <span id="cb18-3"><a href="#cb18-3" aria-hidden="true"></a><span class="co">&lt;!-- ............................................................... PUBLIC --&gt;</span></span>
      <span id="cb18-4"><a href="#cb18-4" aria-hidden="true"></a>  <span class="kw">&lt;security-constraint&gt;</span></span>
      <span id="cb18-5"><a href="#cb18-5" aria-hidden="true"></a>    <span class="kw">&lt;web-resource-collection&gt;</span></span>
      <span id="cb18-6"><a href="#cb18-6" aria-hidden="true"></a>      <span class="kw">&lt;web-resource-name&gt;</span>All Access - Web public content<span class="kw">&lt;/web-resource-name&gt;</span></span>
      <span id="cb18-7"><a href="#cb18-7" aria-hidden="true"></a>      <span class="kw">&lt;url-pattern&gt;</span>/www/*<span class="kw">&lt;/url-pattern&gt;</span></span>
      <span id="cb18-8"><a href="#cb18-8" aria-hidden="true"></a>      <span class="kw">&lt;http-method&gt;</span>GET<span class="kw">&lt;/http-method&gt;</span></span>
      <span id="cb18-9"><a href="#cb18-9" aria-hidden="true"></a>      <span class="co">&lt;!-- &lt;http-method&gt;POST&lt;/http-method&gt; --&gt;</span></span>
      <span id="cb18-10"><a href="#cb18-10" aria-hidden="true"></a>    <span class="kw">&lt;/web-resource-collection&gt;</span></span>
      <span id="cb18-11"><a href="#cb18-11" aria-hidden="true"></a>    <span class="co">&lt;!-- Omitting &lt;auth-constraint&gt; to get public access --&gt;</span></span>
      <span id="cb18-12"><a href="#cb18-12" aria-hidden="true"></a>    <span class="kw">&lt;user-data-constraint&gt;</span></span>
      <span id="cb18-13"><a href="#cb18-13" aria-hidden="true"></a>      <span class="kw">&lt;transport-guarantee&gt;</span>NONE<span class="kw">&lt;/transport-guarantee&gt;</span></span>
      <span id="cb18-14"><a href="#cb18-14" aria-hidden="true"></a>    <span class="kw">&lt;/user-data-constraint&gt;</span></span>
      <span id="cb18-15"><a href="#cb18-15" aria-hidden="true"></a>  <span class="kw">&lt;/security-constraint&gt;</span></span>
      <span id="cb18-16"><a href="#cb18-16" aria-hidden="true"></a><span class="co">&lt;!-- ........................................................... RESTRICTED --&gt;</span></span>
      <span id="cb18-17"><a href="#cb18-17" aria-hidden="true"></a> <span class="kw">&lt;security-constraint&gt;</span></span>
      <span id="cb18-18"><a href="#cb18-18" aria-hidden="true"></a>    <span class="kw">&lt;web-resource-collection&gt;</span></span>
      <span id="cb18-19"><a href="#cb18-19" aria-hidden="true"></a>      <span class="kw">&lt;web-resource-name&gt;</span>Restricted Access - admin only<span class="kw">&lt;/web-resource-name&gt;</span></span>
      <span id="cb18-20"><a href="#cb18-20" aria-hidden="true"></a>      <span class="kw">&lt;url-pattern&gt;</span>/admin/*<span class="kw">&lt;/url-pattern&gt;</span></span>
      <span id="cb18-21"><a href="#cb18-21" aria-hidden="true"></a>      <span class="kw">&lt;http-method&gt;</span>GET<span class="kw">&lt;/http-method&gt;</span></span>
      <span id="cb18-22"><a href="#cb18-22" aria-hidden="true"></a>      <span class="kw">&lt;http-method&gt;</span>POST<span class="kw">&lt;/http-method&gt;</span></span>
      <span id="cb18-23"><a href="#cb18-23" aria-hidden="true"></a>    <span class="kw">&lt;/web-resource-collection&gt;</span></span>
      <span id="cb18-24"><a href="#cb18-24" aria-hidden="true"></a>    <span class="kw">&lt;auth-constraint&gt;</span></span>
      <span id="cb18-25"><a href="#cb18-25" aria-hidden="true"></a>      <span class="kw">&lt;role-name&gt;</span>admin<span class="kw">&lt;/role-name&gt;</span></span>
      <span id="cb18-26"><a href="#cb18-26" aria-hidden="true"></a>    <span class="kw">&lt;/auth-constraint&gt;</span></span>
      <span id="cb18-27"><a href="#cb18-27" aria-hidden="true"></a>    <span class="kw">&lt;user-data-constraint&gt;</span></span>
      <span id="cb18-28"><a href="#cb18-28" aria-hidden="true"></a>      <span class="kw">&lt;transport-guarantee&gt;</span>NONE<span class="kw">&lt;/transport-guarantee&gt;</span></span>
      <span id="cb18-29"><a href="#cb18-29" aria-hidden="true"></a>    <span class="kw">&lt;/user-data-constraint&gt;</span></span>
      <span id="cb18-30"><a href="#cb18-30" aria-hidden="true"></a>  <span class="kw">&lt;/security-constraint&gt;</span></span>
      <span id="cb18-31"><a href="#cb18-31" aria-hidden="true"></a><span class="co">&lt;!-- ................................................................ ROLES --&gt;</span></span>
      <span id="cb18-32"><a href="#cb18-32" aria-hidden="true"></a>  <span class="kw">&lt;security-role&gt;</span></span>
      <span id="cb18-33"><a href="#cb18-33" aria-hidden="true"></a>    <span class="kw">&lt;role-name&gt;</span>admin<span class="kw">&lt;/role-name&gt;</span></span>
      <span id="cb18-34"><a href="#cb18-34" aria-hidden="true"></a>    <span class="kw">&lt;role-name&gt;</span>user<span class="kw">&lt;/role-name&gt;</span></span>
      <span id="cb18-35"><a href="#cb18-35" aria-hidden="true"></a>  <span class="kw">&lt;/security-role&gt;</span></span>
      <span id="cb18-36"><a href="#cb18-36" aria-hidden="true"></a><span class="co">&lt;!-- ................................................................ LOGIN --&gt;</span></span>
      <span id="cb18-37"><a href="#cb18-37" aria-hidden="true"></a>  <span class="kw">&lt;login-config&gt;</span></span>
      <span id="cb18-38"><a href="#cb18-38" aria-hidden="true"></a>    <span class="kw">&lt;auth-method&gt;</span>FORM<span class="kw">&lt;/auth-method&gt;</span></span>
      <span id="cb18-39"><a href="#cb18-39" aria-hidden="true"></a>    <span class="kw">&lt;realm-name&gt;</span>default<span class="kw">&lt;/realm-name&gt;</span></span>
      <span id="cb18-40"><a href="#cb18-40" aria-hidden="true"></a>    <span class="kw">&lt;form-login-config&gt;</span></span>
      <span id="cb18-41"><a href="#cb18-41" aria-hidden="true"></a>      <span class="kw">&lt;form-login-page&gt;</span>/Login<span class="kw">&lt;/form-login-page&gt;</span></span>
      <span id="cb18-42"><a href="#cb18-42" aria-hidden="true"></a>      <span class="kw">&lt;form-login-error&gt;</span>/Error<span class="kw">&lt;/form-login-error&gt;</span></span>
      <span id="cb18-43"><a href="#cb18-43" aria-hidden="true"></a>    <span class="kw">&lt;/form-login-config&gt;</span></span>
      <span id="cb18-44"><a href="#cb18-44" aria-hidden="true"></a>  <span class="kw">&lt;/login-config&gt;</span></span>
      <span id="cb18-45"><a href="#cb18-45" aria-hidden="true"></a>...</span></code></pre></div>
      <!-- cSpell:enable -->
      <ul>
      <li><strong>Configurer le serveur</strong> pour démarrer en intégrant le JAAS. Ici on ajoute l’option en passant une variable d’environnement au Tomcat :</li>
      </ul>
      <!-- cSpell:disable -->
      <pre class="shell"><code>
      $JAVA_OPTS &quot;-Djava.security.auth.login.config=$CATALINA_HOME/conf/jaas.config&quot;
      </code></pre>
      <!-- cSpell:enable -->
      <h4 id="reveal.js">7.2.2. reveal.js<!-- OK --></h4>
      <p>reveal.js est un <strong>framework de présentation HTML</strong> opensource. Il permet de réaliser facilement, à l’aide de n’importe quel navigateur web, des présentations de qualité.</p>
      <p>Le framework dispose de nombreuses fonctions dont les vues verticales, le support du Markdown, l’animation automatique, l’export en PDF, les notes de présentation. Il dispose aussi d’une API étendue.</p>
      <p>Dans le cadre de ce projet, les éléments de présentations utilisent le framework reveal.js.</p>
      <p>Dans l’exemple suivant on utilise un fichier <code>README.md</code> en <strong>Markdown</strong> pour créer la <strong>présentation</strong>. Les attributs de la section permettent de détecter les enchaînements de ligne vide comme délimiteur de diapositives :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb20"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true"></a></span>
      <span id="cb20-2"><a href="#cb20-2" aria-hidden="true"></a><span class="dt">&lt;!doctype </span>html<span class="dt">&gt;</span></span>
      <span id="cb20-3"><a href="#cb20-3" aria-hidden="true"></a><span class="kw">&lt;html</span><span class="ot"> lang=</span><span class="st">&quot;en&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb20-4"><a href="#cb20-4" aria-hidden="true"></a>  <span class="kw">&lt;head&gt;</span></span>
      <span id="cb20-5"><a href="#cb20-5" aria-hidden="true"></a>    <span class="kw">&lt;meta</span><span class="ot"> charset=</span><span class="st">&quot;utf-8&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb20-6"><a href="#cb20-6" aria-hidden="true"></a>    <span class="kw">&lt;title&gt;</span>reveal.js - The HTML Presentation Framework<span class="kw">&lt;/title&gt;</span></span>
      <span id="cb20-7"><a href="#cb20-7" aria-hidden="true"></a>    <span class="kw">&lt;meta</span><span class="ot"> name=</span><span class="st">&quot;description&quot;</span><span class="ot"> content=</span><span class="st">&quot;short description&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb20-8"><a href="#cb20-8" aria-hidden="true"></a>    <span class="kw">&lt;meta</span><span class="ot"> name=</span><span class="st">&quot;author&quot;</span><span class="ot"> content=</span><span class="st">&quot;Thibault HULAUX&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb20-9"><a href="#cb20-9" aria-hidden="true"></a>    <span class="kw">&lt;meta</span><span class="ot"> name=</span><span class="st">&quot;apple-mobile-web-app-capable&quot;</span><span class="ot"> content=</span><span class="st">&quot;yes&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb20-10"><a href="#cb20-10" aria-hidden="true"></a>    <span class="kw">&lt;meta</span><span class="ot"> name=</span><span class="st">&quot;apple-mobile-web-app-status-bar-style&quot;</span><span class="ot"> content=</span><span class="st">&quot;black-translucent&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb20-11"><a href="#cb20-11" aria-hidden="true"></a>    <span class="kw">&lt;meta</span><span class="ot"> name=</span><span class="st">&quot;viewport&quot;</span><span class="ot"> content=</span><span class="st">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb20-12"><a href="#cb20-12" aria-hidden="true"></a>    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;dist/reset.css&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb20-13"><a href="#cb20-13" aria-hidden="true"></a>    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;dist/reveal.css&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb20-14"><a href="#cb20-14" aria-hidden="true"></a>    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;dist/theme/black.css&quot;</span><span class="ot"> id=</span><span class="st">&quot;theme&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb20-15"><a href="#cb20-15" aria-hidden="true"></a>    <span class="co">&lt;!-- Theme used for syntax highlighting of code --&gt;</span></span>
      <span id="cb20-16"><a href="#cb20-16" aria-hidden="true"></a>    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;plugin/highlight/monokai.css&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb20-17"><a href="#cb20-17" aria-hidden="true"></a>  <span class="kw">&lt;/head&gt;</span></span>
      <span id="cb20-18"><a href="#cb20-18" aria-hidden="true"></a>  <span class="kw">&lt;body&gt;</span></span>
      <span id="cb20-19"><a href="#cb20-19" aria-hidden="true"></a>    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;reveal&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb20-20"><a href="#cb20-20" aria-hidden="true"></a>      <span class="co">&lt;!-- Any section element inside of this container is displayed as a slide --&gt;</span></span>
      <span id="cb20-21"><a href="#cb20-21" aria-hidden="true"></a>      <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;slides&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb20-22"><a href="#cb20-22" aria-hidden="true"></a>        <span class="kw">&lt;section</span><span class="ot"> data-markdown=</span><span class="st">&quot;README.md&quot;</span></span>
      <span id="cb20-23"><a href="#cb20-23" aria-hidden="true"></a><span class="ot">          data-separator=</span><span class="st">&quot;^\n\n\n&quot;</span></span>
      <span id="cb20-24"><a href="#cb20-24" aria-hidden="true"></a><span class="ot">          data-separator-vertical=</span><span class="st">&quot;^\n\n&quot;</span></span>
      <span id="cb20-25"><a href="#cb20-25" aria-hidden="true"></a><span class="ot">          data-separator-notes=</span><span class="st">&quot;^Note:&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb20-26"><a href="#cb20-26" aria-hidden="true"></a>        <span class="kw">&lt;/section&gt;</span></span>
      <span id="cb20-27"><a href="#cb20-27" aria-hidden="true"></a>      <span class="kw">&lt;/div&gt;</span></span>
      <span id="cb20-28"><a href="#cb20-28" aria-hidden="true"></a>    <span class="kw">&lt;/div&gt;</span></span>
      <span id="cb20-29"><a href="#cb20-29" aria-hidden="true"></a>    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;dist/reveal.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
      <span id="cb20-30"><a href="#cb20-30" aria-hidden="true"></a>    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;plugin/zoom/zoom.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
      <span id="cb20-31"><a href="#cb20-31" aria-hidden="true"></a>    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;plugin/notes/notes.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
      <span id="cb20-32"><a href="#cb20-32" aria-hidden="true"></a>    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;plugin/search/search.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
      <span id="cb20-33"><a href="#cb20-33" aria-hidden="true"></a>    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;plugin/markdown/markdown.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
      <span id="cb20-34"><a href="#cb20-34" aria-hidden="true"></a>    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;plugin/highlight/highlight.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
      <span id="cb20-35"><a href="#cb20-35" aria-hidden="true"></a>    <span class="kw">&lt;script&gt;</span></span>
      <span id="cb20-36"><a href="#cb20-36" aria-hidden="true"></a>      <span class="co">// Also available as an ES module, see:</span></span>
      <span id="cb20-37"><a href="#cb20-37" aria-hidden="true"></a>      <span class="co">// https://revealjs.com/initialization/</span></span>
      <span id="cb20-38"><a href="#cb20-38" aria-hidden="true"></a>      Reveal<span class="op">.</span><span class="fu">initialize</span>({</span>
      <span id="cb20-39"><a href="#cb20-39" aria-hidden="true"></a>        <span class="dt">controls</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
      <span id="cb20-40"><a href="#cb20-40" aria-hidden="true"></a>        <span class="dt">progress</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
      <span id="cb20-41"><a href="#cb20-41" aria-hidden="true"></a>        <span class="dt">center</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
      <span id="cb20-42"><a href="#cb20-42" aria-hidden="true"></a>        <span class="dt">hash</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
      <span id="cb20-43"><a href="#cb20-43" aria-hidden="true"></a>        <span class="co">// Learn about plugins: https://revealjs.com/plugins/</span></span>
      <span id="cb20-44"><a href="#cb20-44" aria-hidden="true"></a>        <span class="dt">plugins</span><span class="op">:</span> [ RevealZoom<span class="op">,</span> RevealNotes<span class="op">,</span> RevealSearch<span class="op">,</span> RevealMarkdown<span class="op">,</span> RevealHighlight ]</span>
      <span id="cb20-45"><a href="#cb20-45" aria-hidden="true"></a>        })<span class="op">;</span></span>
      <span id="cb20-46"><a href="#cb20-46" aria-hidden="true"></a>    <span class="kw">&lt;/script&gt;</span></span>
      <span id="cb20-47"><a href="#cb20-47" aria-hidden="true"></a>  <span class="kw">&lt;/body&gt;</span></span>
      <span id="cb20-48"><a href="#cb20-48" aria-hidden="true"></a><span class="kw">&lt;/html&gt;</span></span>
      <span id="cb20-49"><a href="#cb20-49" aria-hidden="true"></a></span></code></pre></div>
      <!-- cSpell:enable -->
      <h3 id="versioning-gitlabgithub">7.3. Versioning (gitlab/github)<!-- OK --></h3>
      <h4 id="gitlab">7.3.1. GitLab<!-- OK --></h4>
      <p>GitLab est un <strong>logiciel libre de forge</strong> (système de gestion et de maintenance collaborative) basé sur git, proposant les fonctionnalités de wiki, un système de suivi des bugs, l’intégration continue et la livraison continue. Ses fonctionnalités étendues en font bien plus qu’un simple un outil de contrôle de version.</p>
      <p>Il est par exemple possible d’y attacher un <strong>helpdesk</strong>, lié au système de <strong>suivi de bugs</strong>, afin de <strong>planifier et allouer des taches</strong> aux différents intervenants du projet.</p>
      <p>GitLab permet aussi, au travers de sa <strong>gestion du pipeline et des runners</strong>, de tester et de construire la couche applicative, de produire la documentation, d’automatiser le provisionnement des serveurs nécessaires et d’y déployer l’application finalisée.</p>
      <p>L’ensemble du <strong>projet est versionné sur GitLab</strong>. Le projet <strong>exploite Gitlab CI/CD</strong>, nous permettant d’automatiser le pipeline Devops pour la compilation, les tests et le déploiement.</p>
      <p>Vous trouverez ci-après un extrait du fichier <code>.gitlab-ci.yml</code>, construit lui aussi sur le principe du template, utilisé pour la configuration de pipeline. Il reprend les tâches configurées dans Gradle (Cf. <a href="#761-automatisation-de-build">Gradle</a>) :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb21"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true"></a></span>
      <span id="cb21-2"><a href="#cb21-2" aria-hidden="true"></a>...</span>
      <span id="cb21-3"><a href="#cb21-3" aria-hidden="true"></a></span>
      <span id="cb21-4"><a href="#cb21-4" aria-hidden="true"></a><span class="fu"># Include templates</span></span>
      <span id="cb21-5"><a href="#cb21-5" aria-hidden="true"></a>include:</span>
      <span id="cb21-6"><a href="#cb21-6" aria-hidden="true"></a><span class="ss">  - </span>project: &#39;thx-lpg/thx-lpg-java-storagemanagement&#39;</span>
      <span id="cb21-7"><a href="#cb21-7" aria-hidden="true"></a>    # ref: 0.5.0 #Project <span class="in">`thx-lpg/thx-lpg-java-storagemanagement`</span> reference <span class="in">`0.5.0`</span> does not exist!</span>
      <span id="cb21-8"><a href="#cb21-8" aria-hidden="true"></a>    # ref: main</span>
      <span id="cb21-9"><a href="#cb21-9" aria-hidden="true"></a>    file:</span>
      <span id="cb21-10"><a href="#cb21-10" aria-hidden="true"></a><span class="ss">    - </span>&#39;ci/java/debug.yml&#39;</span>
      <span id="cb21-11"><a href="#cb21-11" aria-hidden="true"></a><span class="ss">    - </span>&#39;ci/java/build.yml&#39;</span>
      <span id="cb21-12"><a href="#cb21-12" aria-hidden="true"></a><span class="ss">    - </span>&#39;ci/java/test.yml&#39;</span>
      <span id="cb21-13"><a href="#cb21-13" aria-hidden="true"></a>    # - &#39;ci/java/terraform_dev.yml&#39;</span>
      <span id="cb21-14"><a href="#cb21-14" aria-hidden="true"></a>    # - &#39;ci/java/deploy_dev.yml&#39;</span>
      <span id="cb21-15"><a href="#cb21-15" aria-hidden="true"></a></span>
      <span id="cb21-16"><a href="#cb21-16" aria-hidden="true"></a><span class="fu"># Workflow</span></span>
      <span id="cb21-17"><a href="#cb21-17" aria-hidden="true"></a>workflow:</span>
      <span id="cb21-18"><a href="#cb21-18" aria-hidden="true"></a>  rules:</span>
      <span id="cb21-19"><a href="#cb21-19" aria-hidden="true"></a><span class="ss">    - </span>if: &#39;$CI_PIPELINE_SOURCE == &quot;merge_request_event&quot;&#39;</span>
      <span id="cb21-20"><a href="#cb21-20" aria-hidden="true"></a><span class="ss">    - </span>if: &#39;$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH&#39;</span>
      <span id="cb21-21"><a href="#cb21-21" aria-hidden="true"></a></span>
      <span id="cb21-22"><a href="#cb21-22" aria-hidden="true"></a><span class="fu"># Default docker image</span></span>
      <span id="cb21-23"><a href="#cb21-23" aria-hidden="true"></a>image: alpine</span>
      <span id="cb21-24"><a href="#cb21-24" aria-hidden="true"></a></span>
      <span id="cb21-25"><a href="#cb21-25" aria-hidden="true"></a><span class="fu"># Default variables</span></span>
      <span id="cb21-26"><a href="#cb21-26" aria-hidden="true"></a>variables:</span>
      <span id="cb21-27"><a href="#cb21-27" aria-hidden="true"></a>  CI_DEBUG_TRACE: &quot;false&quot; # Debug</span>
      <span id="cb21-28"><a href="#cb21-28" aria-hidden="true"></a>  BUILD_PATH: &quot;app/build&quot;</span>
      <span id="cb21-29"><a href="#cb21-29" aria-hidden="true"></a>  GRADLE_PATH: &quot;.gradle&quot;</span>
      <span id="cb21-30"><a href="#cb21-30" aria-hidden="true"></a>  GRADLE_OPTS: &quot;-Dorg.gradle.daemon=false&quot;</span>
      <span id="cb21-31"><a href="#cb21-31" aria-hidden="true"></a></span>
      <span id="cb21-32"><a href="#cb21-32" aria-hidden="true"></a><span class="fu"># Pipeline stages</span></span>
      <span id="cb21-33"><a href="#cb21-33" aria-hidden="true"></a>stages:</span>
      <span id="cb21-34"><a href="#cb21-34" aria-hidden="true"></a><span class="ss">  - </span>debug</span>
      <span id="cb21-35"><a href="#cb21-35" aria-hidden="true"></a><span class="ss">  - </span>build</span>
      <span id="cb21-36"><a href="#cb21-36" aria-hidden="true"></a><span class="ss">  - </span>test</span>
      <span id="cb21-37"><a href="#cb21-37" aria-hidden="true"></a><span class="ss">  - </span>docker</span>
      <span id="cb21-38"><a href="#cb21-38" aria-hidden="true"></a><span class="ss">  - </span>deploy</span>
      <span id="cb21-39"><a href="#cb21-39" aria-hidden="true"></a><span class="ss">  - </span>clean</span>
      <span id="cb21-40"><a href="#cb21-40" aria-hidden="true"></a></span>
      <span id="cb21-41"><a href="#cb21-41" aria-hidden="true"></a><span class="fu"># Execute before each job</span></span>
      <span id="cb21-42"><a href="#cb21-42" aria-hidden="true"></a>before_script:</span>
      <span id="cb21-43"><a href="#cb21-43" aria-hidden="true"></a><span class="ss">  - </span>echo &quot;Start ${CI_JOB_NAME} - stage:${CI_JOB_STAGE}&quot;</span>
      <span id="cb21-44"><a href="#cb21-44" aria-hidden="true"></a><span class="ss">  - </span>export GRADLE_USER_HOME=<span class="in">`pwd`</span>/${GRADLE_PATH}</span>
      <span id="cb21-45"><a href="#cb21-45" aria-hidden="true"></a></span>
      <span id="cb21-46"><a href="#cb21-46" aria-hidden="true"></a><span class="fu"># Execute after each job</span></span>
      <span id="cb21-47"><a href="#cb21-47" aria-hidden="true"></a>after_script:</span>
      <span id="cb21-48"><a href="#cb21-48" aria-hidden="true"></a><span class="ss">  - </span>echo &quot;End ${CI_JOB_NAME} - stage:${CI_JOB_STAGE}&quot;</span>
      <span id="cb21-49"><a href="#cb21-49" aria-hidden="true"></a></span>
      <span id="cb21-50"><a href="#cb21-50" aria-hidden="true"></a><span class="fu"># Debug</span></span>
      <span id="cb21-51"><a href="#cb21-51" aria-hidden="true"></a>job:debug:</span>
      <span id="cb21-52"><a href="#cb21-52" aria-hidden="true"></a>  tags:</span>
      <span id="cb21-53"><a href="#cb21-53" aria-hidden="true"></a><span class="ss">  - </span>thx</span>
      <span id="cb21-54"><a href="#cb21-54" aria-hidden="true"></a>  stage: debug</span>
      <span id="cb21-55"><a href="#cb21-55" aria-hidden="true"></a>  extends: .template:ci:java:debug</span>
      <span id="cb21-56"><a href="#cb21-56" aria-hidden="true"></a></span>
      <span id="cb21-57"><a href="#cb21-57" aria-hidden="true"></a><span class="fu"># Build</span></span>
      <span id="cb21-58"><a href="#cb21-58" aria-hidden="true"></a>job:build:</span>
      <span id="cb21-59"><a href="#cb21-59" aria-hidden="true"></a>  tags:</span>
      <span id="cb21-60"><a href="#cb21-60" aria-hidden="true"></a><span class="ss">  - </span>thx</span>
      <span id="cb21-61"><a href="#cb21-61" aria-hidden="true"></a>  stage: build</span>
      <span id="cb21-62"><a href="#cb21-62" aria-hidden="true"></a>  extends: .template:ci:java:build</span>
      <span id="cb21-63"><a href="#cb21-63" aria-hidden="true"></a></span>
      <span id="cb21-64"><a href="#cb21-64" aria-hidden="true"></a><span class="fu"># Test</span></span>
      <span id="cb21-65"><a href="#cb21-65" aria-hidden="true"></a>job:test:</span>
      <span id="cb21-66"><a href="#cb21-66" aria-hidden="true"></a>  tags:</span>
      <span id="cb21-67"><a href="#cb21-67" aria-hidden="true"></a><span class="ss">  - </span>thx</span>
      <span id="cb21-68"><a href="#cb21-68" aria-hidden="true"></a>  stage: test</span>
      <span id="cb21-69"><a href="#cb21-69" aria-hidden="true"></a>  extends: .template:ci:java:test</span>
      <span id="cb21-70"><a href="#cb21-70" aria-hidden="true"></a></span>
      <span id="cb21-71"><a href="#cb21-71" aria-hidden="true"></a>...</span></code></pre></div>
      <!-- cSpell:enable -->
      <h3 id="sgbd-utilisé-mysqlpostgresql">7.4. SGBD utilisé (MYSQL/PostgreSQL)<!-- OK --></h3>
      <p>Le choix du Système de Gestion de Base de Données s’est appuyé sur les elements suivants :</p>
      <ul>
      <li><strong>MySQL</strong>
      <ul>
      <li>populaire et communauté active</li>
      <li>performant pour les applications web à haute charge</li>
      <li>multi-plateforme</li>
      <li>manque de fonctionnalités avancées</li>
      <li>pas de support natif pour les types de données non numériques</li>
      </ul></li>
      <li><strong>PostgreSQL</strong>
      <ul>
      <li>fonctionnalités avancées (transactions de niveau de série, réplication de plusieurs maîtres)</li>
      <li>support natif pour les types de données non numériques</li>
      <li>adapté pour les calculs d’agrégation et les opérations de géométrie</li>
      <li>moins populaire et communauté moins active</li>
      <li>peut être moins performant dans certaines situations</li>
      </ul></li>
      </ul>
      <p>Nous avons fait le choix de retenir MariaDB.</p>
      <h4 id="mariadb">7.4.1. MariaDB<!-- OK --></h4>
      <p>MariaDB est un <strong>système de gestion de base de données relationnelles</strong> édité sous licence GPL. Il s’agit d’une <strong>branche communautaire</strong> de MySQL. L’objectif est de maintenir une haute <strong>compatibilité avec MySQL</strong>, une parité des librairies et une correspondance parfaite avec l’API ainsi que les commandes MySQL. Ceci permettant, dans la plupart des cas de fonctionner en remplacement direct de MySQL.</p>
      <h3 id="outils-de-maquettage">7.5. Outils de maquettage<!-- OK --></h3>
      <h4 id="figma">7.5.1. Figma<!-- OK  --></h4>
      <p>Figma est une <strong>application web collaborative d’édition de graphiques vectoriels et de prototypage</strong>. Il est principalement basé sur le web, avec des fonctionnalités hors ligne supplémentaires activées par des applications de bureau.</p>
      <p>L’ensemble des fonctionnalités de Figma est <strong>axé sur l’utilisation</strong>, dans la conception, <strong>de l’interface utilisateur et de l’expérience utilisateur</strong>, en mettant l’accent sur la collaboration en temps réel.</p>
      <p>Dans le cadre de ce projet, Figma a été utilisé pour la création de wireframe et de maquettes durant les phases d’élaboration du projet.</p>
      <h4 id="plantuml">7.5.2. PlantUML<!-- OK --></h4>
      <p>PlantUML est un <strong>outil libre</strong> permettant de <strong>créer des diagrammes UML a partir de fichiers texte</strong>. En dehors des UML classiques, PlantUML supporte de nombreux autres formats (Archimate, Block diagram, BPMN, C4, Computer network diagram, ERD, Gantt chart, Mind map, and WBD), ainsi que la visualisation des fichier JSON et YAML.</p>
      <p>La création et l’édition d’UML simples permet de représenter et de concevoir la structure ou les fonctionnalités recherches d’un logiciel (Activité, Acteurs, Processus, Schéma de base de données, Composants logiciels), et fait partie intégrante du prototypage.</p>
      <p>Voici en exemple le fichier <code>mvc-seq-uml.puml</code> qui produit le diagramme de séquence pour un modèle MVC ci-joint :</p>
      <figure>
      <img src="img/mvc-seq-uml.png" alt="" /><figcaption>Sequence MVC</figcaption>
      </figure>
      <!-- cSpell:disable -->
      <pre class="puml"><code>
      @startuml mvc-seq-uml

      skinparam roundcorner 20
      skinparam responseMessageBelowArrow true

      title Model View Controller

      actor User as U
      participant &quot;View&quot; as V  #LightBlue
      participant &quot;Controller&quot; as C  #LightCoral
      participant &quot;Model&quot; as M  #LightGreen
      database DB as D

      U -&gt; C : Request
      C -&gt; M : Update
      M -&gt; D : Query
      M &lt;-- D : Response
      C &lt;-- M : Notify
      C -&gt; V : Update
      U &lt;-- V : Response

      @enduml
      </code></pre>
      <!-- cSpell:enable -->
      <h3 id="plateforme-de-développement">7.6. Plateforme de développement<!-- OK --></h3>
      <h4 id="automatisation-de-build">7.6.1. Automatisation de build<!-- OK --></h4>
      <p>Le choix du moteur de production s’est appuyé sur les elements suivants :</p>
      <ul>
      <li><strong>Gradle</strong>
      <ul>
      <li>hautement configurable</li>
      <li>performant et efficient (2 fois plus que Maven)</li>
      <li>flexible (système de plugins)</li>
      <li>requiert une expertise technique</li>
      <li>documentation incomplete</li>
      </ul></li>
      <li><strong>Maven</strong>
      <ul>
      <li>procédure simple et organisée</li>
      <li>télécharge automatiquement les Jar et dépendances</li>
      <li>requiert une installation locale</li>
      <li>lent</li>
      </ul></li>
      </ul>
      <p>Après une série de tests, notre choix s’est oriente vers Gradle.</p>
      <p><strong>Gradle</strong> est un <strong>moteur de production</strong> fonctionnant sur la plateforme Java. Il permet de construire des projets en Java, Scala, Groovy voire C++. Il allie l’utilisation de conventions à la manière de Maven (convention plutôt que configuration) avec la flexibilité de Ant pour décrire les tâches de construction.</p>
      <p>Gradle permet d’écrire des tâches dans un fichier de construction en utilisant le langage Groovy, qui permettent d’exécuter des activités d’<strong>ingénierie logicielle</strong> (compilation, assemblage, test unitaires, qualité du code, déploiement…)</p>
      <p><strong>Notes :</strong> Les taches construites pour gradle sont également appelées lors des différentes phases du pipeline DevOps.</p>
      <p>Voici des extraits du fichier <code>build.gradle</code> utilisé dans le cadre de notre projet :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb23"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true"></a></span>
      <span id="cb23-2"><a href="#cb23-2" aria-hidden="true"></a>...</span>
      <span id="cb23-3"><a href="#cb23-3" aria-hidden="true"></a></span>
      <span id="cb23-4"><a href="#cb23-4" aria-hidden="true"></a><span class="co">// -------------------------------------------------------------------- Plugins</span></span>
      <span id="cb23-5"><a href="#cb23-5" aria-hidden="true"></a>plugins {</span>
      <span id="cb23-6"><a href="#cb23-6" aria-hidden="true"></a>  <span class="co">// Apply the application plugin to add support for building a CLI application in Java.</span></span>
      <span id="cb23-7"><a href="#cb23-7" aria-hidden="true"></a>  <span class="co">// [https://docs.gradle.org/current/userguide/java_plugin.html]</span></span>
      <span id="cb23-8"><a href="#cb23-8" aria-hidden="true"></a>  id &#39;java&#39;</span>
      <span id="cb23-9"><a href="#cb23-9" aria-hidden="true"></a></span>
      <span id="cb23-10"><a href="#cb23-10" aria-hidden="true"></a>  <span class="co">// Apply the JVM Test Suite plugin (applied automatically by the java plugin)</span></span>
      <span id="cb23-11"><a href="#cb23-11" aria-hidden="true"></a>  <span class="co">// [https://docs.gradle.org/current/userguide/jvm_test_suite_plugin.html]</span></span>
      <span id="cb23-12"><a href="#cb23-12" aria-hidden="true"></a>  id &#39;jvm-test-suite&#39;</span>
      <span id="cb23-13"><a href="#cb23-13" aria-hidden="true"></a></span>
      <span id="cb23-14"><a href="#cb23-14" aria-hidden="true"></a>  <span class="co">// Apply the war plugin</span></span>
      <span id="cb23-15"><a href="#cb23-15" aria-hidden="true"></a>  <span class="co">// [https://docs.gradle.org/current/userguide/war_plugin.html]</span></span>
      <span id="cb23-16"><a href="#cb23-16" aria-hidden="true"></a>  id &#39;war&#39;</span>
      <span id="cb23-17"><a href="#cb23-17" aria-hidden="true"></a></span>
      <span id="cb23-18"><a href="#cb23-18" aria-hidden="true"></a>  <span class="co">// Apply the ssh plugin</span></span>
      <span id="cb23-19"><a href="#cb23-19" aria-hidden="true"></a>  <span class="co">// [https://gradle-ssh-plugin.github.io/docs/]</span></span>
      <span id="cb23-20"><a href="#cb23-20" aria-hidden="true"></a>  id &#39;org.hidetake.ssh&#39; version &#39;<span class="dv">2</span>.<span class="dv">10</span><span class="fl">.1</span>&#39;</span>
      <span id="cb23-21"><a href="#cb23-21" aria-hidden="true"></a></span>
      <span id="cb23-22"><a href="#cb23-22" aria-hidden="true"></a>  <span class="co">// Apply the SpotBugs plugin (Static Application Security Testing)</span></span>
      <span id="cb23-23"><a href="#cb23-23" aria-hidden="true"></a>  <span class="co">// [https://github.com/spotbugs/spotbugs-gradle-plugin]</span></span>
      <span id="cb23-24"><a href="#cb23-24" aria-hidden="true"></a>  <span class="co">// [https://spotbugs.readthedocs.io/en/latest/]</span></span>
      <span id="cb23-25"><a href="#cb23-25" aria-hidden="true"></a>  id <span class="st">&quot;com.github.spotbugs&quot;</span> version <span class="st">&quot;5.0.9&quot;</span></span>
      <span id="cb23-26"><a href="#cb23-26" aria-hidden="true"></a>}</span>
      <span id="cb23-27"><a href="#cb23-27" aria-hidden="true"></a></span>
      <span id="cb23-28"><a href="#cb23-28" aria-hidden="true"></a>...</span>
      <span id="cb23-29"><a href="#cb23-29" aria-hidden="true"></a></span>
      <span id="cb23-30"><a href="#cb23-30" aria-hidden="true"></a><span class="co">// --------------------------------------------------------------- Repositories</span></span>
      <span id="cb23-31"><a href="#cb23-31" aria-hidden="true"></a>repositories {</span>
      <span id="cb23-32"><a href="#cb23-32" aria-hidden="true"></a>  <span class="co">// Order here is important. Repositories are queried sequentially.</span></span>
      <span id="cb23-33"><a href="#cb23-33" aria-hidden="true"></a>  mavenLocal() <span class="co">// Local repository</span></span>
      <span id="cb23-34"><a href="#cb23-34" aria-hidden="true"></a>  mavenCentral() <span class="co">// Central repository</span></span>
      <span id="cb23-35"><a href="#cb23-35" aria-hidden="true"></a>  maven {</span>
      <span id="cb23-36"><a href="#cb23-36" aria-hidden="true"></a>      url = uri(&#39;https:<span class="co">//repo.maven.apache.org/maven2/&#39;)</span></span>
      <span id="cb23-37"><a href="#cb23-37" aria-hidden="true"></a>  }</span>
      <span id="cb23-38"><a href="#cb23-38" aria-hidden="true"></a>}</span>
      <span id="cb23-39"><a href="#cb23-39" aria-hidden="true"></a></span>
      <span id="cb23-40"><a href="#cb23-40" aria-hidden="true"></a><span class="co">// --------------------------------------------------------------- Dependencies</span></span>
      <span id="cb23-41"><a href="#cb23-41" aria-hidden="true"></a><span class="co">// [https://docs.gradle.org/current/userguide/core_dependency_management.html]</span></span>
      <span id="cb23-42"><a href="#cb23-42" aria-hidden="true"></a><span class="co">// implementation = compileClasspath + runtimeClasspath (integrated in war)</span></span>
      <span id="cb23-43"><a href="#cb23-43" aria-hidden="true"></a><span class="co">// providedCompile = compileClasspath (not integrated in war)</span></span>
      <span id="cb23-44"><a href="#cb23-44" aria-hidden="true"></a>dependencies {</span>
      <span id="cb23-45"><a href="#cb23-45" aria-hidden="true"></a>    <span class="co">// Use JUnit Jupiter for unit testing</span></span>
      <span id="cb23-46"><a href="#cb23-46" aria-hidden="true"></a>    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:<span class="dv">5</span>.<span class="dv">9</span><span class="fl">.0</span>&#39; <span class="co">// API</span></span>
      <span id="cb23-47"><a href="#cb23-47" aria-hidden="true"></a>    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:<span class="dv">5</span>.<span class="dv">9</span><span class="fl">.0</span>&#39; <span class="co">// Runtime</span></span>
      <span id="cb23-48"><a href="#cb23-48" aria-hidden="true"></a></span>
      <span id="cb23-49"><a href="#cb23-49" aria-hidden="true"></a>    <span class="co">// Use Mockito for unit testing [https://site.mockito.org/]</span></span>
      <span id="cb23-50"><a href="#cb23-50" aria-hidden="true"></a>    testImplementation <span class="st">&quot;org.mockito:mockito-core:3.+&quot;</span></span>
      <span id="cb23-51"><a href="#cb23-51" aria-hidden="true"></a></span>
      <span id="cb23-52"><a href="#cb23-52" aria-hidden="true"></a>    <span class="co">// Use JUnit Jupiter for integration testing</span></span>
      <span id="cb23-53"><a href="#cb23-53" aria-hidden="true"></a>    itestImplementation &#39;org.junit.jupiter:junit-jupiter-api:<span class="dv">5</span>.<span class="dv">9</span><span class="fl">.0</span>&#39; <span class="co">// API</span></span>
      <span id="cb23-54"><a href="#cb23-54" aria-hidden="true"></a>    itestRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:<span class="dv">5</span>.<span class="dv">9</span><span class="fl">.0</span>&#39; <span class="co">// Runtime</span></span>
      <span id="cb23-55"><a href="#cb23-55" aria-hidden="true"></a></span>
      <span id="cb23-56"><a href="#cb23-56" aria-hidden="true"></a>    implementation &#39;javax.servlet:jstl:<span class="dv">1</span><span class="fl">.2</span>&#39; <span class="co">// JSTL</span></span>
      <span id="cb23-57"><a href="#cb23-57" aria-hidden="true"></a>    implementation &#39;mysql:mysql-connector-java:<span class="dv">8</span>.<span class="dv">0</span><span class="fl">.29</span>&#39; <span class="co">// MySQL</span></span>
      <span id="cb23-58"><a href="#cb23-58" aria-hidden="true"></a>    implementation &#39;commons-codec:commons-codec:<span class="dv">1</span><span class="fl">.15</span>&#39; <span class="co">// DigestUtils.sha512Hex</span></span>
      <span id="cb23-59"><a href="#cb23-59" aria-hidden="true"></a>    providedCompile &#39;javax.servlet:javax.servlet-api:<span class="dv">4</span>.<span class="dv">0</span><span class="fl">.1</span>&#39; <span class="co">// Servlet</span></span>
      <span id="cb23-60"><a href="#cb23-60" aria-hidden="true"></a></span>
      <span id="cb23-61"><a href="#cb23-61" aria-hidden="true"></a>...</span>
      <span id="cb23-62"><a href="#cb23-62" aria-hidden="true"></a></span>
      <span id="cb23-63"><a href="#cb23-63" aria-hidden="true"></a>    <span class="co">// https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api</span></span>
      <span id="cb23-64"><a href="#cb23-64" aria-hidden="true"></a>    implementation &#39;javax.xml.bind:jaxb-api:<span class="dv">2</span>.<span class="dv">3</span><span class="fl">.1</span>&#39; <span class="co">// JAXB (xml&lt;&gt;java)</span></span>
      <span id="cb23-65"><a href="#cb23-65" aria-hidden="true"></a>}</span>
      <span id="cb23-66"><a href="#cb23-66" aria-hidden="true"></a></span>
      <span id="cb23-67"><a href="#cb23-67" aria-hidden="true"></a>...</span>
      <span id="cb23-68"><a href="#cb23-68" aria-hidden="true"></a></span>
      <span id="cb23-69"><a href="#cb23-69" aria-hidden="true"></a><span class="co">// ------------------------------------------------------------------------ ssh</span></span>
      <span id="cb23-70"><a href="#cb23-70" aria-hidden="true"></a>ssh.settings {</span>
      <span id="cb23-71"><a href="#cb23-71" aria-hidden="true"></a>  dryRun = project.hasProperty(&#39;dryRun&#39;)</span>
      <span id="cb23-72"><a href="#cb23-72" aria-hidden="true"></a>  timeoutSec = <span class="dv">600</span></span>
      <span id="cb23-73"><a href="#cb23-73" aria-hidden="true"></a>}</span>
      <span id="cb23-74"><a href="#cb23-74" aria-hidden="true"></a></span>
      <span id="cb23-75"><a href="#cb23-75" aria-hidden="true"></a>remotes {</span>
      <span id="cb23-76"><a href="#cb23-76" aria-hidden="true"></a>  app {</span>
      <span id="cb23-77"><a href="#cb23-77" aria-hidden="true"></a>    role &#39;tomcat&#39;</span>
      <span id="cb23-78"><a href="#cb23-78" aria-hidden="true"></a>    host = &#39;localhost&#39;</span>
      <span id="cb23-79"><a href="#cb23-79" aria-hidden="true"></a>    port = <span class="dv">2222</span></span>
      <span id="cb23-80"><a href="#cb23-80" aria-hidden="true"></a>    user = &#39;root&#39;</span>
      <span id="cb23-81"><a href="#cb23-81" aria-hidden="true"></a>    password = &#39;root&#39;</span>
      <span id="cb23-82"><a href="#cb23-82" aria-hidden="true"></a>    knownHosts = allowAnyHosts <span class="co">// Bypass ~/.ssh/known_hosts</span></span>
      <span id="cb23-83"><a href="#cb23-83" aria-hidden="true"></a>    <span class="co">// identity = file(&#39;id_rsa&#39;)</span></span>
      <span id="cb23-84"><a href="#cb23-84" aria-hidden="true"></a>  }</span>
      <span id="cb23-85"><a href="#cb23-85" aria-hidden="true"></a>}</span>
      <span id="cb23-86"><a href="#cb23-86" aria-hidden="true"></a></span>
      <span id="cb23-87"><a href="#cb23-87" aria-hidden="true"></a>...</span>
      <span id="cb23-88"><a href="#cb23-88" aria-hidden="true"></a></span>
      <span id="cb23-89"><a href="#cb23-89" aria-hidden="true"></a>task deploy(dependsOn: war) {</span>
      <span id="cb23-90"><a href="#cb23-90" aria-hidden="true"></a>  description = <span class="st">&quot;Deploy on dev server&quot;</span></span>
      <span id="cb23-91"><a href="#cb23-91" aria-hidden="true"></a>  doLast {</span>
      <span id="cb23-92"><a href="#cb23-92" aria-hidden="true"></a>    def webapps = &#39;/usr/local/tomcat/webapps&#39;</span>
      <span id="cb23-93"><a href="#cb23-93" aria-hidden="true"></a>    def app = &#39;ROOT.war&#39;</span>
      <span id="cb23-94"><a href="#cb23-94" aria-hidden="true"></a>    ssh.run {</span>
      <span id="cb23-95"><a href="#cb23-95" aria-hidden="true"></a>      session(remotes.app) {</span>
      <span id="cb23-96"><a href="#cb23-96" aria-hidden="true"></a>        <span class="bu">println</span> <span class="st">&quot;- Uploading new war&quot;</span></span>
      <span id="cb23-97"><a href="#cb23-97" aria-hidden="true"></a>        put from: war.archivePath.absolutePath, into: <span class="st">&quot;${webapps}/${app}.new&quot;</span></span>
      <span id="cb23-98"><a href="#cb23-98" aria-hidden="true"></a></span>
      <span id="cb23-99"><a href="#cb23-99" aria-hidden="true"></a>        <span class="bu">println</span> <span class="st">&quot;- Removing old war&quot;</span></span>
      <span id="cb23-100"><a href="#cb23-100" aria-hidden="true"></a>        execute <span class="st">&quot;rm ${webapps}/${app}&quot;</span>, ignoreError: <span class="ot">true</span></span>
      <span id="cb23-101"><a href="#cb23-101" aria-hidden="true"></a></span>
      <span id="cb23-102"><a href="#cb23-102" aria-hidden="true"></a>        <span class="bu">println</span> <span class="st">&quot;- Renaming new war&quot;</span></span>
      <span id="cb23-103"><a href="#cb23-103" aria-hidden="true"></a>        execute <span class="st">&quot;mv ${webapps}/${app}.new ${webapps}/${app}&quot;</span></span>
      <span id="cb23-104"><a href="#cb23-104" aria-hidden="true"></a></span>
      <span id="cb23-105"><a href="#cb23-105" aria-hidden="true"></a>        <span class="bu">println</span> <span class="st">&quot;${webapps}/${app} deployed&quot;</span></span>
      <span id="cb23-106"><a href="#cb23-106" aria-hidden="true"></a>      }</span>
      <span id="cb23-107"><a href="#cb23-107" aria-hidden="true"></a>    }</span>
      <span id="cb23-108"><a href="#cb23-108" aria-hidden="true"></a>  }</span>
      <span id="cb23-109"><a href="#cb23-109" aria-hidden="true"></a>}</span>
      <span id="cb23-110"><a href="#cb23-110" aria-hidden="true"></a></span>
      <span id="cb23-111"><a href="#cb23-111" aria-hidden="true"></a>...</span>
      <span id="cb23-112"><a href="#cb23-112" aria-hidden="true"></a></span>
      <span id="cb23-113"><a href="#cb23-113" aria-hidden="true"></a><span class="co">// ----------------------------------------------------------------------- SAST</span></span>
      <span id="cb23-114"><a href="#cb23-114" aria-hidden="true"></a>spotbugs {</span>
      <span id="cb23-115"><a href="#cb23-115" aria-hidden="true"></a>  effort = &#39;max&#39;</span>
      <span id="cb23-116"><a href="#cb23-116" aria-hidden="true"></a>  ignoreFailures = <span class="ot">true</span></span>
      <span id="cb23-117"><a href="#cb23-117" aria-hidden="true"></a>  <span class="co">// reportLevel = &#39;high&#39;</span></span>
      <span id="cb23-118"><a href="#cb23-118" aria-hidden="true"></a>  reportLevel = &#39;<span class="kw">default</span>&#39;</span>
      <span id="cb23-119"><a href="#cb23-119" aria-hidden="true"></a>  showProgress = <span class="ot">true</span></span>
      <span id="cb23-120"><a href="#cb23-120" aria-hidden="true"></a>  showStackTraces = <span class="ot">true</span></span>
      <span id="cb23-121"><a href="#cb23-121" aria-hidden="true"></a>  maxHeapSize = &#39;1g&#39;</span>
      <span id="cb23-122"><a href="#cb23-122" aria-hidden="true"></a>  reportsDir = file(<span class="st">&quot;$buildDir/reports/spotbugs&quot;</span>)</span>
      <span id="cb23-123"><a href="#cb23-123" aria-hidden="true"></a>}</span>
      <span id="cb23-124"><a href="#cb23-124" aria-hidden="true"></a></span>
      <span id="cb23-125"><a href="#cb23-125" aria-hidden="true"></a>spotbugsMain {</span>
      <span id="cb23-126"><a href="#cb23-126" aria-hidden="true"></a>  reports {</span>
      <span id="cb23-127"><a href="#cb23-127" aria-hidden="true"></a>    xml.enabled = <span class="ot">true</span></span>
      <span id="cb23-128"><a href="#cb23-128" aria-hidden="true"></a>    html.enabled = <span class="ot">true</span></span>
      <span id="cb23-129"><a href="#cb23-129" aria-hidden="true"></a>  }</span>
      <span id="cb23-130"><a href="#cb23-130" aria-hidden="true"></a>}</span>
      <span id="cb23-131"><a href="#cb23-131" aria-hidden="true"></a></span>
      <span id="cb23-132"><a href="#cb23-132" aria-hidden="true"></a>spotbugsTest {</span>
      <span id="cb23-133"><a href="#cb23-133" aria-hidden="true"></a>  reports {</span>
      <span id="cb23-134"><a href="#cb23-134" aria-hidden="true"></a>    xml.enabled = <span class="ot">true</span></span>
      <span id="cb23-135"><a href="#cb23-135" aria-hidden="true"></a>    html.enabled = <span class="ot">true</span></span>
      <span id="cb23-136"><a href="#cb23-136" aria-hidden="true"></a>  }</span>
      <span id="cb23-137"><a href="#cb23-137" aria-hidden="true"></a>}</span>
      <span id="cb23-138"><a href="#cb23-138" aria-hidden="true"></a></span>
      <span id="cb23-139"><a href="#cb23-139" aria-hidden="true"></a>spotbugsItest {</span>
      <span id="cb23-140"><a href="#cb23-140" aria-hidden="true"></a>  reports {</span>
      <span id="cb23-141"><a href="#cb23-141" aria-hidden="true"></a>    xml.enabled = <span class="ot">true</span></span>
      <span id="cb23-142"><a href="#cb23-142" aria-hidden="true"></a>    html.enabled = <span class="ot">true</span></span>
      <span id="cb23-143"><a href="#cb23-143" aria-hidden="true"></a>  }</span>
      <span id="cb23-144"><a href="#cb23-144" aria-hidden="true"></a>}</span>
      <span id="cb23-145"><a href="#cb23-145" aria-hidden="true"></a></span>
      <span id="cb23-146"><a href="#cb23-146" aria-hidden="true"></a><span class="co">// --------------------------------------------------------------- Unit testing</span></span>
      <span id="cb23-147"><a href="#cb23-147" aria-hidden="true"></a>tasks.named(&#39;test&#39;) {</span>
      <span id="cb23-148"><a href="#cb23-148" aria-hidden="true"></a>  description = <span class="st">&quot;Run unit test suite&quot;</span></span>
      <span id="cb23-149"><a href="#cb23-149" aria-hidden="true"></a>  group = <span class="st">&quot;verification&quot;</span></span>
      <span id="cb23-150"><a href="#cb23-150" aria-hidden="true"></a>  testClassesDirs = sourceSets.test.output.classesDirs</span>
      <span id="cb23-151"><a href="#cb23-151" aria-hidden="true"></a>  classpath = sourceSets.test.runtimeClasspath</span>
      <span id="cb23-152"><a href="#cb23-152" aria-hidden="true"></a>  <span class="co">// Use JUnit Platform for unit tests.</span></span>
      <span id="cb23-153"><a href="#cb23-153" aria-hidden="true"></a>  useJUnitPlatform()</span>
      <span id="cb23-154"><a href="#cb23-154" aria-hidden="true"></a>}</span>
      <span id="cb23-155"><a href="#cb23-155" aria-hidden="true"></a></span>
      <span id="cb23-156"><a href="#cb23-156" aria-hidden="true"></a><span class="co">// -------------------------------------------------------- Integration testing</span></span>
      <span id="cb23-157"><a href="#cb23-157" aria-hidden="true"></a>task itest(<span class="kw">type</span>: Test) {</span>
      <span id="cb23-158"><a href="#cb23-158" aria-hidden="true"></a>  description = <span class="st">&quot;Run integration test suite&quot;</span></span>
      <span id="cb23-159"><a href="#cb23-159" aria-hidden="true"></a>  group = <span class="st">&quot;verification&quot;</span></span>
      <span id="cb23-160"><a href="#cb23-160" aria-hidden="true"></a>  testClassesDirs = sourceSets.itest.output.classesDirs</span>
      <span id="cb23-161"><a href="#cb23-161" aria-hidden="true"></a>  classpath = sourceSets.itest.runtimeClasspath</span>
      <span id="cb23-162"><a href="#cb23-162" aria-hidden="true"></a>}</span>
      <span id="cb23-163"><a href="#cb23-163" aria-hidden="true"></a></span>
      <span id="cb23-164"><a href="#cb23-164" aria-hidden="true"></a>...</span></code></pre></div>
      <!-- cSpell:enable -->
      <h4 id="containérisation-et-services">7.6.2. Containérisation et services<!-- OK --></h4>
      <p>Docker est un outil qui permet de gérer les conteneurs logiciels.</p>
      <p>Containériser une application facilite <strong>l’isolation des différentes parties</strong>, <strong>la portabilité</strong> entre différents environnements, <strong>l’optimisation des ressources</strong>, <strong>l’automatisation du déploiement</strong> et le partage des images de conteneurs.</p>
      <p>Docker est populaire pour la création, le déploiement et la gestion des conteneurs dans les applications modernes containérisées.</p>
      <h5 id="docker">7.6.2.1. Docker<!-- OK --></h5>
      <p><strong>Docker</strong> permet la mise en œuvre de <strong>conteneurs</strong> s’exécutant en isolation, via une API de haut-niveau.</p>
      <p>Utiliser Docker pour créer et gérer des conteneurs peut simplifier la mise en œuvre de <strong>systèmes distribués</strong> en permettant à de multiples applications, tâches de fond et autres processus de s’exécuter de façon autonome sur une seule machine physique.</p>
      <p>Voici un exemple de commande qui peut être utilisée pour transformer un fichier Markdown <code>entree.md</code> en fichier HTML au moyen de l’applicatif Pandoc, mais en utilisant l’image Docker <code>pandoc/core</code> (disponible sur <a href="https://hub.docker.com/">Docker Hub</a> :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb24"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true"></a></span>
      <span id="cb24-2"><a href="#cb24-2" aria-hidden="true"></a><span class="ex">docker</span> run --rm -v <span class="va">$(</span><span class="bu">pwd</span><span class="va">)</span>:/data pandoc/core pandoc -s -o sortie.html entree.md</span></code></pre></div>
      <!-- cSpell:enable -->
      <p>Cette commande suppose que le fichier markdown se trouve dans le répertoire courant et créera un fichier HTML nommé <code>sortie.html</code> dans le même répertoire.</p>
      <h5 id="docker-compose">7.6.2.2. Docker Compose<!-- OK --></h5>
      <p>Docker Compose est une extension de docker permettant de définir et d’exécuter des applications à partir de <strong>multiples conteneurs</strong>. Il est basé sur un fichier YAML qui permet de <strong>définir les services et les paramètres de leurs créations</strong> et ainsi de les démarrer par une commande unique.</p>
      <figure>
      <img src="img/docker-compose-uml.png" alt="" /><figcaption>Docker Compose Diagram</figcaption>
      </figure>
      <p>Voici en exemple le fichier <code>docker-compose.yml</code> qui définit le démarrage d’une grappe de 3 services composant la plateforme de développement attachée au projet (les variables sont interprétées au travers d’un fichier d’environnement) :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb25"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true"></a></span>
      <span id="cb25-2"><a href="#cb25-2" aria-hidden="true"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;3&quot;</span></span>
      <span id="cb25-3"><a href="#cb25-3" aria-hidden="true"></a><span class="fu">services</span><span class="kw">:</span></span>
      <span id="cb25-4"><a href="#cb25-4" aria-hidden="true"></a><span class="co"># ------------------------------------------------------------------------- web</span></span>
      <span id="cb25-5"><a href="#cb25-5" aria-hidden="true"></a><span class="at">  </span><span class="fu">web</span><span class="kw">:</span><span class="co"> # NGINX</span></span>
      <span id="cb25-6"><a href="#cb25-6" aria-hidden="true"></a><span class="at">    </span><span class="fu">build</span><span class="kw">:</span></span>
      <span id="cb25-7"><a href="#cb25-7" aria-hidden="true"></a><span class="at">      </span><span class="fu">context</span><span class="kw">:</span><span class="at"> ${WEB_BUILD}</span></span>
      <span id="cb25-8"><a href="#cb25-8" aria-hidden="true"></a><span class="at">    </span><span class="fu">container_name</span><span class="kw">:</span><span class="at"> ${PROJECT}-${WEB}</span></span>
      <span id="cb25-9"><a href="#cb25-9" aria-hidden="true"></a><span class="at">    </span><span class="fu">restart</span><span class="kw">:</span><span class="at"> unless-stopped</span></span>
      <span id="cb25-10"><a href="#cb25-10" aria-hidden="true"></a><span class="at">    </span><span class="fu">depends_on</span><span class="kw">:</span></span>
      <span id="cb25-11"><a href="#cb25-11" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> app</span></span>
      <span id="cb25-12"><a href="#cb25-12" aria-hidden="true"></a><span class="at">    </span><span class="fu">links</span><span class="kw">:</span></span>
      <span id="cb25-13"><a href="#cb25-13" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> app</span></span>
      <span id="cb25-14"><a href="#cb25-14" aria-hidden="true"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
      <span id="cb25-15"><a href="#cb25-15" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${HOST_IP}:${HOST_WEB_UNSECURE_PORT}:80</span></span>
      <span id="cb25-16"><a href="#cb25-16" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${HOST_IP}:${HOST_WEB_SECURE_PORT}:443</span></span>
      <span id="cb25-17"><a href="#cb25-17" aria-hidden="true"></a><span class="at">    </span><span class="fu">volumes</span><span class="kw">:</span></span>
      <span id="cb25-18"><a href="#cb25-18" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${WEB_CONF}/nginx.conf:/etc/nginx/nginx.conf:ro</span><span class="co"> # Nginx conf (read-only)</span></span>
      <span id="cb25-19"><a href="#cb25-19" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${WEB_CONF}/conf.d:/etc/nginx/conf.d:ro</span><span class="co"> # Nginx conf subsets for proxypass (read-only)</span></span>
      <span id="cb25-20"><a href="#cb25-20" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${WEB_LOG}:/var/log/nginx</span><span class="co"> # Logs</span></span>
      <span id="cb25-21"><a href="#cb25-21" aria-hidden="true"></a><span class="co">      # - ${WEB_DATA}:/usr/share/nginx/html # Data</span></span>
      <span id="cb25-22"><a href="#cb25-22" aria-hidden="true"></a><span class="co"># ------------------------------------------------------------------------- app</span></span>
      <span id="cb25-23"><a href="#cb25-23" aria-hidden="true"></a><span class="at">  </span><span class="fu">app</span><span class="kw">:</span><span class="co"> # TOMCAT</span></span>
      <span id="cb25-24"><a href="#cb25-24" aria-hidden="true"></a><span class="at">    </span><span class="fu">build</span><span class="kw">:</span></span>
      <span id="cb25-25"><a href="#cb25-25" aria-hidden="true"></a><span class="at">      </span><span class="fu">context</span><span class="kw">:</span><span class="at"> ${APP_BUILD}</span></span>
      <span id="cb25-26"><a href="#cb25-26" aria-hidden="true"></a><span class="at">    </span><span class="fu">container_name</span><span class="kw">:</span><span class="at"> ${PROJECT}-${APP}</span></span>
      <span id="cb25-27"><a href="#cb25-27" aria-hidden="true"></a><span class="at">    </span><span class="fu">restart</span><span class="kw">:</span><span class="at"> unless-stopped</span></span>
      <span id="cb25-28"><a href="#cb25-28" aria-hidden="true"></a><span class="at">    </span><span class="fu">depends_on</span><span class="kw">:</span></span>
      <span id="cb25-29"><a href="#cb25-29" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> db</span></span>
      <span id="cb25-30"><a href="#cb25-30" aria-hidden="true"></a><span class="at">    </span><span class="fu">links</span><span class="kw">:</span></span>
      <span id="cb25-31"><a href="#cb25-31" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> db</span></span>
      <span id="cb25-32"><a href="#cb25-32" aria-hidden="true"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
      <span id="cb25-33"><a href="#cb25-33" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${HOST_IP}:${HOST_APP_UNSECURE_PORT}:8080</span></span>
      <span id="cb25-34"><a href="#cb25-34" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${HOST_IP}:${HOST_APP_SSH_PORT}:22</span></span>
      <span id="cb25-35"><a href="#cb25-35" aria-hidden="true"></a><span class="at">    </span><span class="fu">volumes</span><span class="kw">:</span></span>
      <span id="cb25-36"><a href="#cb25-36" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${APP_CONF}/jaas.config:${CATALINA_HOME}/conf/jaas.config:ro</span><span class="co"> # JAAS config file (read-only)</span></span>
      <span id="cb25-37"><a href="#cb25-37" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${APP_LOG}:${CATALINA_HOME}/logs</span><span class="co"> # Logs</span></span>
      <span id="cb25-38"><a href="#cb25-38" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${APP_DATA}:${CATALINA_HOME}/webapps</span><span class="co"> # Data</span></span>
      <span id="cb25-39"><a href="#cb25-39" aria-hidden="true"></a><span class="at">    </span><span class="fu">environment</span><span class="kw">:</span></span>
      <span id="cb25-40"><a href="#cb25-40" aria-hidden="true"></a><span class="co">      # Starts tomcat with jaas config file</span></span>
      <span id="cb25-41"><a href="#cb25-41" aria-hidden="true"></a><span class="at">      </span><span class="fu">JAVA_OPTS</span><span class="kw">:</span><span class="at"> $JAVA_OPTS &quot;-Djava.security.auth.login.config=$CATALINA_HOME/conf/jaas.config&quot;</span></span>
      <span id="cb25-42"><a href="#cb25-42" aria-hidden="true"></a><span class="co">      # Database</span></span>
      <span id="cb25-43"><a href="#cb25-43" aria-hidden="true"></a><span class="at">      </span><span class="fu">MARIADB_DATABASE</span><span class="kw">:</span><span class="at"> ${MARIADB_DATABASE}</span></span>
      <span id="cb25-44"><a href="#cb25-44" aria-hidden="true"></a><span class="at">      </span><span class="fu">MARIADB_USER</span><span class="kw">:</span><span class="at"> ${MARIADB_USER}</span></span>
      <span id="cb25-45"><a href="#cb25-45" aria-hidden="true"></a><span class="at">      </span><span class="fu">MARIADB_PASSWORD</span><span class="kw">:</span><span class="at"> ${MARIADB_PASSWORD}</span></span>
      <span id="cb25-46"><a href="#cb25-46" aria-hidden="true"></a><span class="co"># -------------------------------------------------------------------------- db</span></span>
      <span id="cb25-47"><a href="#cb25-47" aria-hidden="true"></a><span class="at">  </span><span class="fu">db</span><span class="kw">:</span><span class="co"> # MARIADB</span></span>
      <span id="cb25-48"><a href="#cb25-48" aria-hidden="true"></a><span class="at">    </span><span class="fu">build</span><span class="kw">:</span></span>
      <span id="cb25-49"><a href="#cb25-49" aria-hidden="true"></a><span class="at">      </span><span class="fu">context</span><span class="kw">:</span><span class="at"> ${DB_BUILD}</span></span>
      <span id="cb25-50"><a href="#cb25-50" aria-hidden="true"></a><span class="at">    </span><span class="fu">container_name</span><span class="kw">:</span><span class="at"> ${PROJECT}-${DB}</span></span>
      <span id="cb25-51"><a href="#cb25-51" aria-hidden="true"></a><span class="at">    </span><span class="fu">restart</span><span class="kw">:</span><span class="at"> unless-stopped</span></span>
      <span id="cb25-52"><a href="#cb25-52" aria-hidden="true"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
      <span id="cb25-53"><a href="#cb25-53" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${HOST_IP}:${HOST_DB_PORT}:3306</span></span>
      <span id="cb25-54"><a href="#cb25-54" aria-hidden="true"></a><span class="at">    </span><span class="fu">volumes</span><span class="kw">:</span><span class="at"> </span></span>
      <span id="cb25-55"><a href="#cb25-55" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${DB_CONF}/initdb:/docker-entrypoint-initdb.d:ro</span><span class="co"> # SQL initdb</span></span>
      <span id="cb25-56"><a href="#cb25-56" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${DB_LOG}:/var/log/mariadb</span><span class="co"> # Logs</span></span>
      <span id="cb25-57"><a href="#cb25-57" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${DB_DATA}:/var/lib/mysql</span><span class="co"> # Data</span></span>
      <span id="cb25-58"><a href="#cb25-58" aria-hidden="true"></a><span class="at">    </span><span class="fu">environment</span><span class="kw">:</span></span>
      <span id="cb25-59"><a href="#cb25-59" aria-hidden="true"></a><span class="co">      # Database</span></span>
      <span id="cb25-60"><a href="#cb25-60" aria-hidden="true"></a><span class="at">      </span><span class="fu">MARIADB_ROOT_PASSWORD</span><span class="kw">:</span><span class="at"> ${MARIADB_ROOT_PASSWORD}</span></span>
      <span id="cb25-61"><a href="#cb25-61" aria-hidden="true"></a><span class="at">      </span><span class="fu">MARIADB_DATABASE</span><span class="kw">:</span><span class="at"> ${MARIADB_DATABASE}</span></span>
      <span id="cb25-62"><a href="#cb25-62" aria-hidden="true"></a><span class="at">      </span><span class="fu">MARIADB_USER</span><span class="kw">:</span><span class="at"> ${MARIADB_USER}</span></span>
      <span id="cb25-63"><a href="#cb25-63" aria-hidden="true"></a><span class="at">      </span><span class="fu">MARIADB_PASSWORD</span><span class="kw">:</span><span class="at"> ${MARIADB_PASSWORD}</span></span></code></pre></div>
      <!-- cSpell:enable -->
      <h5 id="docker-swarm">7.6.2.3. Docker Swarm<!-- OK --></h5>
      <p>Docker swarm mode, inclus dans les versions actuelles de Docker, permet de <strong>gérer un cluster de moteur Docker</strong>, appelé swarm. En utilisant la ligne de commande docker, il est possible de créer un swarm, d’y déployer des services applicatifs, et de gérer le comportement du swarm. Docker swarm est <strong>l’orchestrateur natif de docker</strong> (équivalent Kubernetes).</p>
      <p>Les fonctions les plus représentatives sont les suivantes :</p>
      <ul>
      <li><strong>Gestion</strong> du cluster <strong>intégrée avec le moteur Docker</strong></li>
      <li><strong>Modèle déclaratif</strong> (desired state)</li>
      <li>Surveillance du <strong>status et réconciliation</strong> (Desired state reconciliation)</li>
      <li><em>Dimensionnement</em> (replica scaling)</li>
      <li><strong>Répartition de charge</strong> (Load balancing)</li>
      <li><strong>Réseau</strong> multi-host (overlays)</li>
      <li><strong>Sécurisé</strong> par défaut (TLS authentification et encryption)</li>
      </ul>
      <figure>
      <img src="img/docker-swarm-uml.png" alt="" /><figcaption>Docker Swarm Diagram</figcaption>
      </figure>
      <p>Voici en exemple un autre fichier <code>docker-compose.yml</code>, cette fois-ci utilise par un script python d’intégration chargé de déployer des stacks de services sur un swarm (Les parties commentées correspondent à la configuration nécessaire pour la persistance des données grâce à un partage nfs) :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb26"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true"></a></span>
      <span id="cb26-2"><a href="#cb26-2" aria-hidden="true"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3.6&#39;</span></span>
      <span id="cb26-3"><a href="#cb26-3" aria-hidden="true"></a><span class="co"># -------------------------------------------------------------------- networks</span></span>
      <span id="cb26-4"><a href="#cb26-4" aria-hidden="true"></a><span class="fu">networks</span><span class="kw">:</span></span>
      <span id="cb26-5"><a href="#cb26-5" aria-hidden="true"></a><span class="at">  </span><span class="fu">swarm</span><span class="kw">:</span></span>
      <span id="cb26-6"><a href="#cb26-6" aria-hidden="true"></a><span class="at">    </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;swarm&#39;</span></span>
      <span id="cb26-7"><a href="#cb26-7" aria-hidden="true"></a><span class="at">    </span><span class="fu">external</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
      <span id="cb26-8"><a href="#cb26-8" aria-hidden="true"></a><span class="co"># --------------------------------------------------------------------- volumes</span></span>
      <span id="cb26-9"><a href="#cb26-9" aria-hidden="true"></a><span class="co"># volumes:</span></span>
      <span id="cb26-10"><a href="#cb26-10" aria-hidden="true"></a><span class="co">#   prometheus:</span></span>
      <span id="cb26-11"><a href="#cb26-11" aria-hidden="true"></a><span class="co">#     driver: local</span></span>
      <span id="cb26-12"><a href="#cb26-12" aria-hidden="true"></a><span class="co">#     driver_opts:</span></span>
      <span id="cb26-13"><a href="#cb26-13" aria-hidden="true"></a><span class="co">#       type: &quot;nfs&quot;</span></span>
      <span id="cb26-14"><a href="#cb26-14" aria-hidden="true"></a><span class="co">#       o: &quot;addr=${MANAGER},nolock,soft,rw&quot; # nolock and soft ensure docker doesn&#39;t freeze if the nfs connection is lost.</span></span>
      <span id="cb26-15"><a href="#cb26-15" aria-hidden="true"></a><span class="co">#       device: &quot;:/data/${STACK}/prometheus&quot;</span></span>
      <span id="cb26-16"><a href="#cb26-16" aria-hidden="true"></a><span class="co">#   grafana:</span></span>
      <span id="cb26-17"><a href="#cb26-17" aria-hidden="true"></a><span class="co">#     driver: local</span></span>
      <span id="cb26-18"><a href="#cb26-18" aria-hidden="true"></a><span class="co">#     driver_opts:</span></span>
      <span id="cb26-19"><a href="#cb26-19" aria-hidden="true"></a><span class="co">#       type: &quot;nfs&quot;</span></span>
      <span id="cb26-20"><a href="#cb26-20" aria-hidden="true"></a><span class="co">#       o: &quot;addr=${MANAGER},nolock,soft,rw&quot; # nolock and soft ensure docker doesn&#39;t freeze if the nfs connection is lost.</span></span>
      <span id="cb26-21"><a href="#cb26-21" aria-hidden="true"></a><span class="co">#       device: &quot;:/data/${STACK}/grafana&quot;</span></span>
      <span id="cb26-22"><a href="#cb26-22" aria-hidden="true"></a><span class="co"># -------------------------------------------------------------------- services</span></span>
      <span id="cb26-23"><a href="#cb26-23" aria-hidden="true"></a><span class="fu">services</span><span class="kw">:</span></span>
      <span id="cb26-24"><a href="#cb26-24" aria-hidden="true"></a><span class="at">  </span><span class="fu">visualizer</span><span class="kw">:</span></span>
      <span id="cb26-25"><a href="#cb26-25" aria-hidden="true"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> dockersamples/visualizer</span></span>
      <span id="cb26-26"><a href="#cb26-26" aria-hidden="true"></a><span class="at">    </span><span class="fu">labels</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">prometheus-job=visualizer</span><span class="kw">]</span></span>
      <span id="cb26-27"><a href="#cb26-27" aria-hidden="true"></a><span class="at">    </span><span class="fu">deploy</span><span class="kw">:</span></span>
      <span id="cb26-28"><a href="#cb26-28" aria-hidden="true"></a><span class="at">      </span><span class="fu">replicas</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
      <span id="cb26-29"><a href="#cb26-29" aria-hidden="true"></a><span class="at">      </span><span class="fu">placement</span><span class="kw">:</span></span>
      <span id="cb26-30"><a href="#cb26-30" aria-hidden="true"></a><span class="at">        </span><span class="fu">constraints</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">node.role == manager</span><span class="kw">]</span></span>
      <span id="cb26-31"><a href="#cb26-31" aria-hidden="true"></a><span class="at">    </span><span class="fu">networks</span><span class="kw">:</span></span>
      <span id="cb26-32"><a href="#cb26-32" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> swarm</span></span>
      <span id="cb26-33"><a href="#cb26-33" aria-hidden="true"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
      <span id="cb26-34"><a href="#cb26-34" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> 5050:8080</span></span>
      <span id="cb26-35"><a href="#cb26-35" aria-hidden="true"></a><span class="at">    </span><span class="fu">volumes</span><span class="kw">:</span></span>
      <span id="cb26-36"><a href="#cb26-36" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> /var/run/docker.sock:/var/run/docker.sock</span></span>
      <span id="cb26-37"><a href="#cb26-37" aria-hidden="true"></a><span class="at">  </span><span class="fu">prometheus</span><span class="kw">:</span></span>
      <span id="cb26-38"><a href="#cb26-38" aria-hidden="true"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> 127.0.0.1:5000/${STACK}-prometheus</span></span>
      <span id="cb26-39"><a href="#cb26-39" aria-hidden="true"></a><span class="at">    </span><span class="fu">labels</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">prometheus-job=prometheus</span><span class="kw">]</span></span>
      <span id="cb26-40"><a href="#cb26-40" aria-hidden="true"></a><span class="at">    </span><span class="fu">build</span><span class="kw">:</span><span class="at"> ./builds/prometheus/</span></span>
      <span id="cb26-41"><a href="#cb26-41" aria-hidden="true"></a><span class="at">    </span><span class="fu">deploy</span><span class="kw">:</span></span>
      <span id="cb26-42"><a href="#cb26-42" aria-hidden="true"></a><span class="at">      </span><span class="fu">replicas</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
      <span id="cb26-43"><a href="#cb26-43" aria-hidden="true"></a><span class="at">      </span><span class="fu">placement</span><span class="kw">:</span></span>
      <span id="cb26-44"><a href="#cb26-44" aria-hidden="true"></a><span class="at">        </span><span class="fu">constraints</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">node.role == manager</span><span class="kw">]</span></span>
      <span id="cb26-45"><a href="#cb26-45" aria-hidden="true"></a><span class="at">    </span><span class="fu">networks</span><span class="kw">:</span></span>
      <span id="cb26-46"><a href="#cb26-46" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> swarm</span></span>
      <span id="cb26-47"><a href="#cb26-47" aria-hidden="true"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
      <span id="cb26-48"><a href="#cb26-48" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> 9090:9090</span></span>
      <span id="cb26-49"><a href="#cb26-49" aria-hidden="true"></a><span class="at">    </span><span class="fu">volumes</span><span class="kw">:</span></span>
      <span id="cb26-50"><a href="#cb26-50" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> /var/run/docker.sock:/var/run/docker.sock</span></span>
      <span id="cb26-51"><a href="#cb26-51" aria-hidden="true"></a><span class="co">      # - type: volume</span></span>
      <span id="cb26-52"><a href="#cb26-52" aria-hidden="true"></a><span class="co">      #   source: prometheus</span></span>
      <span id="cb26-53"><a href="#cb26-53" aria-hidden="true"></a><span class="co">      #   target: /prometheus</span></span>
      <span id="cb26-54"><a href="#cb26-54" aria-hidden="true"></a><span class="co">      #   volume:</span></span>
      <span id="cb26-55"><a href="#cb26-55" aria-hidden="true"></a><span class="co">      #     nocopy: true</span></span>
      <span id="cb26-56"><a href="#cb26-56" aria-hidden="true"></a><span class="at">    </span><span class="fu">command</span><span class="kw">:</span><span class="at"> --web.enable-lifecycle --config.file=/etc/prometheus/prometheus.yml </span></span>
      <span id="cb26-57"><a href="#cb26-57" aria-hidden="true"></a><span class="at">  </span><span class="fu">grafana</span><span class="kw">:</span></span>
      <span id="cb26-58"><a href="#cb26-58" aria-hidden="true"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> 127.0.0.1:5000/${STACK}-grafana</span></span>
      <span id="cb26-59"><a href="#cb26-59" aria-hidden="true"></a><span class="at">    </span><span class="fu">labels</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">prometheus-job=grafana</span><span class="kw">]</span></span>
      <span id="cb26-60"><a href="#cb26-60" aria-hidden="true"></a><span class="at">    </span><span class="fu">build</span><span class="kw">:</span><span class="at"> ./builds/grafana/</span></span>
      <span id="cb26-61"><a href="#cb26-61" aria-hidden="true"></a><span class="at">    </span><span class="fu">deploy</span><span class="kw">:</span></span>
      <span id="cb26-62"><a href="#cb26-62" aria-hidden="true"></a><span class="at">      </span><span class="fu">replicas</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
      <span id="cb26-63"><a href="#cb26-63" aria-hidden="true"></a><span class="at">      </span><span class="fu">placement</span><span class="kw">:</span></span>
      <span id="cb26-64"><a href="#cb26-64" aria-hidden="true"></a><span class="at">        </span><span class="fu">constraints</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">node.role == manager</span><span class="kw">]</span></span>
      <span id="cb26-65"><a href="#cb26-65" aria-hidden="true"></a><span class="at">    </span><span class="fu">networks</span><span class="kw">:</span></span>
      <span id="cb26-66"><a href="#cb26-66" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> swarm</span></span>
      <span id="cb26-67"><a href="#cb26-67" aria-hidden="true"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
      <span id="cb26-68"><a href="#cb26-68" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> 3000:3000</span></span>
      <span id="cb26-69"><a href="#cb26-69" aria-hidden="true"></a><span class="co">    # volumes:</span></span>
      <span id="cb26-70"><a href="#cb26-70" aria-hidden="true"></a><span class="co">    #   - type: volume</span></span>
      <span id="cb26-71"><a href="#cb26-71" aria-hidden="true"></a><span class="co">    #     source: grafana</span></span>
      <span id="cb26-72"><a href="#cb26-72" aria-hidden="true"></a><span class="co">    #     target: /var/lib/grafana</span></span>
      <span id="cb26-73"><a href="#cb26-73" aria-hidden="true"></a><span class="co">    #     volume:</span></span>
      <span id="cb26-74"><a href="#cb26-74" aria-hidden="true"></a><span class="co">    #       nocopy: true</span></span></code></pre></div>
      <!-- cSpell:enable -->
      <h4 id="virtualisation">7.6.3. Virtualisation<!-- OK --></h4>
      <p>Utiliser les hyperviseurs de type 1 (bare-metal) ou de type 2 (logiciels) pour la virtualisation apporte les avantages respectifs suivants :</p>
      <table>
      <colgroup>
      <col style="width: 100%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th>Hyperviseur de type 1 (bare-metal)</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td>Il s’exécutent directement sur le matériel de l’hôte, ce qui permet d’obtenir des <strong>performances plus élevées</strong> et une faible latence pour les machines virtuelles.</td>
      </tr>
      <tr class="even">
      <td>Ils ont un accès direct aux ressources matérielles de l’hôte, ce qui permet de les <strong>configurer de manière plus fine</strong> et d’obtenir des performances optimales.</td>
      </tr>
      <tr class="odd">
      <td></td>
      </tr>
      </tbody>
      </table>
      <table>
      <colgroup>
      <col style="width: 100%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th>Hyperviseur de type 1 (logiciels)</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td>Ils <strong>s’installent sur un système d’exploitation existant</strong>, ce qui permet de les installer facilement sur des machines existantes.</td>
      </tr>
      <tr class="even">
      <td>Ils n’ont pas besoin d’un accès direct aux ressources matérielles de l’hôte, ils <strong>utilisent donc moins de ressources</strong> système.</td>
      </tr>
      <tr class="odd">
      <td>Ils peuvent être <strong>facilement déplacés</strong> d’un système d’exploitation à un autre.</td>
      </tr>
      </tbody>
      </table>
      <h5 id="oracle-vm-virtualbox">7.6.3.1. Oracle VM Virtualbox<!-- OK --></h5>
      <p>Oracle VM VirtualBox (anciennement VirtualBox) est un <strong>logiciel libre de virtualisation</strong> publié par Oracle. C’est un <strong>hyperviseur de type 2</strong>, c’est-à-dire qu’il doit être installé sur un système d’exploitation, et non directement sur un ordinateur en tant que système d’exploitation.</p>
      <p>L’essentiel du travail de <strong>recherche et de développement</strong>, quant à la validation de l’infrastructure finale d’accueil de l’application a été effectué sur cette solution.</p>
      <p>Dans le cadre de ces tests, nous avons également créé un script Python (Cf. <a href="#7132-python">Python</a>) permettant d’automatiser le processus complet de création des différents environnements, en <strong>pilotant</strong> localement <strong>Oracle VM Virtualbox</strong>.</p>
      <h5 id="vmware-esxi">7.6.3.2. VMware ESXi<!-- OK --></h5>
      <p>VMware ESXi est un <strong>hyperviseur de type 1</strong> développé par VMware pour le déploiement et la mise en service de <strong>machines virtuelles</strong>. En tant qu’hyperviseur de type 1, ESXi s’installe directement en tant que système d’exploitation.</p>
      <p>Par soucis de <strong>prise en compte des standards de l’industrie</strong>, de <strong>nombreux tests</strong> de création et de configuration de machines virtuelles ont été réalisés <strong>sur VMware ESXi</strong>. l’environnement de production définitif, dans le cadre d’un hébergement sur site (on premise installation), fera très vraisemblablement appel à cette technologie.</p>
      <h3 id="outils-de-conception-de-la-documentation">7.7. Outils de conception de la documentation<!-- OK --></h3>
      <h4 id="markdown">7.7.1. Markdown<!-- OK --></h4>
      <p>Markdown est un <strong>langage de balisage</strong> léger facile à lire et à écrire. Un document balisé par Markdown peut être <strong>lu en l’état sans donner l’impression d’avoir été balisé</strong> ou formaté par des instructions particulières. Markdown est largement utilisé dans les blogs, la messagerie instantanée, les forums en ligne, les logiciels collaboratifs, les pages de documentation et les fichiers readme.</p>
      <p>Un document balisé par Markdown peut être <strong>converti en HTML</strong>, en PDF ou en bien d’autres formats. Ceci en fait un excellent support pour stocker le contenu d’un document, tandis que la paramétrisation lors de son export se chargera de le styliser (CSS), séparant de manière effective le fond de la forme.</p>
      <p>L’ensemble de la <strong>documentation de ce projet</strong> (dont le present rapport) a été créée à partir de fichiers en Markdown. Les fichiers sont <strong>nativement affiches en HTML sur GitHub et GitLab</strong>, ou bien transformés a l’aide d’un programme comme <a href="https://pandoc.org/">Pandoc</a> (Cf. Exemple d’utilisation <a href="#7621-docker">Docker</a>).</p>
      <p>Voici un exemple de la syntaxe :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb27"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true"></a></span>
      <span id="cb27-2"><a href="#cb27-2" aria-hidden="true"></a><span class="fu"># Heading 1</span></span>
      <span id="cb27-3"><a href="#cb27-3" aria-hidden="true"></a><span class="fu">## Heading 2</span></span>
      <span id="cb27-4"><a href="#cb27-4" aria-hidden="true"></a><span class="fu">### Heading 3</span></span>
      <span id="cb27-5"><a href="#cb27-5" aria-hidden="true"></a></span>
      <span id="cb27-6"><a href="#cb27-6" aria-hidden="true"></a>---</span>
      <span id="cb27-7"><a href="#cb27-7" aria-hidden="true"></a></span>
      <span id="cb27-8"><a href="#cb27-8" aria-hidden="true"></a>**Bold** __Bold__</span>
      <span id="cb27-9"><a href="#cb27-9" aria-hidden="true"></a>*Italic* _Italic_</span>
      <span id="cb27-10"><a href="#cb27-10" aria-hidden="true"></a>~~Strikethrough~~</span>
      <span id="cb27-11"><a href="#cb27-11" aria-hidden="true"></a></span>
      <span id="cb27-12"><a href="#cb27-12" aria-hidden="true"></a><span class="ss">- </span>Bullet point 1</span>
      <span id="cb27-13"><a href="#cb27-13" aria-hidden="true"></a><span class="ss">- </span>Bullet point 2</span>
      <span id="cb27-14"><a href="#cb27-14" aria-hidden="true"></a><span class="ss">    - </span>Sub-bullet point</span>
      <span id="cb27-15"><a href="#cb27-15" aria-hidden="true"></a><span class="ss">1. </span>Numbered point 1</span>
      <span id="cb27-16"><a href="#cb27-16" aria-hidden="true"></a><span class="ss">2. </span>Numbered point 2</span>
      <span id="cb27-17"><a href="#cb27-17" aria-hidden="true"></a></span>
      <span id="cb27-18"><a href="#cb27-18" aria-hidden="true"></a>Links: <span class="co">[</span><span class="ot">Link text</span><span class="co">](http://linkurl.com)</span></span>
      <span id="cb27-19"><a href="#cb27-19" aria-hidden="true"></a></span>
      <span id="cb27-20"><a href="#cb27-20" aria-hidden="true"></a>Images: <span class="al">![Alt text](imageurl.jpg)</span></span>
      <span id="cb27-21"><a href="#cb27-21" aria-hidden="true"></a></span>
      <span id="cb27-22"><a href="#cb27-22" aria-hidden="true"></a>| Column 1 | Column 2 | Column 3 |</span>
      <span id="cb27-23"><a href="#cb27-23" aria-hidden="true"></a>|----------|----------|----------|</span>
      <span id="cb27-24"><a href="#cb27-24" aria-hidden="true"></a>| Row 1, Column 1 | Row 1, Column 2 | Row 1, Column 3 |</span>
      <span id="cb27-25"><a href="#cb27-25" aria-hidden="true"></a>| Row 2, Column 1 | Row 2, Column 2 | Row 2, Column 3 |</span></code></pre></div>
      <!-- cSpell:enable -->
      <h4 id="javadoc">7.7.2. Javadoc<!-- OK --></h4>
      <p>Javadoc est un outil développé par Oracle, permettant de <strong>créer une documentation d’API en format HTML</strong> depuis les commentaires présents dans un code source en Java. C’est le standard industriel pour la documentation des classes Java.</p>
      <p>La plupart des <strong>IDE aident à la génération</strong> et au formatage des blocs de commentaires Javadoc. Ces commentaires permettent également aux IDE modernes d’apporter à l’utilisateur des <strong>informations contextuelles</strong> (definition de classe, de méthode, paramètres d’entrée et valeur de retour attendue).</p>
      <h4 id="plantuml-1">7.7.3. PlantUML<!-- OK --></h4>
      <p>PlantUML est un <strong>outil libre</strong> permettant de <strong>créer des diagrammes UML à partir de fichier texte</strong>.</p>
      <p>Du fait du format texte des fichiers utilisés par PlantUML, cet outil <strong>s’intègre parfaitement dans un pipeline</strong> d’intégration et de déploiement.</p>
      <p>Il est par exemple possible de <strong>générer automatiquement des UML</strong> de Modèle Physique de Données (MPD), afin d’avoir une représentation actualisée d’une base de données, ou bien de créer dynamiquement des diagrammes de classes à partir du code source.</p>
      <p>La majorité des diagrammes ont été réalisés grâce à cet outil. Pour un exemple veuillez vous référer son utilisation en maquettage. (Cf. <a href="#752-plantuml">PlantUML</a>)</p>
      <div style="page-break-after: always;">

      </div>
      <h2 id="réalisations">8. Réalisations<!-- OK --></h2>
      <ul>
      <li>Description des features réalisées</li>
      <li>Description des fonctions implémentées</li>
      <li>Description des actions réalisées sur la BDD</li>
      <li>Description des tests unitaires/EtE (EndtoEnd)</li>
      </ul>
      <h3 id="description-des-features-réalisées">8.1. Description des features réalisées<!-- OK --></h3>
      <h4 id="authentification-et-inscription">8.1.1. Authentification et inscription<!-- OK --></h4>
      <p><strong>Description :</strong> Cette feature permettra aux utilisateurs de s’authentifier et de s’inscrire sur le site de manière efficace. Ils pourront créer un compte, se connecter avec un nom d’utilisateur et un mot de passe, et réinitialiser leur mot de passe en cas d’oubli.</p>
      <p><strong>Stories associées :</strong></p>
      <ul>
      <li>Story 1 : Ajout de la fonctionnalité d’inscription</li>
      <li>Story 2 : Ajout de la fonctionnalité de connexion</li>
      <li>Story 3 : Ajout de la fonctionnalité de réinitialisation de mot de passe</li>
      <li>Story 4 : Ajout de la fonctionnalité de déconnexion</li>
      <li>Story 5 : Test de la fonctionnalité d’authentification et d’inscription</li>
      </ul>
      <p><strong>État :</strong> En cours</p>
      <h4 id="gestion-des-catégories">8.1.2. Gestion des catégories<!-- OK --></h4>
      <p><strong>Description :</strong> Cette feature permettra aux utilisateurs de gérer les catégories de produits de manière efficace. Ils pourront créer, éditer et supprimer des catégories de produits, ainsi que leur rajouter des produits spécifiques.</p>
      <p><strong>Stories associées :</strong></p>
      <ul>
      <li>Story 1 : Ajout de la fonctionnalité de création de catégories</li>
      <li>Story 2 : Ajout de la fonctionnalité d’édition des catégories</li>
      <li>Story 3 : Ajout de la fonctionnalité de suppression des catégories</li>
      <li>Story 4 : Test de la fonctionnalité de gestion des catégories de produits</li>
      </ul>
      <p><strong>État :</strong> En cours</p>
      <h4 id="gestion-des-produits">8.1.3. Gestion des produits<!-- OK --></h4>
      <p><strong>Description :</strong> Cette feature permettra aux utilisateurs de gérer les produits de manière efficace. Ils pourront créer, éditer et supprimer des produits, ainsi que les assigner à une catégorie.</p>
      <p><strong>Stories associées :</strong></p>
      <ul>
      <li>Story 1 : Ajout de la fonctionnalité de création de produits</li>
      <li>Story 2 : Ajout de la fonctionnalité d’édition des produits</li>
      <li>Story 3 : Ajout de la fonctionnalité de suppression des produits</li>
      <li>Story 4 : Ajout de la fonctionnalité de recherche d’un produit ou d’une liste de produits</li>
      <li>Story 5 : Test de la fonctionnalité de gestion des produits</li>
      </ul>
      <p><strong>État :</strong> En cours</p>
      <h3 id="description-des-fonctions-implémentées">8.2. Description des fonctions implémentées<!-- OK --></h3>
      <h4 id="supprimer-une-catégorie">8.2.1. Supprimer une catégorie<!-- OK --></h4>
      <p>La méthode <code>doGet()</code> du servlet <code>CategoryDelete.java</code> récupère l’identifiant de la catégorie à supprimer à partir de la requête HTTP (à travers le paramètre “categoryId”) et utilise la méthode <code>delete()</code> de l’objet <code>CategoryDAO</code> pour <strong>supprimer cette catégorie</strong> de la base de données.</p>
      <h4 id="modifier-un-produit-1">8.2.2. Modifier un produit<!-- OK --></h4>
      <p>La méthode <code>doPost()</code> du servlet <code>ProductEdit.java</code> commence par récupérer l’utilisateur connecté à partir de la session.</p>
      <p>Elle utilise les paramètres de la requête pour récupérer l’Id du produit et de la catégorie associée, les méthode <code>getCategoryById()</code> de l’objet <code>CategoryDAO</code> pour récupérer la catégorie, la méthode <code>getProductById()</code> de l’objet <code>ProductDAO</code> pour récupérer le produit de la base de données.</p>
      <p>Puis la méthode <strong>modifie les données en base</strong> avec les informations correspondantes.</p>
      <h4 id="authentification-1">8.2.3. Authentification<!-- OK --></h4>
      <p>La méthode <code>doPost()</code> du servlet <code>Login.java</code> utilise l’objet <code>User</code> pour stocker les données d’un utilisateur et le <code>UserDAO</code> pour accéder aux données utilisateurs stockées dans la base de données.</p>
      <p>La méthode <strong>“sha512Hex”</strong> de la bibliothèque Apache Commons Codec est utilisée pour encrypter le mot de passe de l’utilisateur avant de l’envoyer en base de données.</p>
      <h3 id="description-des-actions-réalisées-sur-la-bdd">8.3. Description des actions réalisées sur la BDD<!-- OK --></h3>
      <h4 id="create">8.3.1. Create<!-- OK --></h4>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb28"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true"></a></span>
      <span id="cb28-2"><a href="#cb28-2" aria-hidden="true"></a><span class="co">/**</span></span>
      <span id="cb28-3"><a href="#cb28-3" aria-hidden="true"></a>   <span class="co">*</span> Add category<span class="co">.</span></span>
      <span id="cb28-4"><a href="#cb28-4" aria-hidden="true"></a>   <span class="co">*</span> </span>
      <span id="cb28-5"><a href="#cb28-5" aria-hidden="true"></a>   <span class="co">*</span> <span class="an">@param category</span></span>
      <span id="cb28-6"><a href="#cb28-6" aria-hidden="true"></a>   <span class="co">*</span> <span class="an">@return </span>Number of affected rows</span>
      <span id="cb28-7"><a href="#cb28-7" aria-hidden="true"></a>   <span class="co">*</span> <span class="an">@throws SQLException</span></span>
      <span id="cb28-8"><a href="#cb28-8" aria-hidden="true"></a>   <span class="co">*/</span></span>
      <span id="cb28-9"><a href="#cb28-9" aria-hidden="true"></a>  <span class="kw">public</span> <span class="bu">Integer</span> <span class="fu">add</span>(Category category)</span>
      <span id="cb28-10"><a href="#cb28-10" aria-hidden="true"></a>      <span class="kw">throws</span> <span class="bu">SQLException</span> {</span>
      <span id="cb28-11"><a href="#cb28-11" aria-hidden="true"></a>    <span class="bu">String</span> sql = <span class="st">&quot;INSERT INTO `category`&quot;</span></span>
      <span id="cb28-12"><a href="#cb28-12" aria-hidden="true"></a>        + <span class="st">&quot; (`user_id`,`name`,`description`)&quot;</span></span>
      <span id="cb28-13"><a href="#cb28-13" aria-hidden="true"></a>        + <span class="st">&quot; VALUES (?,?,?)&quot;</span></span>
      <span id="cb28-14"><a href="#cb28-14" aria-hidden="true"></a>        + <span class="st">&quot; RETURNING id;&quot;</span>;</span>
      <span id="cb28-15"><a href="#cb28-15" aria-hidden="true"></a>    <span class="bu">PreparedStatement</span> ps = conn.<span class="fu">prepareStatement</span>(sql);</span>
      <span id="cb28-16"><a href="#cb28-16" aria-hidden="true"></a>    ps.<span class="fu">setInt</span>(<span class="dv">1</span>, category.<span class="fu">getUser_id</span>());</span>
      <span id="cb28-17"><a href="#cb28-17" aria-hidden="true"></a>    ps.<span class="fu">setString</span>(<span class="dv">2</span>, category.<span class="fu">getName</span>());</span>
      <span id="cb28-18"><a href="#cb28-18" aria-hidden="true"></a>    ps.<span class="fu">setString</span>(<span class="dv">3</span>, category.<span class="fu">getDescription</span>());</span>
      <span id="cb28-19"><a href="#cb28-19" aria-hidden="true"></a>    <span class="bu">Integer</span> result = ps.<span class="fu">executeUpdate</span>();</span>
      <span id="cb28-20"><a href="#cb28-20" aria-hidden="true"></a></span>
      <span id="cb28-21"><a href="#cb28-21" aria-hidden="true"></a>    <span class="kw">return</span> result;</span>
      <span id="cb28-22"><a href="#cb28-22" aria-hidden="true"></a>  }</span></code></pre></div>
      <!-- cSpell:enable -->
      <p>Ce code définit une méthode appelée “add” qui prend en entrée un objet de type Catégorie et <strong>ajoute une nouvelle catégorie</strong> dans la base de données.</p>
      <p>La méthode utilise une requête SQL pour insérer les informations de la catégorie dans la table “category” de la base de données en utilisant les informations de l’objet catégorie en entrée. Elle utilise la fonction executeUpdate() pour executer cette insertion. La méthode retourne le nombre de lignes affectées par l’insertion. La requête SQL utilise RETURNING id; pour retourner l’id de la nouvelle catégorie créée.</p>
      <h4 id="read">8.3.2. Read<!-- OK --></h4>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb29"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true"></a></span>
      <span id="cb29-2"><a href="#cb29-2" aria-hidden="true"></a>  <span class="co">/**</span></span>
      <span id="cb29-3"><a href="#cb29-3" aria-hidden="true"></a>   <span class="co">*</span> Given user credentials<span class="co">,</span> returns the corresponding User object<span class="co">,</span> or null<span class="co">.</span></span>
      <span id="cb29-4"><a href="#cb29-4" aria-hidden="true"></a>   <span class="co">*</span> </span>
      <span id="cb29-5"><a href="#cb29-5" aria-hidden="true"></a>   <span class="co">*</span> <span class="an">@param login </span>   String containing the user login <span class="co">(</span>email<span class="co">)</span></span>
      <span id="cb29-6"><a href="#cb29-6" aria-hidden="true"></a>   <span class="co">*</span> <span class="an">@param password </span>String containing the user password</span>
      <span id="cb29-7"><a href="#cb29-7" aria-hidden="true"></a>   <span class="co">*</span> <span class="an">@return </span>the corresponding User object<span class="co">,</span> or null</span>
      <span id="cb29-8"><a href="#cb29-8" aria-hidden="true"></a>   <span class="co">*/</span></span>
      <span id="cb29-9"><a href="#cb29-9" aria-hidden="true"></a>  <span class="kw">public</span> User <span class="fu">getUserByCredentials</span>(<span class="bu">String</span> login, <span class="bu">String</span> password)</span>
      <span id="cb29-10"><a href="#cb29-10" aria-hidden="true"></a>      <span class="kw">throws</span> <span class="bu">SQLException</span> {</span>
      <span id="cb29-11"><a href="#cb29-11" aria-hidden="true"></a>    <span class="bu">String</span> sql = <span class="st">&quot;SELECT `user`.*,`role`.`name` AS `role` &quot;</span></span>
      <span id="cb29-12"><a href="#cb29-12" aria-hidden="true"></a>        + <span class="st">&quot;FROM `user_role` &quot;</span></span>
      <span id="cb29-13"><a href="#cb29-13" aria-hidden="true"></a>        + <span class="st">&quot;INNER JOIN `role` ON `user_role`.`role_id` = `role`.`id` &quot;</span> <span class="co">// Join `role`</span></span>
      <span id="cb29-14"><a href="#cb29-14" aria-hidden="true"></a>        + <span class="st">&quot;LEFT JOIN `user` ON `user`.`id` = `user_role`.`user_id` &quot;</span> <span class="co">// Join `user`</span></span>
      <span id="cb29-15"><a href="#cb29-15" aria-hidden="true"></a>        + <span class="st">&quot;WHERE `user`.`email` = ? AND `user`.`password` = ?&quot;</span>;</span>
      <span id="cb29-16"><a href="#cb29-16" aria-hidden="true"></a>    <span class="bu">PreparedStatement</span> ps = conn.<span class="fu">prepareStatement</span>(sql);</span>
      <span id="cb29-17"><a href="#cb29-17" aria-hidden="true"></a>    ps.<span class="fu">setString</span>(<span class="dv">1</span>, login); <span class="co">// login = email</span></span>
      <span id="cb29-18"><a href="#cb29-18" aria-hidden="true"></a>    ps.<span class="fu">setString</span>(<span class="dv">2</span>, DigestUtils.<span class="fu">sha512Hex</span>(password)); <span class="co">// Hash password</span></span>
      <span id="cb29-19"><a href="#cb29-19" aria-hidden="true"></a>    User result = <span class="kw">new</span> <span class="fu">User</span>();</span>
      <span id="cb29-20"><a href="#cb29-20" aria-hidden="true"></a>    <span class="bu">List</span>&lt;<span class="bu">String</span>&gt; roleList = <span class="kw">new</span> <span class="bu">ArrayList</span>&lt;&gt;();</span>
      <span id="cb29-21"><a href="#cb29-21" aria-hidden="true"></a>    <span class="bu">ResultSet</span> rs = ps.<span class="fu">executeQuery</span>();</span>
      <span id="cb29-22"><a href="#cb29-22" aria-hidden="true"></a>    <span class="dt">boolean</span> check = <span class="kw">false</span>;</span>
      <span id="cb29-23"><a href="#cb29-23" aria-hidden="true"></a>    <span class="kw">while</span> (rs.<span class="fu">next</span>()) {</span>
      <span id="cb29-24"><a href="#cb29-24" aria-hidden="true"></a>      <span class="kw">if</span> (!check) {</span>
      <span id="cb29-25"><a href="#cb29-25" aria-hidden="true"></a>        result.<span class="fu">setId</span>(rs.<span class="fu">getInt</span>(<span class="st">&quot;id&quot;</span>));</span>
      <span id="cb29-26"><a href="#cb29-26" aria-hidden="true"></a>        result.<span class="fu">setEmail</span>(rs.<span class="fu">getString</span>(<span class="st">&quot;email&quot;</span>));</span>
      <span id="cb29-27"><a href="#cb29-27" aria-hidden="true"></a>        result.<span class="fu">setPassword</span>(rs.<span class="fu">getString</span>(<span class="st">&quot;password&quot;</span>));</span>
      <span id="cb29-28"><a href="#cb29-28" aria-hidden="true"></a>        result.<span class="fu">setTitle</span>(rs.<span class="fu">getString</span>(<span class="st">&quot;title&quot;</span>));</span>
      <span id="cb29-29"><a href="#cb29-29" aria-hidden="true"></a>        result.<span class="fu">setFirstName</span>(rs.<span class="fu">getString</span>(<span class="st">&quot;firstName&quot;</span>));</span>
      <span id="cb29-30"><a href="#cb29-30" aria-hidden="true"></a>        result.<span class="fu">setLastName</span>(rs.<span class="fu">getString</span>(<span class="st">&quot;lastName&quot;</span>));</span>
      <span id="cb29-31"><a href="#cb29-31" aria-hidden="true"></a>        result.<span class="fu">setCompany</span>(rs.<span class="fu">getString</span>(<span class="st">&quot;company&quot;</span>));</span>
      <span id="cb29-32"><a href="#cb29-32" aria-hidden="true"></a>        result.<span class="fu">setAddress</span>(rs.<span class="fu">getString</span>(<span class="st">&quot;address&quot;</span>));</span>
      <span id="cb29-33"><a href="#cb29-33" aria-hidden="true"></a>        result.<span class="fu">setCity</span>(rs.<span class="fu">getString</span>(<span class="st">&quot;city&quot;</span>));</span>
      <span id="cb29-34"><a href="#cb29-34" aria-hidden="true"></a>        result.<span class="fu">setPostalCode</span>(rs.<span class="fu">getString</span>(<span class="st">&quot;postalCode&quot;</span>));</span>
      <span id="cb29-35"><a href="#cb29-35" aria-hidden="true"></a>        result.<span class="fu">setCountry</span>(rs.<span class="fu">getString</span>(<span class="st">&quot;country&quot;</span>));</span>
      <span id="cb29-36"><a href="#cb29-36" aria-hidden="true"></a>        result.<span class="fu">setPhone</span>(rs.<span class="fu">getString</span>(<span class="st">&quot;phone&quot;</span>));</span>
      <span id="cb29-37"><a href="#cb29-37" aria-hidden="true"></a>        result.<span class="fu">setValid</span>(rs.<span class="fu">getBoolean</span>(<span class="st">&quot;valid&quot;</span>));</span>
      <span id="cb29-38"><a href="#cb29-38" aria-hidden="true"></a>        result.<span class="fu">setValidationUid</span>(rs.<span class="fu">getString</span>(<span class="st">&quot;validationUid&quot;</span>));</span>
      <span id="cb29-39"><a href="#cb29-39" aria-hidden="true"></a>        result.<span class="fu">setCreateTime</span>(rs.<span class="fu">getString</span>(<span class="st">&quot;createTime&quot;</span>));</span>
      <span id="cb29-40"><a href="#cb29-40" aria-hidden="true"></a>        result.<span class="fu">setUpdateTime</span>(rs.<span class="fu">getString</span>(<span class="st">&quot;updateTime&quot;</span>));</span>
      <span id="cb29-41"><a href="#cb29-41" aria-hidden="true"></a>      }</span>
      <span id="cb29-42"><a href="#cb29-42" aria-hidden="true"></a>      check = <span class="kw">true</span>;</span>
      <span id="cb29-43"><a href="#cb29-43" aria-hidden="true"></a>      roleList.<span class="fu">add</span>(rs.<span class="fu">getString</span>(<span class="st">&quot;role&quot;</span>));</span>
      <span id="cb29-44"><a href="#cb29-44" aria-hidden="true"></a>    }</span>
      <span id="cb29-45"><a href="#cb29-45" aria-hidden="true"></a>    <span class="kw">if</span> (check) {</span>
      <span id="cb29-46"><a href="#cb29-46" aria-hidden="true"></a>      result.<span class="fu">setRoleList</span>(roleList);</span>
      <span id="cb29-47"><a href="#cb29-47" aria-hidden="true"></a>      <span class="kw">return</span> result;</span>
      <span id="cb29-48"><a href="#cb29-48" aria-hidden="true"></a>    } <span class="kw">else</span></span>
      <span id="cb29-49"><a href="#cb29-49" aria-hidden="true"></a>      <span class="kw">return</span> <span class="kw">null</span>;</span>
      <span id="cb29-50"><a href="#cb29-50" aria-hidden="true"></a>  }</span></code></pre></div>
      <!-- cSpell:enable -->
      <p>Ce code définit une méthode appelée “getUserByCredentials” qui prend en entrée les identifiants d’un utilisateur (login et mot de passe) et <strong>retourne l’objet utilisateur correspondant, ou null</strong> s’il n’est pas trouvé.</p>
      <p>La méthode utilise une requête SQL pour sélectionner les informations de l’utilisateur à partir de la base de données, en utilisant les identifiants fournis en entrée pour filtrer les résultats. Elle utilise également une jointure pour récupérer les rôles de l’utilisateur. Si un utilisateur est trouvé, l’objet utilisateur est créé et rempli avec les informations récupérées à partir de la base de données, sinon la méthode retourne null.</p>
      <h4 id="update">8.3.3. Update<!-- OK --></h4>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb30"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true"></a></span>
      <span id="cb30-2"><a href="#cb30-2" aria-hidden="true"></a>  <span class="co">/**</span> Update product<span class="co">.</span></span>
      <span id="cb30-3"><a href="#cb30-3" aria-hidden="true"></a>   <span class="co">*</span></span>
      <span id="cb30-4"><a href="#cb30-4" aria-hidden="true"></a>   <span class="co">*</span> <span class="an">@param product </span>a Product type object</span>
      <span id="cb30-5"><a href="#cb30-5" aria-hidden="true"></a>   <span class="co">*</span> <span class="an">@return </span>Number of affected rows</span>
      <span id="cb30-6"><a href="#cb30-6" aria-hidden="true"></a>   <span class="co">*</span> <span class="an">@throws SQLException</span></span>
      <span id="cb30-7"><a href="#cb30-7" aria-hidden="true"></a>   <span class="co">*/</span></span>
      <span id="cb30-8"><a href="#cb30-8" aria-hidden="true"></a>  <span class="kw">public</span> <span class="bu">Integer</span> <span class="fu">update</span>(Product product)</span>
      <span id="cb30-9"><a href="#cb30-9" aria-hidden="true"></a>      <span class="kw">throws</span> <span class="bu">SQLException</span> {</span>
      <span id="cb30-10"><a href="#cb30-10" aria-hidden="true"></a>    <span class="bu">String</span> sql = <span class="st">&quot;UPDATE `product` SET &quot;</span></span>
      <span id="cb30-11"><a href="#cb30-11" aria-hidden="true"></a>        + <span class="st">&quot;`user_id`=?,&quot;</span></span>
      <span id="cb30-12"><a href="#cb30-12" aria-hidden="true"></a>        + <span class="st">&quot;`category_id`=?,&quot;</span></span>
      <span id="cb30-13"><a href="#cb30-13" aria-hidden="true"></a>        + <span class="st">&quot;`name`=?,&quot;</span></span>
      <span id="cb30-14"><a href="#cb30-14" aria-hidden="true"></a>        + <span class="st">&quot;`description`=?,&quot;</span></span>
      <span id="cb30-15"><a href="#cb30-15" aria-hidden="true"></a>        + <span class="st">&quot;`reference`=?,&quot;</span></span>
      <span id="cb30-16"><a href="#cb30-16" aria-hidden="true"></a>        + <span class="st">&quot;`price`=?,&quot;</span></span>
      <span id="cb30-17"><a href="#cb30-17" aria-hidden="true"></a>        + <span class="st">&quot;`quantity`=?,&quot;</span></span>
      <span id="cb30-18"><a href="#cb30-18" aria-hidden="true"></a>        + <span class="st">&quot;`updateTime`=?&quot;</span></span>
      <span id="cb30-19"><a href="#cb30-19" aria-hidden="true"></a>        + <span class="st">&quot;WHERE `product`.`id` = ?&quot;</span>;</span>
      <span id="cb30-20"><a href="#cb30-20" aria-hidden="true"></a>    <span class="bu">String</span> dateTime = LocalDateTime.<span class="fu">now</span>()<span class="fu">.format</span>(dateTimeFormatter);</span>
      <span id="cb30-21"><a href="#cb30-21" aria-hidden="true"></a>    <span class="bu">PreparedStatement</span> ps = conn.<span class="fu">prepareStatement</span>(sql);</span>
      <span id="cb30-22"><a href="#cb30-22" aria-hidden="true"></a>    ps.<span class="fu">setInt</span>(<span class="dv">1</span>, product.<span class="fu">getUser_id</span>());</span>
      <span id="cb30-23"><a href="#cb30-23" aria-hidden="true"></a>    ps.<span class="fu">setInt</span>(<span class="dv">2</span>, product.<span class="fu">getCategory_id</span>());</span>
      <span id="cb30-24"><a href="#cb30-24" aria-hidden="true"></a>    ps.<span class="fu">setString</span>(<span class="dv">3</span>, product.<span class="fu">getName</span>());</span>
      <span id="cb30-25"><a href="#cb30-25" aria-hidden="true"></a>    ps.<span class="fu">setString</span>(<span class="dv">4</span>, product.<span class="fu">getDescription</span>());</span>
      <span id="cb30-26"><a href="#cb30-26" aria-hidden="true"></a>    ps.<span class="fu">setString</span>(<span class="dv">5</span>, product.<span class="fu">getReference</span>());</span>
      <span id="cb30-27"><a href="#cb30-27" aria-hidden="true"></a>    ps.<span class="fu">setFloat</span>(<span class="dv">6</span>, product.<span class="fu">getPrice</span>());</span>
      <span id="cb30-28"><a href="#cb30-28" aria-hidden="true"></a>    ps.<span class="fu">setInt</span>(<span class="dv">7</span>, product.<span class="fu">getQuantity</span>());</span>
      <span id="cb30-29"><a href="#cb30-29" aria-hidden="true"></a>    ps.<span class="fu">setString</span>(<span class="dv">8</span>, dateTime);</span>
      <span id="cb30-30"><a href="#cb30-30" aria-hidden="true"></a>    ps.<span class="fu">setInt</span>(<span class="dv">9</span>, product.<span class="fu">getId</span>());</span>
      <span id="cb30-31"><a href="#cb30-31" aria-hidden="true"></a>    <span class="bu">Integer</span> result = ps.<span class="fu">executeUpdate</span>();</span>
      <span id="cb30-32"><a href="#cb30-32" aria-hidden="true"></a>    <span class="kw">return</span> result;</span>
      <span id="cb30-33"><a href="#cb30-33" aria-hidden="true"></a>  }</span></code></pre></div>
      <!-- cSpell:enable -->
      <p>Ce code définit une méthode appelée “update” qui prend en entrée un objet de type Produit et <strong>met à jour les informations de ce produit</strong> dans la base de données.</p>
      <p>La méthode utilise une requête SQL pour mettre à jour les informations du produit dans la table “product” de la base de données en utilisant les informations de l’objet produit en entrée. La méthode retourne le nombre de lignes affectées par la mise à jour.</p>
      <h4 id="delete">8.3.4. Delete<!-- OK --></h4>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb31"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true"></a></span>
      <span id="cb31-2"><a href="#cb31-2" aria-hidden="true"></a>  <span class="co">/**</span></span>
      <span id="cb31-3"><a href="#cb31-3" aria-hidden="true"></a>   <span class="co">*</span> Delete product by id<span class="co">.</span></span>
      <span id="cb31-4"><a href="#cb31-4" aria-hidden="true"></a>   <span class="co">*</span> </span>
      <span id="cb31-5"><a href="#cb31-5" aria-hidden="true"></a>   <span class="co">*</span> <span class="an">@param id</span></span>
      <span id="cb31-6"><a href="#cb31-6" aria-hidden="true"></a>   <span class="co">*</span> <span class="an">@return </span>Number of affected rows</span>
      <span id="cb31-7"><a href="#cb31-7" aria-hidden="true"></a>   <span class="co">*</span> <span class="an">@throws SQLException</span></span>
      <span id="cb31-8"><a href="#cb31-8" aria-hidden="true"></a>   <span class="co">*/</span></span>
      <span id="cb31-9"><a href="#cb31-9" aria-hidden="true"></a>  <span class="kw">public</span> <span class="bu">Integer</span> <span class="fu">delete</span>(<span class="bu">Integer</span> id)</span>
      <span id="cb31-10"><a href="#cb31-10" aria-hidden="true"></a>      <span class="kw">throws</span> <span class="bu">SQLException</span> {</span>
      <span id="cb31-11"><a href="#cb31-11" aria-hidden="true"></a>    <span class="bu">String</span> sql = <span class="st">&quot;DELETE FROM `product` WHERE `product`.`id`=?&quot;</span>;</span>
      <span id="cb31-12"><a href="#cb31-12" aria-hidden="true"></a>    <span class="bu">PreparedStatement</span> ps = conn.<span class="fu">prepareStatement</span>(sql);</span>
      <span id="cb31-13"><a href="#cb31-13" aria-hidden="true"></a>    ps.<span class="fu">setInt</span>(<span class="dv">1</span>, id);</span>
      <span id="cb31-14"><a href="#cb31-14" aria-hidden="true"></a>    <span class="bu">Integer</span> result = ps.<span class="fu">executeUpdate</span>();</span>
      <span id="cb31-15"><a href="#cb31-15" aria-hidden="true"></a>    <span class="kw">return</span> result;</span>
      <span id="cb31-16"><a href="#cb31-16" aria-hidden="true"></a>  }</span></code></pre></div>
      <!-- cSpell:enable -->
      <p>Ce code définit une méthode appelée “delete” qui prend en entrée un identifiant (id) et <strong>supprime le produit correspondant</strong> dans la base de données.</p>
      <p>La méthode utilise une requête SQL pour supprimer le produit de la table “product” de la base de données en utilisant l’identifiant fourni en entrée pour filtrer les résultats. Elle utilise la fonction executeUpdate() pour executer cette suppression. La méthode retourne le nombre de lignes affectées par la suppression.</p>
      <h3 id="description-des-tests-unitaireseteendtoend">8.4. Description des tests unitaires/EtE(EndtoEnd)<!-- OK --></h3>
      <h4 id="test-unitaires">8.4.1. Test Unitaires<!-- OK --></h4>
      <p>L’ensemble de l’automatisation du projet est <strong>orchestrée par Gradle</strong>. L’une de ses tâches est la vérification du bon fonctionnement des différentes fonctions et propriétés des classes.</p>
      <p>Pour ce faire, Gradle utilise la librairie <code>Junit</code> et une <strong>bibliothèque de classe de test</strong>. Ces classes de test utilisent des <strong>assertions</strong> pour vérifier que les valeurs attendues sont retournées lorsque les méthodes de la classe sont appelées, s’assurant que la <strong>classe fonctionne comme prévu</strong>.</p>
      <p>Ce code est un extrait de tests unitaires pour la classe <code>ProductTest.java</code> de l’application :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb32"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true"></a></span>
      <span id="cb32-2"><a href="#cb32-2" aria-hidden="true"></a><span class="kw">package</span><span class="im"> junit;</span></span>
      <span id="cb32-3"><a href="#cb32-3" aria-hidden="true"></a></span>
      <span id="cb32-4"><a href="#cb32-4" aria-hidden="true"></a><span class="kw">import static</span><span class="im"> org.junit.jupiter.api.Assertions.assertEquals;</span></span>
      <span id="cb32-5"><a href="#cb32-5" aria-hidden="true"></a><span class="kw">import static</span><span class="im"> org.junit.jupiter.api.Assertions.assertNotSame;</span></span>
      <span id="cb32-6"><a href="#cb32-6" aria-hidden="true"></a><span class="kw">import static</span><span class="im"> org.junit.jupiter.api.Assertions.assertTrue;</span></span>
      <span id="cb32-7"><a href="#cb32-7" aria-hidden="true"></a></span>
      <span id="cb32-8"><a href="#cb32-8" aria-hidden="true"></a><span class="kw">import</span><span class="im"> org.junit.jupiter.api.Test;</span></span>
      <span id="cb32-9"><a href="#cb32-9" aria-hidden="true"></a></span>
      <span id="cb32-10"><a href="#cb32-10" aria-hidden="true"></a><span class="kw">import</span><span class="im"> app.model.Product;</span></span>
      <span id="cb32-11"><a href="#cb32-11" aria-hidden="true"></a></span>
      <span id="cb32-12"><a href="#cb32-12" aria-hidden="true"></a><span class="kw">public</span> <span class="kw">class</span> ProductTest {</span>
      <span id="cb32-13"><a href="#cb32-13" aria-hidden="true"></a>    <span class="at">@Test</span></span>
      <span id="cb32-14"><a href="#cb32-14" aria-hidden="true"></a>    <span class="dt">void</span> <span class="fu">testCategory_id</span>() {</span>
      <span id="cb32-15"><a href="#cb32-15" aria-hidden="true"></a>        <span class="dt">int</span> id = <span class="dv">1</span>;</span>
      <span id="cb32-16"><a href="#cb32-16" aria-hidden="true"></a>        <span class="fu">assertEquals</span>(<span class="dv">1</span>, id);</span>
      <span id="cb32-17"><a href="#cb32-17" aria-hidden="true"></a>    }</span>
      <span id="cb32-18"><a href="#cb32-18" aria-hidden="true"></a></span>
      <span id="cb32-19"><a href="#cb32-19" aria-hidden="true"></a>    <span class="at">@Test</span></span>
      <span id="cb32-20"><a href="#cb32-20" aria-hidden="true"></a>    <span class="dt">void</span> <span class="fu">testCreateTime</span>() {</span>
      <span id="cb32-21"><a href="#cb32-21" aria-hidden="true"></a>        <span class="bu">String</span> createTime = <span class="st">&quot;createTime&quot;</span>;</span>
      <span id="cb32-22"><a href="#cb32-22" aria-hidden="true"></a>        <span class="fu">assertEquals</span>(<span class="st">&quot;createTime&quot;</span>, createTime);</span>
      <span id="cb32-23"><a href="#cb32-23" aria-hidden="true"></a>    }</span>
      <span id="cb32-24"><a href="#cb32-24" aria-hidden="true"></a></span>
      <span id="cb32-25"><a href="#cb32-25" aria-hidden="true"></a>    <span class="at">@Test</span></span>
      <span id="cb32-26"><a href="#cb32-26" aria-hidden="true"></a>    <span class="dt">void</span> <span class="fu">testDescription</span>() {</span>
      <span id="cb32-27"><a href="#cb32-27" aria-hidden="true"></a>        <span class="bu">String</span> description = <span class="st">&quot;description&quot;</span>;</span>
      <span id="cb32-28"><a href="#cb32-28" aria-hidden="true"></a>        <span class="fu">assertEquals</span>(<span class="st">&quot;description&quot;</span>, description);</span>
      <span id="cb32-29"><a href="#cb32-29" aria-hidden="true"></a>    }</span>
      <span id="cb32-30"><a href="#cb32-30" aria-hidden="true"></a></span>
      <span id="cb32-31"><a href="#cb32-31" aria-hidden="true"></a>    <span class="at">@Test</span></span>
      <span id="cb32-32"><a href="#cb32-32" aria-hidden="true"></a>    <span class="dt">void</span> <span class="fu">testEquals</span>() {</span>
      <span id="cb32-33"><a href="#cb32-33" aria-hidden="true"></a>        Product pr1 = <span class="kw">new</span> <span class="fu">Product</span>();</span>
      <span id="cb32-34"><a href="#cb32-34" aria-hidden="true"></a>        Product pr2 = <span class="kw">new</span> <span class="fu">Product</span>();</span>
      <span id="cb32-35"><a href="#cb32-35" aria-hidden="true"></a>        <span class="fu">assertTrue</span>(pr1.<span class="fu">equals</span>(pr2));</span>
      <span id="cb32-36"><a href="#cb32-36" aria-hidden="true"></a>    }</span>
      <span id="cb32-37"><a href="#cb32-37" aria-hidden="true"></a></span>
      <span id="cb32-38"><a href="#cb32-38" aria-hidden="true"></a>    <span class="at">@Test</span></span>
      <span id="cb32-39"><a href="#cb32-39" aria-hidden="true"></a>    <span class="dt">void</span> <span class="fu">testGetCategory_id</span>() {</span>
      <span id="cb32-40"><a href="#cb32-40" aria-hidden="true"></a>        Product pr1 = <span class="kw">new</span> <span class="fu">Product</span>();</span>
      <span id="cb32-41"><a href="#cb32-41" aria-hidden="true"></a>        <span class="dt">int</span> id = <span class="dv">1</span>;</span>
      <span id="cb32-42"><a href="#cb32-42" aria-hidden="true"></a>        pr1.<span class="fu">setCategory_id</span>(id);</span>
      <span id="cb32-43"><a href="#cb32-43" aria-hidden="true"></a>        <span class="fu">assertEquals</span>(<span class="dv">1</span>, pr1.<span class="fu">getCategory_id</span>());</span>
      <span id="cb32-44"><a href="#cb32-44" aria-hidden="true"></a>    }</span>
      <span id="cb32-45"><a href="#cb32-45" aria-hidden="true"></a></span>
      <span id="cb32-46"><a href="#cb32-46" aria-hidden="true"></a>...</span>
      <span id="cb32-47"><a href="#cb32-47" aria-hidden="true"></a></span>
      <span id="cb32-48"><a href="#cb32-48" aria-hidden="true"></a>    <span class="at">@Test</span></span>
      <span id="cb32-49"><a href="#cb32-49" aria-hidden="true"></a>    <span class="dt">void</span> <span class="fu">testSetPrice</span>() {</span>
      <span id="cb32-50"><a href="#cb32-50" aria-hidden="true"></a>        <span class="bu">Float</span> price = <span class="fl">789.99f</span>;</span>
      <span id="cb32-51"><a href="#cb32-51" aria-hidden="true"></a>        Product pr = <span class="kw">new</span> <span class="fu">Product</span>();</span>
      <span id="cb32-52"><a href="#cb32-52" aria-hidden="true"></a>        pr.<span class="fu">setPrice</span>(price);</span>
      <span id="cb32-53"><a href="#cb32-53" aria-hidden="true"></a>        <span class="fu">assertEquals</span>(<span class="fl">789.</span><span class="dv">99</span>, pr.<span class="fu">getPrice</span>(), <span class="fl">0.</span><span class="bn">0001</span>);</span>
      <span id="cb32-54"><a href="#cb32-54" aria-hidden="true"></a>    }</span>
      <span id="cb32-55"><a href="#cb32-55" aria-hidden="true"></a></span>
      <span id="cb32-56"><a href="#cb32-56" aria-hidden="true"></a>    <span class="at">@Test</span></span>
      <span id="cb32-57"><a href="#cb32-57" aria-hidden="true"></a>    <span class="dt">void</span> <span class="fu">testSetQuantity</span>() {</span>
      <span id="cb32-58"><a href="#cb32-58" aria-hidden="true"></a>        <span class="dt">int</span> quantity = <span class="dv">1</span>;</span>
      <span id="cb32-59"><a href="#cb32-59" aria-hidden="true"></a>        Product pr = <span class="kw">new</span> <span class="fu">Product</span>();</span>
      <span id="cb32-60"><a href="#cb32-60" aria-hidden="true"></a>        pr.<span class="fu">setQuantity</span>(quantity);</span>
      <span id="cb32-61"><a href="#cb32-61" aria-hidden="true"></a>        <span class="fu">assertEquals</span>(<span class="dv">1</span>, pr.<span class="fu">getQuantity</span>());</span>
      <span id="cb32-62"><a href="#cb32-62" aria-hidden="true"></a></span>
      <span id="cb32-63"><a href="#cb32-63" aria-hidden="true"></a>    }</span>
      <span id="cb32-64"><a href="#cb32-64" aria-hidden="true"></a></span>
      <span id="cb32-65"><a href="#cb32-65" aria-hidden="true"></a>    <span class="at">@Test</span></span>
      <span id="cb32-66"><a href="#cb32-66" aria-hidden="true"></a>    <span class="dt">void</span> <span class="fu">testSetReference</span>() {</span>
      <span id="cb32-67"><a href="#cb32-67" aria-hidden="true"></a>        Product pr = <span class="kw">new</span> <span class="fu">Product</span>();</span>
      <span id="cb32-68"><a href="#cb32-68" aria-hidden="true"></a>        <span class="bu">String</span> ref = <span class="st">&quot;ref1&quot;</span>;</span>
      <span id="cb32-69"><a href="#cb32-69" aria-hidden="true"></a>        pr.<span class="fu">setReference</span>(ref);</span>
      <span id="cb32-70"><a href="#cb32-70" aria-hidden="true"></a>        <span class="fu">assertEquals</span>(<span class="st">&quot;ref1&quot;</span>, pr.<span class="fu">getReference</span>());</span>
      <span id="cb32-71"><a href="#cb32-71" aria-hidden="true"></a>    }</span>
      <span id="cb32-72"><a href="#cb32-72" aria-hidden="true"></a></span>
      <span id="cb32-73"><a href="#cb32-73" aria-hidden="true"></a>...</span>
      <span id="cb32-74"><a href="#cb32-74" aria-hidden="true"></a></span>
      <span id="cb32-75"><a href="#cb32-75" aria-hidden="true"></a>}</span>
      <span id="cb32-76"><a href="#cb32-76" aria-hidden="true"></a></span></code></pre></div>
      <!-- cSpell:enable -->
      <h4 id="static-application-security-testing">8.4.2. Static Application Security Testing<!-- OK --></h4>
      <p>Le SAST (Static Application Security Testing) est un <strong>outil de sécurité</strong> des applications (AppSec) qui <strong>analyse le code source</strong>, binaire ou octet d’une application. Il identifie la cause des vulnérabilités et aide à corriger les failles de sécurité sous-jacentes.</p>
      <p>Les solutions SAST <strong>analysent une application de l’intérieur</strong> vers l’extérieur et ne relancent <strong>pas un système en cours d’exécution</strong> pour effectuer une analyse.</p>
      <p>SAST <strong>réduit les risques de sécurité</strong> en fournissant un retour immédiat aux développeurs sur les problèmes introduits dans le code pendant le développement. Il aide à éduquer les développeurs pendant qu’ils travaillent, en leur fournissant un accès en temps réel aux recommandations.</p>
      <p>L’outil de SAST utilisé dans le cadre de ce développement est <strong>exécuté au travers d’une tâche de vérification de Gradle</strong>. Cette tache génère un <strong>rapport HTML</strong> lors de chaque exécution du pipeline; directement accessible dans les sources.</p>
      <figure>
      <img src="img/spotbug-report.png" alt="" /><figcaption>SpotBug Report</figcaption>
      </figure>
      <h4 id="tests-fonctionnels">8.4.3. Tests fonctionnels<!-- OK --></h4>
      <p>Les test fonctionnels d’une application dépendent grandement de sa structure, de ses fonctionnalités, des ses méthodes d’accès, et du périmètre souhaité par les tests. Chaque environnement de test fonctionnel est <strong>construit sur mesure</strong>.</p>
      <p>Dans le cadre d’une <strong>application web multi-couche</strong>, tester le bon fonctionnement final revient à utiliser l’interface comme le ferait un être humain, et à en valider les différentes fonctionnalités.</p>
      <p>Un système de test automatique permettant ce genre d’opérations peut être construit avec <strong>Python et Selenium</strong>.</p>
      <h2 id="veille-sur-les-vulnérabilités-de-sécurité">9. Veille sur les vulnérabilités de sécurité<!-- OK --></h2>
      <p>Dans le cadre de la veille sur les vulnérabilités de sécurité, nous avons considéré les attaques définies par le WASC et les menaces identifiées par l’OWASP (dont une partie sont couvertes par le <strong>Framework JAAS</strong>).</p>
      <!-- cSpell:disable -->
      <table>
      <colgroup>
      <col style="width: 32%" />
      <col style="width: 32%" />
      <col style="width: 34%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th>Risques identifiés par l’OWASP en 2010</th>
      <th>Attaques identifiées par le WASC en 2010</th>
      <th>Catégories</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td><strong>Injection</strong></td>
      <td><strong>SQL Injection (WASC-19)</strong></td>
      <td><strong>Exécution de commandes</strong></td>
      </tr>
      <tr class="even">
      <td>Injection</td>
      <td>XML Injection (WASC-23)</td>
      <td>Exécution de commandes</td>
      </tr>
      <tr class="odd">
      <td>Injection</td>
      <td>Null Byte Injection (WASC-28)</td>
      <td>Exécution de commandes</td>
      </tr>
      <tr class="even">
      <td>Injection</td>
      <td>LDAP Injection (WASC-29)</td>
      <td>Exécution de commandes</td>
      </tr>
      <tr class="odd">
      <td>Injection</td>
      <td>Mail Command Injection (WASC-30)</td>
      <td>Exécution de commandes</td>
      </tr>
      <tr class="even">
      <td>Injection</td>
      <td>OS Commanding (WASC-31)</td>
      <td>Exécution de commandes</td>
      </tr>
      <tr class="odd">
      <td>Injection</td>
      <td>XPath Injection (WASC-39)</td>
      <td>Exécution de commandes</td>
      </tr>
      <tr class="even">
      <td>Injection</td>
      <td>XQuery Injection (WASC-46)</td>
      <td>Exécution de commandes</td>
      </tr>
      <tr class="odd">
      <td>Cross-Site Scripting</td>
      <td>Cross-Site Scripting (WASC-08)</td>
      <td>Attaques côté client</td>
      </tr>
      <tr class="even">
      <td>Violation de Gestion d’Authentification et de Session</td>
      <td>Insufficient Authentication (WASC-01)</td>
      <td>Autorisation, authentification</td>
      </tr>
      <tr class="odd">
      <td>Violation de Gestion d’Authentification et de Session</td>
      <td>Brute Force (WASC-11)</td>
      <td>Autorisation, authentification</td>
      </tr>
      <tr class="even">
      <td>Violation de Gestion d’Authentification et de Session</td>
      <td>Credential/Session Prediction (WASC-18)</td>
      <td>Autorisation, authentification</td>
      </tr>
      <tr class="odd">
      <td>Violation de Gestion d’Authentification et de Session</td>
      <td>Session Fixation (WASC-37)</td>
      <td>Autorisation, authentification</td>
      </tr>
      <tr class="even">
      <td>Violation de Gestion d’Authentification et de Session</td>
      <td>Insufficient Session Expiration (WASC-47)</td>
      <td>Autorisation, authentification</td>
      </tr>
      <tr class="odd">
      <td>Référence directe à un objet non sécurisée</td>
      <td>Insufficient Authentication (WASC-01)</td>
      <td>Autorisation, authentification, révélation d’informations</td>
      </tr>
      <tr class="even">
      <td>Référence directe à un objet non sécurisée</td>
      <td>Insufficient Authorization (WASC-02)</td>
      <td>Autorisation, authentification, révélation d’informations</td>
      </tr>
      <tr class="odd">
      <td>Référence directe à un objet non sécurisée</td>
      <td>Path Traversal (WASC-33)</td>
      <td>Autorisation, authentification, révélation d’informations</td>
      </tr>
      <tr class="even">
      <td>Référence directe à un objet non sécurisée</td>
      <td>Predictable Location (WASC-34)</td>
      <td>Autorisation, authentification, révélation d’informations</td>
      </tr>
      <tr class="odd">
      <td>Falsification de requêtes intersites</td>
      <td>Cross-Site Request Forgery (WASC-09)</td>
      <td>Attaques logiques</td>
      </tr>
      <tr class="even">
      <td>Gestion de configuration non sécurisée</td>
      <td>Server Misconfiguration (WASC-14)</td>
      <td>Révélation d’informations</td>
      </tr>
      <tr class="odd">
      <td>Gestion de configuration non sécurisée</td>
      <td>Application Misconfiguration (WASC-15)</td>
      <td>Révélation d’informations</td>
      </tr>
      <tr class="even">
      <td>Stockage de données non sécurisé</td>
      <td>Insufficient Data Protection (WASC-50)</td>
      <td>Révélation d’informations</td>
      </tr>
      <tr class="odd">
      <td>Défaillance de restriction d’accès à une URL</td>
      <td>Insufficient Authorization (WASC-02)</td>
      <td>Autorisation, authentification, révélation d’informations</td>
      </tr>
      <tr class="even">
      <td>Défaillance de restriction d’accès à une URL</td>
      <td>Denial of Service (WASC-10)</td>
      <td>Autorisation, authentification, révélation d’informations</td>
      </tr>
      <tr class="odd">
      <td>Défaillance de restriction d’accès à une URL</td>
      <td>Brute Force (WASC-11)</td>
      <td>Autorisation, authentification, révélation d’informations</td>
      </tr>
      <tr class="even">
      <td>Défaillance de restriction d’accès à une URL</td>
      <td>Insufficient Antiautomation (WASC-21)</td>
      <td>Autorisation, authentification, révélation d’informations</td>
      </tr>
      <tr class="odd">
      <td>Défaillance de restriction d’accès à une URL</td>
      <td>Predictable Location (WASC-34)</td>
      <td>Autorisation, authentification, révélation d’informations</td>
      </tr>
      <tr class="even">
      <td><strong>Communications non sécurisées</strong></td>
      <td><strong>Insufficient Transport Layer Protection (WASC-04)</strong></td>
      <td><strong>Révélation d’informations</strong></td>
      </tr>
      <tr class="odd">
      <td>Redirection et renvoi non validés</td>
      <td>URL Redirector Abuse (WASC-38)</td>
      <td>Attaques logiques</td>
      </tr>
      </tbody>
      </table>
      <!-- cSpell:enable -->
      <h3 id="http-ssl">9.1. HTTP (SSL)<!-- OK --></h3>
      <p>La faille de sécurité en relation avec une <strong>absence de chiffrement de la couche transport</strong> est aujourd’hui connue de presque tous les utilisateurs.</p>
      <p>En effet, les navigateurs récents requiert de multiple validations avant de vous laisser acceder à un <strong>site non sécurisé</strong> (Port 80). Sur Internet il existe un risque qu’une requête ou une réponse HTTP soit interceptée. Si elle contient des informations confidentielles, elles sont <strong>transmises en clair</strong>, et l’attaquant n’aura aucun mal à les exploiter. Tous les réseaux de l’architecture de l’application Web sont concernés, depuis le navigateur de l’utilisateur jusqu’au stockage des données, en passant par le serveur Web.</p>
      <p>L’attaque du type « Homme du milieu » (ou « <strong>Man-in-the-Middle</strong> ») est une des attaques les plus répandues pour <strong>accéder aux données d’une application</strong>. Si un attaquant réussit à compromettre un serveur proxy, il pourra intercepter toutes les communications. Si en plus ce serveur est responsable du chiffrement des flux HTTP, il aura accès aux données les plus sensibles qui devaient être chiffrées.</p>
      <p>Il convient donc de mettre en place du <strong>chiffrement SSL</strong> et un <strong>certificat</strong> valide, permettant une sécurisation “bout à bout” de la couche de transport (Port 443).</p>
      <h3 id="sql-injection">9.2. SQL Injection<!-- OK --></h3>
      <p>L’attaque par injection est évaluée par l’OWASP comme étant <strong>la plus risquée</strong>, car la faille est assez <strong>répandue</strong>, il est facile de l’exploiter et l’<strong>impact peut être très important</strong>. Cela va de la simple <strong>récupération de données</strong> à la <strong>prise totale de contrôle</strong> du serveur. La victime de l’attaque est un des composants techniques de l’application Web.</p>
      <p>L’attaque par injection SQL consiste à <strong>injecter du code SQL</strong> qui sera <strong>interprété</strong> par le moteur de base de données. Le code malicieux le plus répandu est d’ajouter une instruction pour faire en sorte que la requête sous-jacente soit toujours positive :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb33"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true"></a></span>
      <span id="cb33-2"><a href="#cb33-2" aria-hidden="true"></a><span class="kw">SELECT</span> numerocarte <span class="kw">FROM</span> comptes <span class="kw">WHERE</span> nom <span class="op">=</span> <span class="st">&#39;&#39;</span> <span class="kw">OR</span> <span class="dv">1</span><span class="op">=</span><span class="dv">1</span> <span class="co">-- &#39;&#39; AND motdepasse = PASSWORD( &#39;x&#39; )</span></span></code></pre></div>
      <!-- cSpell:enable -->
      <p>Les différentes attaques <strong>reposent</strong> principalement sur l’utilisation de <strong>caractères spécifiques</strong> :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb34"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true"></a></span>
      <span id="cb34-2"><a href="#cb34-2" aria-hidden="true"></a>&amp; ~ &quot; # &#39; { } ( <span class="co">[ ]</span> ( ) - | ` _ \ ^ @ \ * / . &lt; &gt; , ; : ! $</span></code></pre></div>
      <!-- cSpell:enable -->
      <p>Il suffit de vérifier que les caractères utilisés sont ceux attendus. Ce <strong>contrôle</strong> doit être effectué au niveau du <strong>client</strong> grâce à <strong>JavaScript</strong> et au niveau du <strong>serveur lorsque les paramètres sont récupérés</strong> (PreparedStatement) pour fermer la faille de sécurité.</p>
      <h3 id="couches-applicatives-embarquées-nginx-tomcat-mariadb">9.3. Couches applicatives embarquées (Nginx, Tomcat, MariaDB)<!-- OK --></h3>
      <p>La dernière forme de veille est <strong>systémique</strong>.</p>
      <p>En effet, l’environnement de développement (à contrario de l’environnement de production), utilise des containers docker dont les <strong>images sources du build sont automatiquement mise à jour</strong> (flag <code>latest</code>).</p>
      <p>Lorsque l’environnement de développement démarre, il est aisé de voir si une telle mise a jour intervient. Si l’environnement ne démarre pas complètement, la mise à jour de l’<strong>image du container en échec est responsable de la régression</strong>.</p>
      <p>Il convient donc de <strong>fixer les versions</strong> logicielles sur l’environnement de <strong>production</strong>, et d’en <strong>suivre le cours</strong> en <strong>développement</strong> dans le cadre de cette veille.</p>
      <div style="page-break-after: always;">

      </div>
      <h2 id="description-dune-situation-de-travail-ayant-nécessité-une-recherche">10. Description d’une situation de travail ayant nécessité une recherche<!-- OK Lylou --></h2>
      <p>Source : <span class="citation" data-cites="keyframes">[https://developer.mozilla.org/en-US/docs/Web/CSS/@keyframes]</span>(https://developer.mozilla.org/en-US/docs/Web/CSS/<span class="citation" data-cites="keyframes">@keyframes</span>)</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb35"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true"></a>@keyframes</span>
      <span id="cb35-2"><a href="#cb35-2" aria-hidden="true"></a>The @keyframes CSS at-rule controls the intermediate steps in a CSS animation sequence by defining styles</span>
      <span id="cb35-3"><a href="#cb35-3" aria-hidden="true"></a>for keyframes (or waypoints) along the animation sequence. This gives more control over the intermediate</span>
      <span id="cb35-4"><a href="#cb35-4" aria-hidden="true"></a>steps of the animation sequence than transitions. </span>
      <span id="cb35-5"><a href="#cb35-5" aria-hidden="true"></a></span>
      <span id="cb35-6"><a href="#cb35-6" aria-hidden="true"></a>Values</span>
      <span id="cb35-7"><a href="#cb35-7" aria-hidden="true"></a><span class="kw">&lt;custom-ident&gt;</span></span>
      <span id="cb35-8"><a href="#cb35-8" aria-hidden="true"></a>A name identifying the keyframe list. This must match the identifier production in CSS syntax.</span>
      <span id="cb35-9"><a href="#cb35-9" aria-hidden="true"></a>from</span>
      <span id="cb35-10"><a href="#cb35-10" aria-hidden="true"></a>A starting offset of 0%.</span>
      <span id="cb35-11"><a href="#cb35-11" aria-hidden="true"></a>to</span>
      <span id="cb35-12"><a href="#cb35-12" aria-hidden="true"></a>An ending offset of 100%.</span>
      <span id="cb35-13"><a href="#cb35-13" aria-hidden="true"></a><span class="kw">&lt;percentage&gt;</span></span>
      <span id="cb35-14"><a href="#cb35-14" aria-hidden="true"></a>A percentage of the time through the animation sequence at which the specified keyframe should occur.</span></code></pre></div>
      <!-- cSpell:enable -->
      <p>Les <span class="citation" data-cites="keyframes">@keyframes</span> définissent les étapes intermédiaires d’une animation, ce qui donne plus de contrôle sur la séquence de l’animation que sur la transition. Les valeurs à indiquer sont le nom de la <span class="citation" data-cites="keyframe">@keyframe</span>, le début qui correspond à 0% et la fin de l’animation qui correspond à 100%.</p>
      <p>Il est possible d’indiquer des pourcentages (durée de la séquence) supplémentaires qui définissent l’endroit de l’animation à laquelle elle doit se produire.</p>
    </div>
  </body>
</html>