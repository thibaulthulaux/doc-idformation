<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Rapport</title>
    <style>
      /* From extension vscode.github */
      /*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

      .vscode-dark img[src$="\#gh-light-mode-only"],
      .vscode-light img[src$="\#gh-dark-mode-only"] {
        display: none;
      }

      /* From extension ms-toolsai.jupyter */
      /* These classnames are inherited from bootstrap, but are present in most notebook renderers */

      .alert {
        width: auto;
        padding: 1em;
        margin-top: 1em;
        margin-bottom: 1em;
      }
      .alert > *:last-child {
        margin-bottom: 0;
      }
      #preview > .alert:last-child {
        /* Prevent this being set to zero by the default notebook stylesheet */
        padding-bottom: 1em;
      }

      .alert-success {
        /* Note there is no suitable color available, so we just copy "info" */
        background-color: var(--theme-info-background);
        color: var(--theme-info-foreground);
      }
      .alert-info {
        background-color: var(--theme-info-background);
        color: var(--theme-info-foreground);
      }
      .alert-warning {
        background-color: var(--theme-warning-background);
        color: var(--theme-warning-foreground);
      }
      .alert-danger {
        background-color: var(--theme-error-background);
        color: var(--theme-error-foreground);
      }

      /* From extension ms-toolsai.jupyter-renderers */
      /*
Found that the colors of the alert boxes do not change with different themes in jlab.
Hence hardcoded them here.
*/

      .alert {
        width: auto;
        padding: 1em;
        margin-top: 1em;
        margin-bottom: 1em;
        border-style: solid;
        border-width: 1px;
      }
      .alert > *:last-child {
        margin-bottom: 0;
      }
      #preview > .alert:last-child {
        /* Prevent this being set to zero by the default notebook stylesheet */
        padding-bottom: 1em;
      }

      .alert-success {
        background-color: rgb(200, 230, 201);
        color: rgb(27, 94, 32);
      }
      .alert-info {
        background-color: rgb(178, 235, 242);
        color: rgb(0, 96, 100);
      }
      .alert-warning {
        background-color: rgb(255, 224, 178);
        color: rgb(230, 81, 0);
      }
      .alert-danger {
        background-color: rgb(255, 205, 210);
        color: rgb(183, 28, 28);
      }
    </style>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css"
    />
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI",
          system-ui, "Ubuntu", "Droid Sans", sans-serif;
        font-size: 14px;
        line-height: 1.6;
      }
    </style>
    <style>
      .task-list-item {
        list-style-type: none;
      }

      .task-list-item-checkbox {
        margin-left: -20px;
        vertical-align: middle;
        pointer-events: none;
      }
    </style>
  </head>
  <body class="vscode-body vscode-light">
    <h1 id="rapport">Rapport</h1>
    <p>M. Thibault HULAUX Mlle Lylou PONSING</p>
    <p>Concepteur et Developpeur d'Application Niveau II</p>
    <p>Periode d'exercice du 19/04/2022 du 20/01/2023</p>
    <div style="page-break-after: always"></div>
    <h2 id="1-table-des-matières">1. Table des matières<!-- OK --></h2>
    <!-- cSpell:disable -->
    <ul>
      <li><a href="#1-table-des-mati%C3%A8res">1. Table des matières</a></li>
      <li>
        <a href="#2-liste-des-comp%C3%A9tences-couvertes"
          >2. Liste des compétences couvertes</a
        >
      </li>
      <li>
        <a href="#3-r%C3%A9sum%C3%A9-du-projet-en-anglais"
          >3. Résumé du projet en anglais</a
        >
      </li>
      <li>
        <a href="#4-cahier-des-charges">4. Cahier des charges</a>
        <ul>
          <li>
            <a href="#41-contexte-de-lentreprise"
              >4.1. Contexte de l'entreprise</a
            >
          </li>
          <li>
            <a href="#42-d%C3%A9finition-du-besoin"
              >4.2. Définition du besoin</a
            >
            <ul>
              <li>
                <a href="#421-la-m%C3%A9thode-qqoqcp"
                  >4.2.1. La méthode QQOQCP</a
                >
              </li>
              <li>
                <a href="#422-les-personas">4.2.2. Les Personas</a>
                <ul>
                  <li>
                    <a
                      href="#4221-marie-dubois---responsable-dans-une-association"
                      >4.2.2.1. Marie Dubois - Responsable dans une
                      association</a
                    >
                  </li>
                  <li>
                    <a href="#4222-mathieu-dupont---g%C3%A9rant"
                      >4.2.2.2. Mathieu Dupont - Gérant</a
                    >
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li><a href="#43-objectif-du-projet">4.3. Objectif du projet</a></li>
          <li>
            <a
              href="#44-description-de-toutes-les-fonctionnalit%C3%A9s-attendues"
              >4.4. Description de toutes les fonctionnalités attendues</a
            >
            <ul>
              <li>
                <a href="#441-inscription">4.4.1. Inscription</a>
                <ul>
                  <li>
                    <a href="#4411-fonctionnalit%C3%A9--inscription"
                      >4.4.1.1. Fonctionnalité : Inscription</a
                    >
                  </li>
                </ul>
              </li>
              <li>
                <a href="#442-authentification">4.4.2. Authentification</a>
                <ul>
                  <li>
                    <a href="#4421-fonctionnalit%C3%A9--authentification"
                      >4.4.2.1. Fonctionnalité : Authentification</a
                    >
                  </li>
                </ul>
              </li>
              <li>
                <a href="#443-cat%C3%A9gorie">4.4.3. Catégorie</a>
                <ul>
                  <li>
                    <a
                      href="#4431-fonctionnalit%C3%A9-ajouter-une-cat%C3%A9gorie"
                      >4.4.3.1. Fonctionnalité: Ajouter une catégorie</a
                    >
                  </li>
                  <li>
                    <a
                      href="#4432-fonctionnalit%C3%A9-supprimer-une-cat%C3%A9gorie"
                      >4.4.3.2. Fonctionnalité: Supprimer une catégorie</a
                    >
                  </li>
                  <li>
                    <a
                      href="#4433-fonctionnalit%C3%A9-modifier-une-cat%C3%A9gorie"
                      >4.4.3.3. Fonctionnalité: Modifier une catégorie</a
                    >
                  </li>
                  <li>
                    <a
                      href="#4434-fonctionnalit%C3%A9-acc%C3%A9der-aux-informations-dune-cat%C3%A9gorie"
                      >4.4.3.4. Fonctionnalité: Accéder aux informations d'une
                      catégorie</a
                    >
                  </li>
                </ul>
              </li>
              <li>
                <a href="#444-produit">4.4.4. Produit</a>
                <ul>
                  <li>
                    <a href="#4441-fonctionnalit%C3%A9-ajouter-un-produit"
                      >4.4.4.1. Fonctionnalité: Ajouter un produit</a
                    >
                  </li>
                  <li>
                    <a href="#4442-fonctionnalit%C3%A9-modifier-un-produit"
                      >4.4.4.2. Fonctionnalité: Modifier un produit</a
                    >
                  </li>
                  <li>
                    <a href="#4443-fonctionnalit%C3%A9-supprimer-un-produit"
                      >4.4.4.3. Fonctionnalité: Supprimer un produit</a
                    >
                  </li>
                  <li>
                    <a
                      href="#4444-fonctionnalit%C3%A9-acc%C3%A9der-aux-informations-dun-produit"
                      >4.4.4.4. Fonctionnalité: Accéder aux informations d'un
                      produit</a
                    >
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li><a href="#45-d%C3%A9lais">4.5. Délais</a></li>
        </ul>
      </li>
      <li>
        <a href="#5-gestion-de-projet">5. Gestion de projet</a>
        <ul>
          <li><a href="#51-planning-et-suivi">5.1. Planning et suivi</a></li>
          <li>
            <a href="#52-environnement-humain-et-technique"
              >5.2. Environnement humain et technique</a
            >
            <ul>
              <li>
                <a href="#521-environnement-humain"
                  >5.2.1. Environnement humain</a
                >
              </li>
              <li>
                <a href="#522-environnement-technique"
                  >5.2.2. Environnement technique</a
                >
              </li>
            </ul>
          </li>
          <li><a href="#53-objectif-qualit%C3%A9">5.3. Objectif qualité</a></li>
        </ul>
      </li>
      <li>
        <a href="#6-sp%C3%A9cifications-fonctionnelles-du-projet"
          >6. Spécifications fonctionnelles du projet</a
        >
        <ul>
          <li>
            <a href="#61-front-office">6.1. Front office</a>
            <ul>
              <li><a href="#611-landing-page">6.1.1. Landing page</a></li>
              <li>
                <a href="#612-inscription-et-connexion"
                  >6.1.2. Inscription et connexion</a
                >
              </li>
              <li>
                <a href="#613-cat%C3%A9gories">6.1.3. Catégories</a>
                <ul>
                  <li>
                    <a href="#6131-menu-cat%C3%A9gorie"
                      >6.1.3.1. Menu catégorie</a
                    >
                  </li>
                  <li>
                    <a href="#6132-ajout-dune-cat%C3%A9gorie"
                      >6.1.3.2. Ajout d’une catégorie</a
                    >
                  </li>
                  <li>
                    <a
                      href="#6133-information-et-modification-dune-cat%C3%A9gorie"
                      >6.1.3.3. Information et modification d’une catégorie</a
                    >
                  </li>
                  <li>
                    <a href="#6134-suppression-dune-cat%C3%A9gorie"
                      >6.1.3.4. Suppression d’une catégorie</a
                    >
                  </li>
                </ul>
              </li>
              <li>
                <a href="#614-produits">6.1.4. Produits</a>
                <ul>
                  <li>
                    <a href="#6141-information-produit"
                      >6.1.4.1. Information produit</a
                    >
                  </li>
                  <li>
                    <a href="#6142-ajout-dun-produit"
                      >6.1.4.2. Ajout d’un produit</a
                    >
                  </li>
                  <li>
                    <a href="#6143-modifier-un-produit"
                      >6.1.4.3. Modifier un produit</a
                    >
                  </li>
                  <li>
                    <a href="#6144-supprimer-un-produit"
                      >6.1.4.4. Supprimer un produit</a
                    >
                  </li>
                </ul>
              </li>
              <li><a href="#615-menu-user">6.1.5. Menu user</a></li>
            </ul>
          </li>
          <li><a href="#62-back-office">6.2. Back office</a></li>
          <li><a href="#63-arborescence">6.3. Arborescence</a></li>
          <li>
            <a href="#64-aper%C3%A7u-des-contenus">6.4. Aperçu des contenus</a>
            <ul>
              <li>
                <a href="#641-charte-graphique">6.4.1. Charte graphique</a>
              </li>
              <li><a href="#642-maquette">6.4.2. Maquette</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <a href="#7-sp%C3%A9cifications-techniques-du-projet"
          >7. Spécifications techniques du projet</a
        >
        <ul>
          <li>
            <a href="#71-langages">7.1. Langages</a>
            <ul>
              <li>
                <a href="#711-front-end">7.1.1. Front-end</a>
                <ul>
                  <li><a href="#7111-html">7.1.1.1. HTML</a></li>
                  <li><a href="#7112-css--sass">7.1.1.2. CSS / SASS</a></li>
                  <li><a href="#7113-javascript">7.1.1.3. JavaScript</a></li>
                </ul>
              </li>
              <li>
                <a href="#712-back-end">7.1.2. Back-end</a>
                <ul>
                  <li><a href="#7121-java">7.1.2.1. Java</a></li>
                  <li><a href="#7122-jsp">7.1.2.2. JSP</a></li>
                  <li><a href="#7123-jstl">7.1.2.3. JSTL</a></li>
                  <li><a href="#7124-sql">7.1.2.4. SQL</a></li>
                </ul>
              </li>
              <li>
                <a href="#713-autres">7.1.3. Autres</a>
                <ul>
                  <li><a href="#7131-dockerfile">7.1.3.1. Dockerfile</a></li>
                  <li><a href="#7132-python">7.1.3.2. Python</a></li>
                  <li><a href="#7133-shell">7.1.3.3. Shell</a></li>
                  <li><a href="#7134-xml">7.1.3.4. XML</a></li>
                  <li><a href="#7135-yaml">7.1.3.5. YAML</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li>
            <a href="#72-frameworks">7.2. Frameworks</a>
            <ul>
              <li><a href="#721-jaas">7.2.1. JAAS</a></li>
              <li><a href="#722-revealjs">7.2.2. reveal.js</a></li>
            </ul>
          </li>
          <li>
            <a href="#73-versioning-gitlabgithub"
              >7.3. Versioning (gitlab/github)</a
            >
            <ul>
              <li><a href="#731-gitlab">7.3.1. GitLab</a></li>
            </ul>
          </li>
          <li>
            <a href="#74-sgbd-utilis%C3%A9-mysqlpostgresql"
              >7.4. SGBD utilisé (MYSQL/PostgreSQL)</a
            >
            <ul>
              <li><a href="#741-mariadb">7.4.1. MariaDB</a></li>
            </ul>
          </li>
          <li>
            <a href="#75-outils-de-maquettage">7.5. Outils de maquettage</a>
            <ul>
              <li><a href="#751-figma">7.5.1. Figma</a></li>
              <li><a href="#752-plantuml">7.5.2. PlantUML</a></li>
            </ul>
          </li>
          <li>
            <a href="#76-plateforme-de-d%C3%A9veloppement"
              >7.6. Plateforme de développement</a
            >
            <ul>
              <li>
                <a href="#761-automatisation-de-build"
                  >7.6.1. Automatisation de build</a
                >
              </li>
              <li>
                <a href="#762-contain%C3%A9risation-et-services"
                  >7.6.2. Containérisation et services</a
                >
                <ul>
                  <li><a href="#7621-docker">7.6.2.1. Docker</a></li>
                  <li>
                    <a href="#7622-docker-compose">7.6.2.2. Docker Compose</a>
                  </li>
                  <li>
                    <a href="#7623-docker-swarm">7.6.2.3. Docker Swarm</a>
                  </li>
                </ul>
              </li>
              <li>
                <a href="#763-virtualisation">7.6.3. Virtualisation</a>
                <ul>
                  <li>
                    <a href="#7631-oracle-vm-virtualbox"
                      >7.6.3.1. Oracle VM Virtualbox</a
                    >
                  </li>
                  <li><a href="#7632-vmware-esxi">7.6.3.2. VMware ESXi</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li>
            <a href="#77-outils-de-conception-de-la-documentation"
              >7.7. Outils de conception de la documentation</a
            >
            <ul>
              <li><a href="#771-markdown">7.7.1. Markdown</a></li>
              <li><a href="#772-javadoc">7.7.2. Javadoc</a></li>
              <li><a href="#773-plantuml">7.7.3. PlantUML</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <a href="#8-r%C3%A9alisations">8. Réalisations</a>
        <ul>
          <li>
            <a href="#81-description-des-features-r%C3%A9alis%C3%A9es"
              >8.1. Description des features réalisées</a
            >
            <ul>
              <li>
                <a href="#811-authentification-et-inscription"
                  >8.1.1. Authentification et inscription</a
                >
              </li>
              <li>
                <a href="#812-gestion-des-cat%C3%A9gories"
                  >8.1.2. Gestion des catégories</a
                >
              </li>
              <li>
                <a href="#813-gestion-des-produits"
                  >8.1.3. Gestion des produits</a
                >
              </li>
            </ul>
          </li>
          <li>
            <a href="#82-description-des-fonctions-impl%C3%A9ment%C3%A9es"
              >8.2. Description des fonctions implémentées</a
            >
            <ul>
              <li>
                <a href="#821-supprimer-une-cat%C3%A9gorie"
                  >8.2.1. Supprimer une catégorie</a
                >
              </li>
              <li>
                <a href="#822-modifier-un-produit"
                  >8.2.2. Modifier un produit</a
                >
              </li>
              <li>
                <a href="#823-authentification">8.2.3. Authentification</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="#83-description-des-actions-r%C3%A9alis%C3%A9es-sur-la-bdd"
              >8.3. Description des actions réalisées sur la BDD</a
            >
            <ul>
              <li><a href="#831-create">8.3.1. Create</a></li>
              <li><a href="#832-read">8.3.2. Read</a></li>
              <li><a href="#833-update">8.3.3. Update</a></li>
              <li><a href="#834-delete">8.3.4. Delete</a></li>
            </ul>
          </li>
          <li>
            <a href="#84-description-des-tests-unitaireseteendtoend"
              >8.4. Description des tests unitaires/EtE(EndtoEnd)</a
            >
          </li>
        </ul>
      </li>
      <li>
        <a href="#9-pr%C3%A9sentation-du-jeu-dessai-le-plus-repr%C3%A9sentatif"
          >9. Présentation du jeu d'essai le plus représentatif</a
        >
      </li>
      <li>
        <a
          href="#10-veille-sur-les-vuln%C3%A9rabilit%C3%A9s-de-s%C3%A9curit%C3%A9"
          >10. Veille sur les vulnérabilités de sécurité</a
        >
        <ul>
          <li><a href="#securiser-http-ssl">Securiser HTTP (SSL)</a></li>
          <li><a href="#sql-injection">SQL Injection</a></li>
        </ul>
      </li>
      <li>
        <a
          href="#11-description-dune-situation-de-travail-ayant-n%C3%A9cessit%C3%A9-une-recherche"
          >11. Description d'une situation de travail ayant nécessité une
          recherche</a
        >
      </li>
    </ul>
    <!-- cSpell:enable -->
    <div style="page-break-after: always"></div>
    <h2 id="2-liste-des-compétences-couvertes">
      2. Liste des compétences couvertes<!-- OK -->
    </h2>
    <p>
      La liste des compétences couvertes, conformément au référentiel de
      certification, est la suivante:
    </p>
    <table>
      <thead>
        <tr>
          <th></th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>Maquetter une application</td>
        </tr>
        <tr>
          <td>2</td>
          <td>Développer une interface utilisateur de type desktop</td>
        </tr>
        <tr>
          <td>3</td>
          <td>Développer des composants d'accès aux données</td>
        </tr>
        <tr>
          <td>4</td>
          <td>
            Développer la partie front-end d'une interface utilisateur web
          </td>
        </tr>
        <tr>
          <td>5</td>
          <td>Développer la partie back-end d'une interface utilisateur web</td>
        </tr>
        <tr>
          <td>6</td>
          <td>Concevoir une base de données</td>
        </tr>
        <tr>
          <td>7</td>
          <td>Mettre en place une base de données</td>
        </tr>
        <tr>
          <td>8</td>
          <td>
            Développer des composants dans le langage d'une base de données
          </td>
        </tr>
        <tr>
          <td>9</td>
          <td>
            Collaborer à la gestion d'un projet informatique et à l'organisation
            de l'environnement de développement
          </td>
        </tr>
        <tr>
          <td>10</td>
          <td>Concevoir une application</td>
        </tr>
        <tr>
          <td>11</td>
          <td>Développer des composants métier</td>
        </tr>
        <tr>
          <td>12</td>
          <td>Construire une application organisée en couches</td>
        </tr>
        <tr>
          <td>13</td>
          <td>Développer une application mobile</td>
        </tr>
        <tr>
          <td>14</td>
          <td>Préparer et exécuter les plans de tests d'une application</td>
        </tr>
        <tr>
          <td>15</td>
          <td>Préparer et exécuter le déploiement d'une application</td>
        </tr>
      </tbody>
    </table>
    <div style="page-break-after: always"></div>
    <h2 id="3-résumé-du-projet-en-anglais">3. Résumé du projet en anglais</h2>
    <pre><code class="language-md"><span class="hljs-bullet">  -</span> 20 lignes (200-250 mots, 1200 caractères
<span class="hljs-bullet">  -</span> Qui / Quoi / Où / Quand / Comment / Combien / Pourquoi)
</code></pre>
    <p>
      Today we're going to analyse together an explicit breakdown of a basic
      modern web application.
    </p>
    <p>
      For the sake of this demonstration, we're going to assume the following:
    </p>
    <ul>
      <li>
        The client is a service company which facilitates storage management and
        is willing to provide his customers with a related online service.
      </li>
      <li>
        The deliverable address a specific need of simple storage management
        solutions for associations and small business.
      </li>
      <li>
        The resulting application is deployed online (either in the cloud or on
        premise), so end users can access it from anywhere.
      </li>
      <li>The deliverable due date is 2022 November 4th.</li>
      <li>
        This application is built on modern standards, and relies on multiple
        containerized services, that can be deployed nearly anywhere. After
        registering / signing-in, users can administrate with ease private
        collections of categories of products.
      </li>
      <li>
        The end goal is to provide users with a simple to handle storage
        management solution.
      </li>
    </ul>
    <div style="page-break-after: always"></div>
    <h2 id="4-cahier-des-charges">4. Cahier des charges<!-- OK --></h2>
    <ul>
      <li>Contexte de l'entreprise</li>
      <li>Définition du besoin</li>
      <li>Objectif du projet</li>
      <li>Description de toutes les fonctionnalités attendues</li>
      <li>Délais</li>
    </ul>
    <h3 id="41-contexte-de-lentreprise">
      4.1. Contexte de l'entreprise<!-- OK -->
    </h3>
    <p>
      Nous avons supposé pour ce projet que l’entreprise qui nous fournissait la
      demande de projet est une
      <strong
        >entreprise de service qui est spécialisée dans la gestion de
        stockage</strong
      >
      et qu’elle souhaite offrir à ses clients un service en ligne lié.
    </p>
    <p>
      Nous avons supposé que ses clients pouvaient être des
      <strong>associations</strong>, ou des
      <strong>petites entreprises</strong> (cf.
      <a href="#les-personas">personas</a>).
    </p>
    <h3 id="42-définition-du-besoin">4.2. Définition du besoin<!-- OK --></h3>
    <p>
      L’entreprise de service est
      <strong>spécialisée dans la gestion de stockage</strong> et souhaite
      offrir à ses clients un service en ligne correspondant.
    </p>
    <p>
      L’objectif de cette entreprise est de développer une
      <strong>application web simple et facile à utiliser</strong>, destinée aux
      associations et aux petites entreprises qui ont besoin de solutions de
      gestion de stockage.
    </p>
    <h4 id="421-la-méthode-qqoqcp">4.2.1. La méthode QQOQCP<!-- OK --></h4>
    <p>
      La méthode <strong>QQOQCP</strong> est un acronyme qui permet de mémoriser
      rapidement des questions « Quoi ? Qui ? Où ? Quand ? Comment ? Pourquoi ?
      ».
    </p>
    <p>
      Cette méthode est un outil qui permet de
      <strong>faciliter la résolution de problèmes</strong>. En répondant à ces
      questions, cela permet de cerner les enjeux et de prendre du recul sur la
      situation de manière à mieux raisonner et à adapter ses actions.
    </p>
    <table>
      <thead>
        <tr>
          <th></th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Qui</strong></td>
          <td>
            Le client est une société de services qui facilite la gestion du
            stockage et est disposé à fournir à ses clients un service en ligne.
          </td>
        </tr>
        <tr>
          <td><strong>Quoi</strong></td>
          <td>
            Le livrable répond à un besoin spécifique de gestion simple du
            stockage pour les associations et les petites entreprises.
          </td>
        </tr>
        <tr>
          <td><strong>Où</strong></td>
          <td>
            L’application résultante est déployée en ligne (dans le cloud ou sur
            site), de sorte que les utilisateurs finaux puissent y accéder de
            n’importe où.
          </td>
        </tr>
        <tr>
          <td><strong>Quand</strong></td>
          <td>La date d’échéance du livrable est le 4 novembre 2022.</td>
        </tr>
        <tr>
          <td><strong>Comment</strong></td>
          <td>
            Cette application repose sur plusieurs services conteneurisés. Après
            l’enregistrement / la connexion, les utilisateurs peuvent
            administrer des collections privées de catégories de produits.
          </td>
        </tr>
        <tr>
          <td><strong>Pourquoi</strong></td>
          <td>
            L’objectif final est de fournir aux utilisateurs une solution de
            gestion du stockage simple à prendre en main.
          </td>
        </tr>
      </tbody>
    </table>
    <h4 id="422-les-personas">4.2.2. Les Personas<!-- OK --></h4>
    <p>
      Les <strong>personas</strong> sont des outils d'aide à la conception et à
      la réalisation d'un produit ou d'un service. Ils permettent, notamment
      pour l'équipe de conception, de rester centrée sur les utilisateurs
      finaux, leurs aptitudes et leurs buts.
    </p>
    <p>
      Savoir <strong>ce que l'utilisateur final peut et veut faire</strong> est
      un précurseur indispensable à la bonne réalisation d'un projet.
    </p>
    <p>
      Si les comportements et les buts de
      <strong>plusieurs personas diffèrent trop</strong> lorsqu'il s'agit de
      l'utilisation d'un même produit, il convient de confectionner
      <strong>plusieurs produits distincts</strong> répondant au plus près aux
      différents utilisateurs finaux.
    </p>
    <p>
      Alors qu’un <strong>Buyer Persona</strong> est la représentation
      fictionnelle de votre <strong>client idéal</strong>, un Negative Persona,
      aussi appelé “Exclusionary Persona”, est une représentation de ceux que
      vous ne souhaitez pas en tant que client.
    </p>
    <p>
      Ici notre <strong>Negative Persona</strong> aurait pu être
      <strong>tout organisme de grande taille</strong>, comme une moyenne ou une
      grande entreprise par exemple, pour qui ce site de gestion de stock ne
      contiendrait pas assez de fonctionnalités ou de sous item.
    </p>
    <p>
      Pour ce projet, nous avons imaginé
      <strong>deux profils d’utilisateur</strong>, qui seraient intéressés par
      le site de gestion de stock :
    </p>
    <h5 id="4221-marie-dubois---responsable-dans-une-association">
      4.2.2.1. Marie Dubois - Responsable dans une association<!-- OK -->
    </h5>
    <table>
      <thead>
        <tr>
          <th></th>
          <th>Informations</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Fonction</td>
          <td>
            Responsable de l'inventaire et du stockage dans une petite
            association
          </td>
        </tr>
        <tr>
          <td>Age</td>
          <td>45</td>
        </tr>
        <tr>
          <td>Éducation</td>
          <td>Bac + 2</td>
        </tr>
        <tr>
          <td>Localisation</td>
          <td>Strasbourg</td>
        </tr>
        <tr>
          <td>Revenus</td>
          <td>2000</td>
        </tr>
        <tr>
          <td>Citation</td>
          <td>
            &quot;La simplicité est l'ultime sophistication.&quot; - Leonardo da
            Vinci
          </td>
        </tr>
        <tr>
          <td>Besoins</td>
          <td>
            Marie a besoin d'un outil de gestion de stockage, simple à utiliser,
            qui lui permette de gérer efficacement les inventaires de
            l'association et de suivre les mouvements de stock. Elle souhaite
            pouvoir accéder à cet outil de n'importe où et y accéder rapidement
            afin de pouvoir gérer l'inventaire de manière efficace.
          </td>
        </tr>
        <tr>
          <td>Contraintes</td>
          <td>
            Marie a besoin d'un outil de gestion de stockage facile à utiliser
            pour gérer l'inventaire de l'association de manière efficace. Elle
            doit également pouvoir y accéder de n'importe ou et de manière
            rapide, afin de pouvoir gérer efficacement son temps.
          </td>
        </tr>
      </tbody>
    </table>
    <h5 id="4222-mathieu-dupont---gérant">
      4.2.2.2. Mathieu Dupont - Gérant<!-- OK -->
    </h5>
    <table>
      <thead>
        <tr>
          <th></th>
          <th>Informations</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Fonction</td>
          <td>Gérant d'une petite entreprise de vente en ligne</td>
        </tr>
        <tr>
          <td>Age</td>
          <td>35</td>
        </tr>
        <tr>
          <td>Éducation</td>
          <td>Bac + 5</td>
        </tr>
        <tr>
          <td>Localisation</td>
          <td>Colmar</td>
        </tr>
        <tr>
          <td>Revenus</td>
          <td>2500</td>
        </tr>
        <tr>
          <td>Citation</td>
          <td>
            &quot;Le succès est la somme de petits efforts, répétés jour après
            jour.&quot; - Robert Collier
          </td>
        </tr>
        <tr>
          <td>Besoins</td>
          <td>
            Mathieu a besoin d'un outil de gestion de stockage, qui lui permette
            de suivre les stocks de ses produits et de s'assurer qu'il a
            suffisamment de stock pour répondre à la demande de ses clients. Il
            souhaite pouvoir accéder à cet outil de n'importe où et y accéder
            rapidement afin de pouvoir gérer efficacement son entreprise.
          </td>
        </tr>
        <tr>
          <td>Contraintes</td>
          <td>
            Mathieu a besoin d'un outil de gestion de stockage facile à utiliser
            qui lui permette de suivre les stocks de ses produits de manière
            efficace. Il doit également être en mesure de gérer son entreprise
            de n'importe où et de manière rapide afin de ne pas perdre de temps.
          </td>
        </tr>
      </tbody>
    </table>
    <h3 id="43-objectif-du-projet">4.3. Objectif du projet<!-- OK --></h3>
    <p>
      Les <strong>objectifs</strong> de l'entreprise de service qui développe
      cette application de gestion de stockage pourraient être les suivants :
    </p>
    <ul>
      <li>
        Offrir une
        <strong>solution de gestion de stockage simple et efficace</strong> aux
        associations et aux petites entreprises qui en ont besoin.
      </li>
      <li>
        Accroître la
        <strong>satisfaction et la fidélisation des clients</strong> en leur
        proposant un outil en ligne qui répond parfaitement à leurs besoins.
      </li>
      <li>
        Générer des <strong>revenus supplémentaires</strong> en proposant
        l'application en ligne en tant que service payant.
      </li>
      <li>
        <strong>Augmenter la visibilité de l'entreprise en</strong> proposant un
        produit innovant et de qualité sur le marché.
      </li>
    </ul>
    <p>
      Les <strong>gains</strong> attendus pour l'entreprise de service
      pourraient être les suivants :
    </p>
    <ul>
      <li>
        <strong>Augmentation de la base de clients</strong> grâce à la
        proposition d'un outil de gestion de stockage de qualité.
      </li>
      <li>
        <strong>Amélioration de la réputation de l'entreprise</strong> en
        proposant un produit innovant et de qualité.
      </li>
      <li>
        Génération de <strong>revenus supplémentaires</strong> grâce à la vente
        de l'application en ligne en tant que service payant.
      </li>
      <li>
        <strong>Augmentation de la productivité</strong> des clients grâce à
        l'utilisation de l'application de gestion de stockage.
      </li>
    </ul>
    <h3 id="44-description-de-toutes-les-fonctionnalités-attendues">
      4.4. Description de toutes les fonctionnalités attendues<!-- OK -->
    </h3>
    <!-- TODO: PlantUml integration:  $feature description > $feature.puml -->
    <h4 id="441-inscription">4.4.1. Inscription<!-- OK --></h4>
    <h5 id="4411-fonctionnalité--inscription">
      4.4.1.1. Fonctionnalité : Inscription<!-- OK -->
    </h5>
    <p>
      <em
        >&quot;En tant que futur utilisateur je veux pouvoir m'inscrire, afin de
        me créer un compte et de pouvoir accéder aux fonctionnalités du
        site.&quot;</em
      >
    </p>
    <p>
      <strong>Scénario 1 :</strong> Tentative d'accès à la page d'inscription
    </p>
    <ul>
      <li>Étant donné que je n'ai pas de compte utilisateur</li>
      <li>Et que je souhaite m'inscrire</li>
      <li>Et que je clique sur le bouton s'inscrire</li>
      <li>Alors j'accède à la page d'inscription</li>
      <li>Et je suis redirigé sur la page d'inscription</li>
    </ul>
    <p>
      <strong>Scénario 2 :</strong> Tentative d'inscription depuis la page
      d'inscription en rentrant tous les champs demandés
    </p>
    <ul>
      <li>Étant donné que j’accède à la page d’inscription</li>
      <li>Et que je souhaite m’inscrire</li>
      <li>Et que j’indique les champs demandés</li>
      <li>Et que j’appuie sur le bouton &quot;s'inscrire&quot;</li>
      <li>Alors je suis inscrit</li>
      <li>
        Et je suis redirigé sur la page d’ajout d’une catégorie de mon compte
      </li>
    </ul>
    <p>
      <strong>Scénario 3 :</strong> Tentative d'inscription depuis la page
      d'inscription en rentrant tous les champs obligatoires
    </p>
    <ul>
      <li>Étant donné que j’accède à la page d’inscription</li>
      <li>Et que je souhaite m’inscrire</li>
      <li>Et que j’indique les champs demandés</li>
      <li>Et que j’appuie sur le bouton &quot;s'inscrire&quot;</li>
      <li>Alors je suis inscrit</li>
      <li>
        Et je suis redirigé sur la page d’ajout d’une catégorie de mon compte
      </li>
    </ul>
    <p>
      <strong>Scénario 4 :</strong> Tentative d'inscription en omettant un champ
      obligatoire
    </p>
    <ul>
      <li>Étant donné que j’accède à la page d’inscription</li>
      <li>Et que je souhaite m’inscrire</li>
      <li>Et que j’omet un champ obligatoire</li>
      <li>Et que j’appuie sur le bouton &quot;s'inscrire&quot;</li>
      <li>Alors une erreur s’inscrit en dessous du champ obligatoire</li>
      <li>Et je reste sur la page d’inscription</li>
    </ul>
    <p>
      <strong>Scénario 5 :</strong> Tentative d'inscription en omettant un email
      déjà valide
    </p>
    <ul>
      <li>Étant donné que j’accède à la page d’inscription</li>
      <li>Et que je souhaite m’inscrire</li>
      <li>Et que j’indique un email déjà valide</li>
      <li>Et que j’appuie sur le bouton &quot;s'inscrire&quot;</li>
      <li>Alors une erreur s’inscrit en dessous du champ email</li>
      <li>Et je reste sur la page d’inscription</li>
    </ul>
    <p>
      <strong>Scénario 6 :</strong> Tentative d'inscription en ne respectant pas
      les consignes de création du mot de passe
    </p>
    <ul>
      <li>Étant donné que j’accède à la page d’inscription</li>
      <li>Et que je souhaite m’inscrire</li>
      <li>Et que j’indique les champs obligatoires/demandés</li>
      <li>
        Et que je ne respecte pas les consignes de création du mot de passe
      </li>
      <li>Et que j’appuie sur le bouton &quot;s'inscrire&quot;</li>
      <li>Alors une erreur s’inscrit en dessous du mot de passe</li>
      <li>Et je reste sur la page d’inscription</li>
    </ul>
    <h4 id="442-authentification">4.4.2. Authentification<!-- OK --></h4>
    <h5 id="4421-fonctionnalité--authentification">
      4.4.2.1. Fonctionnalité : Authentification<!-- OK -->
    </h5>
    <p>
      <em
        >&quot;En tant qu'utilisateur je veux pouvoir m'authentifier, afin
        d'accéder à mon compte.&quot;</em
      >
    </p>
    <p>
      <strong>Scénario 1 :</strong> Tentative d'authentification d'un compte
      valide
    </p>
    <ul>
      <li>
        Étant donné que je dispose d'un compte utilisateur attaché a mon adresse
        email
      </li>
      <li>Quand j'accède à la page d'accueil du site</li>
      <li>Et je saisis mon email dans le champ email</li>
      <li>Et que je saisis mon mot de passe dans le champ mot de passe</li>
      <li>
        Et que je clique sur le bouton &quot;connexion&quot; du formulaire
      </li>
      <li>Alors je suis authentifié sur le site</li>
      <li>Et je suis redirigé vers la page d'accueil</li>
    </ul>
    <p>
      <strong>Scénario 2 :</strong> Tentative d'authentification sans compte
      utilisateur
    </p>
    <ul>
      <li>Étant donné que je ne dispose pas d'un compte utilisateur</li>
      <li>Et que je saisi une adresse mail non valide dans le champ email</li>
      <li>
        Et que je saisi un mot de passe non valide dans le champ mot de passe
      </li>
      <li>
        Et que je clique sur le bouton &quot;connexion&quot; du formulaire
      </li>
      <li>
        Alors le site m'affiche un message d'erreur me disant que mon email ou
        mon mot de passe ne correspondent pas à un compte utilisateur
      </li>
      <li>Et je reste sur la page d'accueil du site</li>
    </ul>
    <p>
      <strong>Scénario 3 :</strong> Tentative d'authentification avec un compte
      valide mais une erreur dans le champ email
    </p>
    <ul>
      <li>Étant donné que je dispose d'un compte utilisateur</li>
      <li>Et que je saisi une adresse mail non valide dans le champ email</li>
      <li>Et que je saisi un mot de passe valide dans le champ mot de passe</li>
      <li>
        Et que je clique sur le bouton &quot;connexion&quot; du formulaire
      </li>
      <li>
        Alors le site m'affiche un message d'erreur me disant que mon email ou
        mon mot de passe ne correspondent pas à un compte utilisateur
      </li>
      <li>Et je reste sur la page d'accueil du site</li>
    </ul>
    <p>
      <strong>Scénario 4 :</strong> Tentative d'authentification avec un compte
      valide mais une erreur dans le champ mot de passe
    </p>
    <ul>
      <li>Étant donné que je dispose d'un compte utilisateur</li>
      <li>Et que je saisi mon email valide dans le champs email</li>
      <li>
        Et que je saisi un mot de passe non valide dans le champ mot de passe
      </li>
      <li>
        Et que je clique sur le bouton &quot;connexion&quot; du formulaire
      </li>
      <li>
        Alors le site m'affiche un message d'erreur me disant que mon mon mot de
        passe est erroné
      </li>
    </ul>
    <h4 id="443-catégorie">4.4.3. Catégorie<!-- OK --></h4>
    <h5 id="4431-fonctionnalité-ajouter-une-catégorie">
      4.4.3.1. Fonctionnalité: Ajouter une catégorie<!-- OK -->
    </h5>
    <p>
      <em
        >&quot;En tant qu'utilisateur, je veux ajouter une catégorie afin de
        pouvoir la gérer (modifier, supprimer, info).&quot;</em
      >
    </p>
    <p><strong>Scénario 1 :</strong> Ajouter une catégorie</p>
    <ul>
      <li>Étant donné que j'accède à la page d'accueil de mon compte</li>
      <li>Et que j'appuie sur le bouton ajouter une catégorie</li>
      <li>Alors j'ajoute une catégorie</li>
      <li>Et je suis redirigé sur la page info de la catégorie</li>
    </ul>
    <h5 id="4432-fonctionnalité-supprimer-une-catégorie">
      4.4.3.2. Fonctionnalité: Supprimer une catégorie<!-- OK -->
    </h5>
    <p>
      <em
        >&quot;En tant qu'utilisateur, je veux supprimer une catégorie car je
        n'en ai plus besoin.&quot;</em
      >
    </p>
    <p><strong>Scénario 1 :</strong> Supprimer une catégorie</p>
    <ul>
      <li>Étant donné que j'accède à la page info d'une catégorie</li>
      <li>Et qu'elle ne contient pas de produit</li>
      <li>Et que j'appuie sur le bouton supprimer la catégorie</li>
      <li>Alors je supprime la catégorie</li>
      <li>Et je suis redirigé sur la page d'accueil de mon compte</li>
    </ul>
    <h5 id="4433-fonctionnalité-modifier-une-catégorie">
      4.4.3.3. Fonctionnalité: Modifier une catégorie<!-- OK -->
    </h5>
    <p>
      <em
        >&quot;En tant qu’utilisateur, je veux pouvoir modifier une catégorie
        afin de la faire évoluer en fonction des mes besoins.&quot;</em
      >
    </p>
    <p><strong>Scénario 1 :</strong> Modifier le nom de ma catégorie</p>
    <ul>
      <li>Étant donné que j'accède à la page d'information d'une catégorie</li>
      <li>Et que je clique sur le nom de la catégorie</li>
      <li>Et que je change celui-ci</li>
      <li>Et que je clique sur le bouton valider les modifications</li>
      <li>Alors j'ai modifié le nom de ma catégorie</li>
      <li>
        Et je suis redirigé vers la page d'information de cette catégorie (qui a
        été mise à jour)
      </li>
    </ul>
    <p><strong>Scénario 2 :</strong> Modifier la description de ma catégorie</p>
    <ul>
      <li>Étant donné que j'accède à la page d'information d'une catégorie</li>
      <li>Et que je clique sur la description de la catégorie</li>
      <li>Et que je change celle-ci</li>
      <li>Et que je clique sur le bouton valider les modifications</li>
      <li>Alors j'ai modifié le nom de ma catégorie</li>
      <li>
        Et je suis redirigé vers la page d'information de cette catégorie (qui a
        été mise à jour)
      </li>
    </ul>
    <h5 id="4434-fonctionnalité-accéder-aux-informations-dune-catégorie">
      4.4.3.4. Fonctionnalité: Accéder aux informations d'une catégorie<!-- OK -->
    </h5>
    <p>
      <em
        >&quot;En tant qu'utilisateur, je veux pouvoir accéder aux informations
        de mes catégories afin d'y voir les différents types de
        produit.&quot;</em
      >
    </p>
    <p>
      <strong>Scénario 1 :</strong> Accéder aux informations d'une catégorie
      depuis le menu
    </p>
    <ul>
      <li>
        Étant donné que j'accède à n'importe quel page de mon compte (accueil,
        info catégorie, info produit)
      </li>
      <li>
        Et que je clique sur la catégorie qui m'intéresse (afficher dans le
        menu)
      </li>
      <li>Alors j'accède à la page info de cette catégorie</li>
      <li>Et je suis redirigé2 vers la page info de celle-ci</li>
    </ul>
    <h4 id="444-produit">4.4.4. Produit<!-- OK --></h4>
    <h5 id="4441-fonctionnalité-ajouter-un-produit">
      4.4.4.1. Fonctionnalité: Ajouter un produit<!-- OK -->
    </h5>
    <p>
      <em
        >&quot;En tant qu'utilisateur, je veux ajouter un produit afin de
        pouvoir la gérer (modifier, supprimer,info).&quot;</em
      >
    </p>
    <p>
      <strong>Scénario 1:</strong> Ajouter un produit depuis une page info
      catégorie
    </p>
    <ul>
      <li>Étant donné que j'accède à la page info d'une catégorie</li>
      <li>Et que je clique sur le bouton ajouter un produit</li>
      <li>Alors j'ajoute un produit</li>
      <li>Et je suis redirigé vers la page info du produit</li>
    </ul>
    <h5 id="4442-fonctionnalité-modifier-un-produit">
      4.4.4.2. Fonctionnalité: Modifier un produit<!-- OK -->
    </h5>
    <p>
      <em
        >&quot;En tant qu’utilisateur, je veux pouvoir modifier un produit afin
        de la faire évoluer en fonction des mes besoins.&quot;</em
      >
    </p>
    <p>
      <strong>Scénario 1:</strong> Modifier un produit depuis une page info
      produit
    </p>
    <ul>
      <li>Étant donné que j'accède à la page info du produit</li>
      <li>Et que je clique sur l'information que je veux modifier</li>
      <li>Et que je clique sur le bouton valider les modifications</li>
      <li>Alors j'ai modifié le produit</li>
      <li>Et je reste sur la page info du produit (mis à jour)</li>
    </ul>
    <h5 id="4443-fonctionnalité-supprimer-un-produit">
      4.4.4.3. Fonctionnalité: Supprimer un produit<!-- OK -->
    </h5>
    <p>
      <em
        >&quot;En tant qu'utilisateur, je veux supprimer un produit car je n'en
        ai plus besoin.&quot;</em
      >
    </p>
    <p>
      <strong>Scénario 1:</strong> Supprimer un produit depuis une page info
      produit
    </p>
    <ul>
      <li>Étant donné que j'accède à la page information du produit</li>
      <li>Et que je clique sur le bouton suppression du produit</li>
      <li>
        Et que la fenêtre de validation de la suppression du produit s'affiche
      </li>
      <li>Et que je clique sur le bouton valider la suppression</li>
      <li>Alors je supprime un produit</li>
      <li>
        Et je suis redirigé sur la page info catégorie qui contenait le produit
      </li>
    </ul>
    <h5 id="4444-fonctionnalité-accéder-aux-informations-dun-produit">
      4.4.4.4. Fonctionnalité: Accéder aux informations d'un produit<!-- OK -->
    </h5>
    <p>
      <em
        >&quot;En tant qu'utilisateur, je veux pouvoir accéder au informations
        de mes produits afin d'y relever les différentes valeurs.&quot;</em
      >
    </p>
    <p>
      <strong>Scénario 1:</strong> Accéder aux informations d'un produit depuis
      la page information de la catégorie contenant le produit
    </p>
    <ul>
      <li>Étant donné que j'accède à la page information d'une catégorie</li>
      <li>Et que je clique sur le produit dont je veux les informations</li>
      <li>Alors j'accède à ces informations</li>
      <li>Et je suis redirigé sur la page information de ce produit</li>
    </ul>
    <p>
      <strong>Scénario 2:</strong> Accéder aux informations d'un produit depuis
      la barre de recherche en écrivant le nom d'un produit
    </p>
    <ul>
      <li>
        Étant donné que je suis sur n'importe quel page de mon compte
        utilisateur
      </li>
      <li>Et que je clique sur la barre de recherche</li>
      <li>Et que j'écris le nom d'un produit</li>
      <li>Et que je clique sur la touche entrée de mon clavier</li>
      <li>
        Et que j'accède à la page m'indiquant les produits trouvé selon ma
        recherche
      </li>
      <li>Et que je clique sur le produit voulu</li>
      <li>Alors j'accède à la page information du produit</li>
      <li>Et je suis redirigé sur la page information du produit</li>
    </ul>
    <p>
      <strong>Scénario 3:</strong> Accéder aux informations d'un produit depuis
      la barre de recherche en écrivant la référence d'un produit
    </p>
    <ul>
      <li>
        Étant donné que je suis sur n'importe quel page de mon compte
        utilisateur
      </li>
      <li>Et que je clique sur la barre de recherche</li>
      <li>Et que j'écris la référence d'un produit</li>
      <li>Et que je clique sur la touche entrée de mon clavier</li>
      <li>
        Et que j'accède à la page m'indiquant les produits trouvé selon ma
        recherche
      </li>
      <li>Et que je clique sur le produit voulu</li>
      <li>Alors j'accède à la page information du produit</li>
      <li>Et je suis redirigé sur la page information du produit</li>
    </ul>
    <p>
      <strong>Scénario 4:</strong> Accéder aux informations d'un produit depuis
      la barre de recherche en écrivant le début du nom (1 lettre obligatoire)
    </p>
    <ul>
      <li>
        Étant donné que je suis sur n'importe quel page de mon compte
        utilisateur
      </li>
      <li>Et que je clique sur la barre de recherche</li>
      <li>
        Et que j'écris au minimum la première lettre du nom de mon produit
      </li>
      <li>Et que je clique sur la touche entrée de mon clavier</li>
      <li>
        Et que j'accède à la page m'indiquant les produits trouvé selon ma
        recherche
      </li>
      <li>Et que je clique sur le produit voulu</li>
      <li>Alors j'accède à la page information du produit</li>
      <li>Et je suis redirigé sur la page information du produit</li>
    </ul>
    <p>
      <strong>Scénario 5:</strong> Accéder aux informations d'un produit depuis
      la barre de recherche en écrivant le début de la référence d'un produit (1
      lettre/chiffre obligatoire)
    </p>
    <ul>
      <li>
        Étant donné que je suis sur n'importe quel page de mon compte
        utilisateur
      </li>
      <li>Et que je clique sur la barre de recherche</li>
      <li>
        Et que j'écris au minimum la première lettre/chiffre de la référence de
        mon produit
      </li>
      <li>Et que je clique sur la touche entrée de mon clavier</li>
      <li>
        Et que j'accède à la page m'indiquant les produits trouvé selon ma
        recherche
      </li>
      <li>Et que je clique sur le produit voulu</li>
      <li>Alors j'accède à la page information du produit</li>
      <li>Et je suis redirigé sur la page information du produit</li>
    </ul>
    <p>
      <strong>Scénario 6:</strong> Échec d'accès aux informations d'un produit
      depuis la barre de recherche
    </p>
    <ul>
      <li>
        Étant donné que je suis sur n'importe quel page de mon compte
        utilisateur
      </li>
      <li>Et que je clique sur la barre de recherche</li>
      <li>
        Et que j'écris au minimum la première lettre/chiffre du nom ou référence
        de mon produit
      </li>
      <li>Et que je clique sur la touche entrée de mon clavier</li>
      <li>
        Mais que je me suis trompé en écrivant/ou que mon produit n'existe pas
      </li>
      <li>Et qu'un message d'erreur s'affiche dans une fenêtre</li>
      <li>Et que je clique sur ok</li>
      <li>Et je reste sur la page où j'étais avant mon action</li>
    </ul>
    <h3 id="45-délais">4.5. Délais<!-- OK --></h3>
    <p>
      La date prévisionnelle de remise du livrable est fixée au
      <strong>4 novembre 2022</strong>.
    </p>
    <div style="page-break-after: always"></div>
    <h2 id="5-gestion-de-projet">5. Gestion de projet<!-- OK --></h2>
    <ul>
      <li>Planning et suivi</li>
      <li>Environnement humain et technique</li>
      <li>Objectif qualité</li>
    </ul>
    <p>
      Pour la gestion du projet, nous avons utilisé une
      <strong>méthode Agile</strong>.
    </p>
    <p>
      La méthode Agile se concentre sur la flexibilité et la collaboration pour
      <strong>livrer rapidement</strong> en répondant aux besoins changeants des
      clients, en utilisant des <strong>itérations courtes</strong> et une
      <strong>communication efficace</strong>.
    </p>
    <ul>
      <li>
        <strong>Besoin et attentes du client</strong> sont la priorité
        principale.
      </li>
      <li><strong>Adaptation</strong> rapide aux changements.</li>
      <li>
        <strong>Livraison fréquente</strong> pour obtenir un feedback rapide.
      </li>
      <li>
        <strong>Travail en équipe</strong> (équipe de développement, parties
        prenantes, clients).
      </li>
      <li>
        <strong>Individus et interactions</strong> plus importants que les
        processus et les outils.
      </li>
      <li><strong>Logiciel opérationnel</strong> plutôt qu'exhaustif.</li>
      <li>
        <strong>Approche de face-à-face</strong> pour une communication
        efficace.
      </li>
      <li><strong>Suivi de l'avancement</strong> concret et visuel.</li>
      <li>
        <strong>Amélioration continue</strong> pour augmenter la qualité et la
        productivité.
      </li>
    </ul>
    <h3 id="51-planning-et-suivi">5.1. Planning et suivi<!-- OK --></h3>
    <p>
      Pour le planning et le suivi utilisé la méthode Agile
      <strong>Scrum</strong>. Elle se base sur des itérations courtes appelées
      <strong>sprints</strong>, dans lesquelles les membres de l'équipe sont
      cross-fonctionnels et auto-organisés.
    </p>
    <p>
      Nous avons choisi pour ce faire d'utiliser <strong>Trello</strong> (ref.
      <a href="https://trello.com">Trello</a>). Nous y avons mis le
      <strong>détail des fonctionnalités</strong> et pour chaque fonctionnalité
      une <strong>check list</strong> à remplir contenant :
    </p>
    <ul>
      <li>Maquettage</li>
      <li>Front-end</li>
      <li>Back-end</li>
      <li>Test unitaire</li>
      <li>Test fonctionnel</li>
    </ul>
    <p>
      Nous nous sommes réparti les tâches en début de projet. Nous avons ensuite
      réalisé quotidiennement une
      <strong>réunion de synchronisation</strong> (Daily scrum en anglais) afin
      de planifier les tâches de la journée, et d’échanger sur celles de la
      veille. Nous avons fréquemment eu de courtes
      <strong>réunions de collaboration</strong> sur l'ensemble du projet
      (gestion du Backlog, rétrospective, amélioration de processus, projection
      et planification...).
    </p>
    <h3 id="52-environnement-humain-et-technique">
      5.2. Environnement humain et technique<!-- OK -->
    </h3>
    <h4 id="521-environnement-humain">
      5.2.1. Environnement humain<!-- OK -->
    </h4>
    <p>
      Ce projet a été réalisé dans son intégralité par
      <strong>Thibault HULAUX</strong> et <strong>Lylou PONSING</strong>.
    </p>
    <h4 id="522-environnement-technique">
      5.2.2. Environnement technique<!-- OK -->
    </h4>
    <p>
      Pour ce projet, nous avons bénéficié chacun du prêt d'un ordinateur ASUS
      ExpertBook en tant que station principale de développement :
    </p>
    <p><strong>ASUS ExpertBook - station de développement Windows</strong></p>
    <!-- cSpell:disable -->
    <table>
      <thead>
        <tr>
          <th></th>
          <th>Caractéristiques techniques</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>CPU</td>
          <td>quad-core Intel Core i7-1165GZ 64-bit @ 2.8GHz</td>
        </tr>
        <tr>
          <td>RAM</td>
          <td>8GB DDR4</td>
        </tr>
        <tr>
          <td>Connectivity</td>
          <td>
            Gigabit Ethernet, dual-band 802.11ac wireless, Bluetooth 5.0, BLE, 3
            USB 3.0 ports, USB 2.0 ports, 1 HDMI port (up to 4kp60 supported), 1
            VGA port, 3.5mm analogue audio-video jack and a micro-SD card reader
          </td>
        </tr>
        <tr>
          <td>Storage</td>
          <td>WDC SN530 512GB</td>
        </tr>
        <tr>
          <td>Video Output</td>
          <td>1 HDMI port (up to 4kp60 supported), 1 VGA port</td>
        </tr>
        <tr>
          <td>Display</td>
          <td>15.6&quot; Intel Iris Xe Graphics (1920 x 1080 x 60)</td>
        </tr>
        <tr>
          <td>OS</td>
          <td>Windows 10 Professionnal 64 bits</td>
        </tr>
      </tbody>
    </table>
    <!-- cSpell:enable -->
    <p>
      Afin de procéder à la conception des infrastructures, aux tests
      d’intégrations ainsi qu'aux tests de déploiement, il a également été
      nécessaire d'y adjoindre un couple de Raspberry Pi :
    </p>
    <p>
      <strong
        >Raspberry Pi 4 - serveur polyvalent (docker engine, gitlab-runner,
        VMware ESXi)</strong
      >
    </p>
    <!-- cSpell:disable -->
    <table>
      <thead>
        <tr>
          <th></th>
          <th>Caractéristiques techniques</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>CPU</td>
          <td>
            Broadcom BCM2711, quad-core Cortex-A72 (ARM v8) 64-bit SoC @ 1.5GHz
          </td>
        </tr>
        <tr>
          <td>RAM</td>
          <td>4GB LPDDR4-3200 SDRAM</td>
        </tr>
        <tr>
          <td>Connectivity</td>
          <td>
            Gigabit Ethernet, dual-band 802.11ac wireless, Bluetooth 5.0, BLE, 2
            USB 3.0 ports, 2 USB 2.0 ports, 2 micro-HDMI ports (up to 4kp60
            supported), 3.5mm analogue audio-video jack, and a 40-pin GPIO
            header
          </td>
        </tr>
        <tr>
          <td>Storage</td>
          <td>
            microSD card slot for loading operating system and data storage
          </td>
        </tr>
        <tr>
          <td>Video Output</td>
          <td>
            2 micro-HDMI ports (up to 4kp60 supported), 2-lane MIPI DSI display
            port, 2-lane MIPI CSI camera port, 4-pole stereo audio and composite
            video port
          </td>
        </tr>
        <tr>
          <td>Power</td>
          <td>
            5V DC via USB-C connector (minimum 3A*), GPIO header (minimum 3A*),
            or PoE (enabled with separate PoE HAT)
          </td>
        </tr>
      </tbody>
    </table>
    <!-- cSpell:enable -->
    <p><strong>Raspberry Pi 400 - station de développement Linux</strong></p>
    <!-- cSpell:disable -->
    <table>
      <thead>
        <tr>
          <th></th>
          <th>Caractéristiques techniques</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>CPU</td>
          <td>
            Broadcom BCM2711, quad-core Cortex-A72 (ARM v8) 64-bit SoC @ 1.8GHz
          </td>
        </tr>
        <tr>
          <td>RAM</td>
          <td>4GB LPDDR4-3200 SDRAM</td>
        </tr>
        <tr>
          <td>Connectivity</td>
          <td>
            Gigabit Ethernet, dual-band 802.11ac wireless, Bluetooth 5.0, BLE, 2
            USB 3.0 ports, 2 USB 2.0 ports, 2 micro-HDMI ports (up to 4kp60
            supported), 3.5mm analogue audio-video jack, and a 40-pin GPIO
            header
          </td>
        </tr>
        <tr>
          <td>Storage</td>
          <td>
            microSD card slot for loading operating system and data storage
          </td>
        </tr>
        <tr>
          <td>Video Output</td>
          <td>
            2 micro-HDMI ports (up to 4kp60 supported), 2-lane MIPI DSI display
            port, 2-lane MIPI CSI camera port, 4-pole stereo audio and composite
            video port
          </td>
        </tr>
        <tr>
          <td>Power</td>
          <td>
            5V DC via USB-C connector (minimum 3A*), GPIO header (minimum 3A*),
            or PoE (enabled with separate PoE HAT)
          </td>
        </tr>
        <tr>
          <td>Keyboard</td>
          <td>78 key compact keyboard with a US layout</td>
        </tr>
      </tbody>
    </table>
    <!-- cSpell:enable -->
    <p>
      Par soucis d’exhaustivité, nous avons également intégré à l'environnement
      technique une station de développement Mac OS :
    </p>
    <p><strong>MacBook Pro - station de développement Mac OS</strong></p>
    <!-- cSpell:disable -->
    <table>
      <thead>
        <tr>
          <th></th>
          <th>Caractéristiques techniques</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>CPU</td>
          <td>
            6-core Intel Core i7 with base clock speed of 2.2GHz and turbo boost
            up to 4.8GHz
          </td>
        </tr>
        <tr>
          <td>RAM</td>
          <td>16GB of DDR4 RAM</td>
        </tr>
        <tr>
          <td>Connectivity</td>
          <td>
            Gigabit Ethernet, dual-band 802.11ac wireless, Bluetooth 5.0, Four
            Thunderbolt 3 ports, 3.5mm headphone jack, SDXC card slot
          </td>
        </tr>
        <tr>
          <td>Storage</td>
          <td>1TB solid-state drive (SSD)</td>
        </tr>
        <tr>
          <td>Display</td>
          <td>
            15.4-inch Retina display with a resolution of 2880 x 1800 pixels
          </td>
        </tr>
        <tr>
          <td>Graphics</td>
          <td>Radeon Pro 555X with 4GB of GDDR5 memory</td>
        </tr>
        <tr>
          <td>OS</td>
          <td>MacOS Monterey (version 10.15)</td>
        </tr>
      </tbody>
    </table>
    <!-- cSpell:enable -->
    <p>
      En dehors de ces éléments matériels,
      <strong
        >l'ensemble du projet a été réalisé avec la contrainte suivante : tous
        les outils, logiciels et hébergements doivent être utilisables
        gratuitement</strong
      >.
    </p>
    <p>
      Ceci a eu pour effet de nous interdire l'utilisation, ou de limiter
      fortement l’accès aux services payants des différents prestataires
      connexes (Amazon Web Services, Google Cloud, Azure Services, GitLab,
      Jira...).
    </p>
    <h3 id="53-objectif-qualité">5.3. Objectif qualité<!-- OK --></h3>
    <p>Les objectifs qualité sont:</p>
    <ul>
      <li>
        toutes les fonctionnalités doivent <strong>être réalisées</strong>.
      </li>
      <li>
        toutes les fonctionnalités doivent
        <strong>être assez simples pour être comprises par tous</strong>.
      </li>
      <li>
        toutes les fonctionnalités doivent
        <strong>respecter les standards de l'industrie</strong> (technologies,
        sécurité, fiabilité)
      </li>
    </ul>
    <div style="page-break-after: always"></div>
    <h2 id="6-spécifications-fonctionnelles-du-projet">
      6. Spécifications fonctionnelles du projet<!-- OK -->
    </h2>
    <ul>
      <li>Front office</li>
      <li>Back office</li>
      <li>Arborescence</li>
      <li>Aperçu des contenus</li>
    </ul>
    <h3 id="61-front-office">6.1. Front office<!-- OK --></h3>
    <p>
      Ce projet contient une <strong>landing page avec une animation</strong>.
      Une page de <strong>connexion et d’inscription</strong>.
    </p>
    <p>
      Une fois connecté sur toutes les pages, il y aura une aside qui contient
      la <strong>liste des catégories</strong> créées par l’utilisateur afin
      qu’il puisse y accéder d’où il veut, ainsi qu’une
      <strong>barre de recherche</strong> afin d’accéder au produit depuis
      n’importe quelle page et un
      <strong>menu déroulant concernant l’utilisateur</strong>.
    </p>
    <p>
      Le site contient une page d’<strong>ajout de catégorie</strong>, une
      <strong>page informative</strong> d’une catégorie et une page de
      <strong>modification d’une catégorie</strong>.
    </p>
    <p>
      Sur la page informative d’une catégorie, il y a la
      <strong>liste des produits que contient la catégorie</strong>. Les
      produits sont représentés par des boutons. Si l’utilisateur
      <strong>clique</strong> dessus il atterrira sur la
      <strong>page d’information du produit</strong>. Il y aura aussi une page
      de <strong>modification du produit</strong> qui sera accessible à partir
      des informations du produit.
    </p>
    <h4 id="611-landing-page">6.1.1. Landing page<!-- OK --></h4>
    <p>
      La landing page a une <strong>interface stylisée différemment</strong> du
      reste du site. Une landing page se doit d’être attractive et de pousser
      l’utilisateur à utiliser le produit ou le service qu’elle essaie de
      vendre.
    </p>
    <p>
      Pour la landing page, nous avons fait le choix de faire une
      <strong>animation qui s’active une fois</strong> au lancement de la page.
    </p>
    <p>
      Cette animation comporte trois boîtes qui s’ouvrent et qui se referment.
      Pendant que la boite s’ouvre, il y a 4 petites boîtes qui descendent
      jusqu’à se retrouver dans les grandes boîtes. Les grandes boîtes
      symbolisent les catégories et les petites boîtes symbolisent les produits.
    </p>
    <p>
      Sur la landing page l’utilisateur peut
      <strong>accéder aux espaces d’inscription et de connexion</strong>.
    </p>
    <h4 id="612-inscription-et-connexion">
      6.1.2. Inscription et connexion<!-- OK -->
    </h4>
    <p>
      Les espaces de connexion et d’inscription sont accessibles à partir du
      <strong>header de la landing page</strong>. Comme fait
      conventionnellement, tout à droite on retrouve en premier l’inscription et
      ensuite la connexion.
    </p>
    <p>
      La page de connexion contient le label : email avec son input, ainsi que
      le label : mot de passe avec son input.
    </p>
    <p>
      Sur la landing page, l’utilisateur peut cliquer sur
      <strong>se connecter</strong> et à gauche <strong>s’inscrire</strong>.
    </p>
    <h4 id="613-catégories">6.1.3. Catégories<!-- OK --></h4>
    <h5 id="6131-menu-catégorie">6.1.3.1. Menu catégorie<!-- OK --></h5>
    <p>
      Une fois connecté, l’utilisateur aura accès à un
      <strong>menu disposé à gauche de l’interface</strong> et qui sera
      <strong>disponible sur toutes les pages</strong> du site.
    </p>
    <p>
      Ce menu contient une <strong>liste des catégories</strong> que
      l’utilisateur aura créé au préalable. Pour chaque catégorie, un lien sera
      créé avec comme valeur le nom que l’utilisateur lui aura donné.
    </p>
    <p>
      Au survol du bouton, le bouton changera de couleur afin d’indiquer à
      l’utilisateur qu’il s’agit d’un lien cliquable. Ce lien dirige vers la
      <strong>page informative de la catégorie</strong>.
    </p>
    <h5 id="6132-ajout-dune-catégorie">
      6.1.3.2. Ajout d’une catégorie<!-- OK -->
    </h5>
    <p>
      Quand l’utilisateur se sera connecté, la première page du site auquel il
      aura accès est la page d’ajout d’une catégorie.
    </p>
    <p>
      Sur cette page, l’utilisateur devra
      <strong>indiquer le nom de la catégorie ainsi que sa description</strong>
      puis il devra ajouter la catégorie en cliquant sur le bouton
      correspondant.
    </p>
    <p>
      Lorsque l’utilisateur ajoute une catégorie, elle est
      <strong>directement visible dans le menu catégorie</strong>.
    </p>
    <h5 id="6133-information-et-modification-dune-catégorie">
      6.1.3.3. Information et modification d’une catégorie<!-- OK -->
    </h5>
    <p>
      Une fois que l’utilisateur a accès à la page informative de la catégorie,
      il peut cliquer sur le bouton modifier la catégorie. En cliquant sur ce
      bouton l’utilisateur est redirigé vers la page de
      <strong>modification de la catégorie</strong>. Il peut
      <strong
        >modifier les champs <code>nom</code> et
        <code>description</code></strong
      >
      et pour valider les modifications, l’utilisateur devra cliquer sur le
      bouton <strong>valider les modifications</strong>.
    </p>
    <h5 id="6134-suppression-dune-catégorie">
      6.1.3.4. Suppression d’une catégorie<!-- OK -->
    </h5>
    <p>
      Sur la <strong>page de modification de la catégorie</strong>,
      l’utilisateur devra <strong>cliquer sur supprimer</strong> pour supprimer
      la catégorie.
    </p>
    <h4 id="614-produits">6.1.4. Produits<!-- OK --></h4>
    <h5 id="6141-information-produit">
      6.1.4.1. Information produit<!-- OK -->
    </h5>
    <p>
      L’utilisateur peut accéder aux informations d’un produit de deux manières
      :
    </p>
    <ul>
      <li>
        Quand l’utilisateur arrive sur la
        <strong>page d’information d’une catégorie</strong>, il y a la liste des
        produits qui sont affichés. Si l’utilisateur
        <strong>clique sur le bouton indiquant le nom du produit</strong>, il
        est redirigé vers la page d’information du produit.
      </li>
      <li>
        Quand l’utilisateur recherche un produit,
        <strong>depuis la barre de recherche</strong>, il obtient une liste de
        produits correspondant à sa recherche. Si l’utilisateur
        <strong>clique sur un produit souhaité</strong> il atterrira sur la page
        d’information du produit.
      </li>
    </ul>
    <h5 id="6142-ajout-dun-produit">6.1.4.2. Ajout d’un produit<!-- OK --></h5>
    <p>
      Sur la <strong>page d’information de la catégorie</strong> contenant la
      liste des produits de celle-ci, si l’utilisateur clique sur ajouter un
      produit, il atterrira sur la page d’édition du produit.
    </p>
    <p>
      Il devra <strong>remplir les champs</strong> et appuyer sur le bouton
      ajouter pour <strong>valider l'ajout du produit</strong>.
    </p>
    <h5 id="6143-modifier-un-produit">
      6.1.4.3. Modifier un produit<!-- OK -->
    </h5>
    <p>
      Pour modifier le produit, l’utilisateur devra cliquer sur le bouton
      <strong>modifier le produit sur la page d’information du produit.</strong>
    </p>
    <p>
      Il sera redirigé vers la page de modification du produit, dans laquelle il
      pourra modifier les champs et <strong>valider les modifications</strong>.
    </p>
    <h5 id="6144-supprimer-un-produit">
      6.1.4.4. Supprimer un produit<!-- OK -->
    </h5>
    <p>
      Sur la <strong>page de modification d’un produit</strong>, l’utilisateur
      peut <strong>cliquer sur supprimer</strong> le produit pour supprimer le
      produit.
    </p>
    <h4 id="615-menu-user">6.1.5. Menu user<!-- OK --></h4>
    <p>
      Une fois l’utilisateur <strong>connecté</strong>, il pourra accéder au
      <strong>menu user</strong>. L’utilisateur devra
      <strong>cliquer sur le user ou son symbole</strong>. A partir de là un
      <strong>menu déroulant</strong> s’abaisse et l’utilisateur peut cliquer
      sur : modification du profil, modification du mot de passe ou déconnexion.
    </p>
    <h3 id="62-back-office">6.2. Back office<!-- OK --></h3>
    <p>
      La <strong>partie administration</strong> de l'interface de notre site de
      gestion de stock est conçue pour
      <strong>faciliter la gestion des données</strong> de l'application. Elle a
      été nécessaire pour l'elaboration et les tests de l'application. Elle est
      accessible uniquement aux utilisateurs ayant le
      <strong>rôle &quot;admin&quot;</strong>. Elle offre plusieurs 3 vues
      d'administrations : <strong>utilisateurs</strong>,
      <strong>catégories</strong> et <strong>produits</strong>.
    </p>
    <p>
      Les <strong>vues sont construites sous forme de tableau</strong>,
      affichant l'intégralité des entrées de la base de données, avec pour
      chaque entrée, des boutons &quot;éditer&quot; et &quot;supprimer&quot;.
      Cela permet aux utilisateurs de facilement
      <strong>mettre à jour ou supprimer les entrées</strong> de la table.
    </p>
    <p>
      La partie administration liste également toutes les clés de la table
      concernée et des tables jointes, ce qui permet aux utilisateurs de
      visualiser l'integralité des données en rapport avec la vue utilisée.
    </p>
    <p>
      Enfin, en bas de l'interface, on trouve une ligne de saisie pour permettre
      aux utilisateurs d'<strong>ajouter de nouvelles entrées</strong> à la
      table.
    </p>
    <p>
      Le système est conçu pour être <strong>extensible</strong>. Ainsi,
      d’autres rôles pourraient par la suite être rajoutés ainsi que d'autres
      fonctionnalités. Cela inclut des fonctionnalités comme la gestion des
      utilisateurs, des rapports, des alertes, etc.
    </p>
    <h3 id="63-arborescence">6.3. Arborescence<!-- OK --></h3>
    <p>
      Le diagramme de flux est utile dans la création de nouveaux processus
      métiers. Il permet d’identifier les éléments clés et de définir clairement
      le début et la fin. Modéliser un processus permet de gagner en qualité et
      en efficacité.
    </p>
    <p>
      <img
        src="file:///c:\Users\IDFORMATION\workspaces\doc-idformation\src\rapport\img\usecase-all-uml.png"
        alt="Use case diagram"
      />
    </p>
    <h3 id="64-aperçu-des-contenus">6.4. Aperçu des contenus<!-- OK --></h3>
    <h4 id="641-charte-graphique">6.4.1. Charte graphique<!-- OK --></h4>
    <p>
      <img
        src="file:///c:\Users\IDFORMATION\workspaces\doc-idformation\src\rapport\img\palette.png"
        alt="Charte graphique"
      />
    </p>
    <table>
      <thead>
        <tr>
          <th>Emplacement</th>
          <th>Couleur</th>
          <th>Explication</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Fond du site</td>
          <td>#f7f7f7</td>
          <td>
            Couleur claire, luminosité et propreté. Mise en avant des autres
            éléments.
          </td>
        </tr>
        <tr>
          <td>Aside et menu utilisateur</td>
          <td>#151515</td>
          <td>
            Couleur foncée, profondeur et contraste avec le fond du site. Mise
            en avant des éléments importants de ces zones.
          </td>
        </tr>
        <tr>
          <td>
            Éléments de la barre de recherche, de l'aside et du menu utilisateur
            (:hover)
          </td>
          <td>#0e2b9e</td>
          <td>
            Couleur bleue, dynamisme et de modernité. Mise en avant d'une action
            au survol.
          </td>
        </tr>
        <tr>
          <td>Validation</td>
          <td>#7feb15</td>
          <td>
            Couleur verte, confirmation. Montre clairement que l'action est
            effective.
          </td>
        </tr>
        <tr>
          <td>Suppression</td>
          <td>#eb6a44</td>
          <td>
            Couleur orange, urgence et attention. Mise en avant d'une action
            importante.
          </td>
        </tr>
        <tr>
          <td>Bouton d'information des produits et catégories</td>
          <td>#2c52eb</td>
          <td>
            Couleur bleue, montre la différence avec &quot;mise à jour&quot;.
          </td>
        </tr>
        <tr>
          <td>Bouton de mise à jour des produits et catégories</td>
          <td>#0e2b9e</td>
          <td>
            Couleur bleue qui permet de montrer clairement la différence entre
            cette action et celle de consultation.
          </td>
        </tr>
      </tbody>
    </table>
    <h4 id="642-maquette">6.4.2. Maquette<!-- OK --></h4>
    <p>
      Une maquette est un
      <strong>outil graphique utilisé pour prévisualiser l'apparence</strong>
      d'un site web ou d'une application avant sa mise en production. Il s'agit
      d'une <strong>représentation simplifiée</strong> de la structure et de la
      mise en page d'un site, qui permet de visualiser les éléments qui seront
      visibles sur toutes les pages.
    </p>
    <p>
      <img
        src="file:///c:\Users\IDFORMATION\workspaces\doc-idformation\src\rapport\img\mockup-auth.png"
        alt="welcome"
      />
    </p>
    <p>
      Cette maquette représente
      <strong>la page d’authentification du site</strong>. Le body de la
      maquette est conçu avec un fondu dégradé allant du blanc au bleu clair
      pour donner un look élégant et moderne.
    </p>
    <p>
      Le header comprend un <strong>logo de l'application</strong>, un bouton
      d'<strong>inscription</strong> et un bouton de <strong>connexion</strong>.
      Le logo est placé à gauche du header et les boutons d'inscription et de
      connexion sont placés à droite.
    </p>
    <p>
      Sous le header, il y a un formulaire de connexion qui comprend des champs
      pour saisir l'<strong>adresse email</strong> et le
      <strong>mot de passe</strong> de l'utilisateur. Les champs sont bien
      espacés et clairement étiquetés pour une
      <strong>utilisation facile</strong>. Il y a également des boutons
      d'inscription et de connexion pour permettre à l'utilisateur de s'inscrire
      ou de se connecter.
    </p>
    <p>
      Les formulaires sur les pages de connexion et d'inscription sont mis en
      valeur avec une bordure et une ombre qui les font ressortir.
    </p>
    <p>
      <img
        src="file:///c:\Users\IDFORMATION\workspaces\doc-idformation\src\rapport\img\mockup-desktop.png"
        alt="desktop"
      />
    </p>
    <p>
      Dans la maquette ci-dessus, les
      <strong>éléments présents sur toutes les pages</strong> pour les
      utilisateurs connectés incluent un header avec le logo de l'entreprise et
      un menu de <strong>gestion du profil</strong> utilisateur, un aside avec
      un menu pour <strong>gérer les produits et catégories</strong>, un footer
      avec des <strong>liens vers l'aide</strong>, les
      <strong>mentions légales</strong> et les
      <strong>coordonnées de l'entreprise</strong>, et une
      <strong>barre de recherche</strong> pour chercher des produits
      spécifiques.
    </p>
    <div style="page-break-after: always"></div>
    <h2 id="7-spécifications-techniques-du-projet">
      7. Spécifications techniques du projet
    </h2>
    <ul>
      <li>Langages</li>
      <li>Frameworks</li>
      <li>Versioning (gitlab/github)</li>
      <li>SGBD utilisé (MYSQL/PostgreSQL)</li>
      <li>Outils de maquettage</li>
      <li>Plateforme de développement</li>
      <li>Outils de conception de la documentation</li>
    </ul>
    <h3 id="71-langages">7.1. Langages<!-- OK --></h3>
    <h4 id="711-front-end">7.1.1. Front-end<!-- OK --></h4>
    <p>
      Nous avons choisi d'utiliser HTML, CSS et JavaScript pour développer le
      front-end de l'application pour les raisons suivantes :
    </p>
    <ul>
      <li>
        <strong>Accessibilité</strong> : HTML est utilisé pour structurer le
        contenu de l'application, ce qui facilite l'accessibilité pour les
        utilisateurs avec des besoins spécifiques. CSS permet de séparer la
        présentation de la structure, ce qui facilite la mise en forme et la
        personnalisation de l'apparence.
      </li>
      <li>
        <strong>Support du navigateur</strong> : HTML, CSS et JavaScript sont
        des technologies largement supportées par les navigateurs web, ce qui
        permet de déployer l'application sur une large gamme de plateformes et
        de navigateurs.
      </li>
      <li>
        <strong>Interactivité</strong> : JavaScript permet de rendre
        l'application interactive en ajoutant des fonctionnalités telles que des
        formulaires, des animations et des interactions utilisateur.
      </li>
      <li>
        <strong>Développement et maintenance</strong> : il existe une grande
        communauté de développeurs expérimentés qui travaillent avec ces
        technologies, il est donc facile de trouver des ressources pour le
        développement et la maintenance de l'application. Il existe également un
        grand nombre de bibliothèques et de frameworks qui facilitent le
        développement en HTML, CSS et JavaScript.
      </li>
      <li>
        <strong>Scalabilité</strong>: Il est possible de découper le code en
        composants réutilisables pour améliorer la scalabilité de l'application.
      </li>
    </ul>
    <p>
      En somme, HTML, CSS et JavaScript sont des
      <strong>technologies éprouvées</strong> qui permettent de créer des
      <strong>applications web accessibles</strong>,
      <strong>supportées par les navigateurs</strong>,
      <strong>interactives</strong> et
      <strong>faciles à développer et maintenir</strong>. Leur combinaison
      permet de créer des
      <strong>interfaces utilisateur riches et performantes</strong>.
    </p>
    <h5 id="7111-html">7.1.1.1. HTML<!-- EX --></h5>
    <p>
      Le <strong>HyperText Markup Language</strong>, abrégé HTML (ou HTML5 dans
      sa dernière version), est le langage standard conçu pour représenter des
      documents dans un navigateur web.
    </p>
    <p>
      C'est un <strong>langage de description</strong> de format de document qui
      se présente sous la forme d’un langage de balisage. Il est souvent assisté
      par des technologies telles que les feuilles de style en cascade (CSS) et
      le langage de programmation JavaScript.
    </p>
    <pre><code class="language-html">- addexemple
</code></pre>
    <h5 id="7112-css--sass">7.1.1.2. CSS / SASS<!-- OK --></h5>
    <p>
      Les <strong>feuilles de style en cascade</strong>, abrégé CSS de l'anglais
      Cascading Style Sheets, est un <strong>langage de description</strong> de
      la présentation des documents HTML et XML. Les standards définissant CSS
      sont publiés par le World Wide Web Consortium (W3C).
    </p>
    <p>
      Le <strong>Sass</strong> (Syntactically awesome stylesheets) est un
      <strong>langage de script préprocesseur</strong> qui est compilé ou
      <strong>interprété en CSS</strong> (Cascading Style Sheets). C'est qu'on
      appelle un <strong>métalangage imbriqué</strong>, car un CSS valide est un
      SCSS valide sans modification de syntaxe.
    </p>
    <p>
      Il permet d'utiliser une syntaxe (SCSS dans sa nouvelle version) qui
      utilise les mêmes séparateurs de blocs que le CSS mais en fournissant les
      mécanismes supplémentaires suivants : variables, imbrication, mixins et
      héritage des sélecteurs.
    </p>
    <p>
      Voici en exemple le fichier <code>welcome.css</code>, responsable de
      l'affichage de l'animation de la <strong>landing page</strong> :
    </p>
    <!-- cSpell:disable -->
    <pre><code class="language-css">
<span class="hljs-selector-class">.little-cube</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">40px</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">1px</span>;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">70px</span>;
  <span class="hljs-comment">/* Trigger animation (8s) once with slow start/stop */</span>
  <span class="hljs-attribute">animation</span>: move-little-cube <span class="hljs-number">8s</span> <span class="hljs-number">1</span> ease-in-out;
}

...

 <span class="hljs-comment">/* Key part of the animation */</span>
<span class="hljs-keyword">@keyframes</span> move-little-cube {
  <span class="hljs-number">0%</span> {
    <span class="hljs-attribute">top</span>: -<span class="hljs-number">370px</span>;
  }
  <span class="hljs-number">100%</span> {
    <span class="hljs-attribute">top</span>: <span class="hljs-number">70px</span>;
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0%</span>;
  }
}

</code></pre>
    <!-- cSpell:enable -->
    <h5 id="7113-javascript">7.1.1.3. JavaScript<!-- EX --></h5>
    <p>
      <strong>JavaScript</strong> est un
      <strong>langage de programmation</strong> de scripts principalement
      employé dans les pages web interactives et à ce titre est une partie
      essentielle des applications web. Il est également employé pour les
      serveurs Web avec l'utilisation par exemple de Node.js (Cf.
      <a href="#722-revealjs">reveal.js</a>).
    </p>
    <p>
      C'est un langage <strong>orienté objet à prototype</strong> : les bases du
      langage et ses principales interfaces sont fournies par des objets. C'est
      un langage extrêmement populaire, possédant le plus large écosystème grâce
      à son gestionnaire de dépendances npm.
    </p>
    <p>
      js -&gt; dev.js (context = mettre et enlever des classes sur le body afin
      de modifier le style de l’affichage en jouant avec les classes que
      contient le body).
    </p>
    <p>
      La couche applicative du front-end est volontairement légère, de manière a
      limiter les exécutions cote client. Voici néanmoins un extrait du fichier
      <code>dev.js</code>, qui permet d'intervenir sur le Document Object Model
      du HTML :
    </p>
    <!-- cSpell:disable -->
    <pre><code class="language-javascript">
<span class="hljs-keyword">function</span> <span class="hljs-title function_">openUser</span>(<span class="hljs-params"></span>) {
  <span class="hljs-comment">// Removed conflicting view</span>
  body.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">&#x27;openCategory&#x27;</span>);
  body.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">&#x27;openSearch&#x27;</span>);
  <span class="hljs-comment">//ajoute la classe &#x27;openUser&#x27; au body</span>
  body.<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">&#x27;openUser&#x27;</span>);
  <span class="hljs-comment">// body contains &#x27;openUser&#x27;</span>
  <span class="hljs-keyword">if</span>(body.<span class="hljs-property">classList</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-string">&#x27;openUser&#x27;</span>)=== <span class="hljs-literal">true</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(body.<span class="hljs-property">classList</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-string">&#x27;openUser&#x27;</span>));
  }
}

</code></pre>
    <!-- cSpell:enable -->
    <h4 id="712-back-end">7.1.2. Back-end<!-- OK --></h4>
    <p>
      Nous avons choisi d'utiliser Java, JSP, JSTL et SQL pour le back-end d'une
      application web basée sur le modèle MVC (Model-View-Controller) pour les
      raisons suivantes :
    </p>
    <ul>
      <li>
        <strong>Robustesse</strong> : Java est un langage de programmation
        populaire et robuste qui offre une grande flexibilité et une forte
        sécurité, il est donc idéal pour construire des applications de grande
        envergure.
      </li>
      <li>
        <strong>Plateforme indépendante</strong> : Java est une plateforme
        indépendante, cela permet de déployer l'application sur différentes
        plateformes telles que Windows, MacOS et Linux.
      </li>
      <li>
        <strong>Intégration facile avec les bases de données</strong> : Java
        offre un accès facile aux bases de données via JDBC (Java Database
        Connectivity) pour gérer les données de l'application.
      </li>
      <li>
        <strong>Respect du modèle</strong> : Java, JSP et JSTL sont tous
        compatibles avec l'architecture MVC, qui permet de séparer les
        différentes couches de l'application (modèle, vue et contrôleur) pour
        une meilleure organisation et une maintenance plus facile.
      </li>
      <li>
        <strong>JSP</strong> : JSP permet de générer dynamiquement des pages web
        en se basant sur des modèles prédéfinis.
      </li>
      <li>
        <strong>JSTL</strong> : JSTL facilite la manipulation des données dans
        les JSP. Il permet de définir des logiques dans les pages web, pour
        rendre les pages plus dynamiques.
      </li>
    </ul>
    <p>
      En somme, Java, JSP, JSTL et SQL sont des
      <strong>technologies éprouvées</strong> qui permettent de construire des
      applications web <strong>robustes</strong>, <strong>fiables</strong>,
      <strong>performantes</strong>, et <strong>facile à maintenir</strong>.
    </p>
    <p>
      Java permet de gérer les logiques métiers, JSP et JSTL de générer les
      pages web dynamiques, et SQL de gérer les données de l'application.
    </p>
    <p>
      Ces technologies sont particulièrement
      <strong>adaptées à une architecture MVC</strong>, et permettent de
      faciliter la gestion des données et la génération de pages web dynamiques.
    </p>
    <h5 id="7121-java">7.1.2.1. Java<!-- OK --></h5>
    <p>
      Java est un <strong>langage de programmation orienté objet</strong> de
      haut niveau, basé sur des classes, conçu pour avoir le moins de
      dépendances d'implémentation possible.
    </p>
    <p>
      Une particularité de Java est que les logiciels écrits dans ce langage
      sont
      <strong>compilés vers une représentation binaire</strong> intermédiaire
      qui peut être
      <strong>exécutée dans une machine virtuelle Java</strong> (JVM) en faisant
      abstraction du système d'exploitation.
    </p>
    <p>
      Java permet de développer des applications client-serveur. Côté client,
      les applets sont à l’origine de la notoriété du langage. C’est surtout
      côté serveur que Java s’est imposé dans le milieu de l’entreprise grâce
      aux <strong>servlets</strong>, le pendant serveur des applets, et plus
      récemment les <strong>JSP</strong> (JavaServer Pages) qui peuvent se
      substituer à PHP, ASP et <a href="http://ASP.NET">ASP.NET</a>.
    </p>
    <p>
      Voici en exemple le ficher <code>CategoryInfo.java</code>, constituant une
      partie le code du servlet exécuté le serveur lors du traitement d'une
      requête sur l'url <code>/CategoryInfo</code> :
    </p>
    <!-- cSpell:disable -->
    <pre><code class="language-java">
<span class="hljs-keyword">package</span> servlet.category;

<span class="hljs-keyword">import</span> java.io.IOException;
<span class="hljs-keyword">import</span> java.sql.SQLException;
<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.logging.Level;
<span class="hljs-keyword">import</span> java.util.logging.Logger;
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;
<span class="hljs-keyword">import</span> javax.servlet.http.HttpSession;
<span class="hljs-keyword">import</span> javax.servlet.ServletException;

<span class="hljs-keyword">import</span> app.jdbc.dao.CategoryDAO;
<span class="hljs-keyword">import</span> app.jdbc.dao.ProductDAO;
<span class="hljs-keyword">import</span> app.model.Category;
<span class="hljs-keyword">import</span> app.model.Product;
<span class="hljs-keyword">import</span> app.model.User;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CategoryInfo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> {

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>;
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">log</span> <span class="hljs-operator">=</span> Logger.getLogger(Thread.currentThread().getStackTrace()[<span class="hljs-number">1</span>].getClassName());

  <span class="hljs-keyword">private</span> <span class="hljs-type">Category</span> <span class="hljs-variable">category</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Category</span>();

  <span class="hljs-comment">/*
   * (non-Javadoc)
   * 
   * @see javax.servlet.GenericServlet#init()
   */</span>
  <span class="hljs-meta">@Override</span>
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> ServletException {
    <span class="hljs-comment">// Do initialization</span>
    log.info(<span class="hljs-string">&quot;Done&quot;</span>);
  }

  <span class="hljs-comment">/*
   * (non-Javadoc)
   * 
   * @see
   * javax.servlet.http.HttpServlet#doGet(javax.servlet.http.HttpServletRequest,
   * javax.servlet.http.HttpServletResponse)
   */</span>
  <span class="hljs-meta">@Override</span>
  <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span>
      <span class="hljs-keyword">throws</span> ServletException, IOException {

    <span class="hljs-comment">// Retrieve session</span>
    <span class="hljs-type">HttpSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> request.getSession(<span class="hljs-literal">false</span>);

    <span class="hljs-comment">// Retrieve user from session</span>
    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> (User) session.getAttribute(<span class="hljs-string">&quot;user&quot;</span>);

    <span class="hljs-comment">// Retrieve category from request parameter</span>
    <span class="hljs-keyword">try</span> (<span class="hljs-type">CategoryDAO</span> <span class="hljs-variable">DAO</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CategoryDAO</span>();) {
      <span class="hljs-type">int</span> <span class="hljs-variable">id</span> <span class="hljs-operator">=</span> Integer.parseInt(request.getParameter(<span class="hljs-string">&quot;categoryId&quot;</span>));
      category = DAO.getCategoryById(id);
    } <span class="hljs-keyword">catch</span> (SQLException e) {
      <span class="hljs-comment">// TODO Auto-generated catch block</span>
      log.log(Level.SEVERE, <span class="hljs-string">&quot;Error getting category&quot;</span>, e);
      e.printStackTrace();
      category = <span class="hljs-literal">null</span>;
    } <span class="hljs-keyword">catch</span> (Exception e) { <span class="hljs-comment">// Catch block for java.lang.AutoCloseable#close() throw.</span>
      log.log(Level.SEVERE, <span class="hljs-literal">null</span>, e.getMessage());
      e.printStackTrace();
    }

    <span class="hljs-comment">// Retrieve list of products</span>
    List&lt;Product&gt; productList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    <span class="hljs-type">Integer</span> <span class="hljs-variable">categoryId</span> <span class="hljs-operator">=</span> Integer.parseInt(request.getParameter(<span class="hljs-string">&quot;categoryId&quot;</span>));
    <span class="hljs-keyword">try</span> (<span class="hljs-type">ProductDAO</span> <span class="hljs-variable">DAO</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProductDAO</span>();) {
      productList = DAO.getProductsByCategory(user.getId(), categoryId);
    } <span class="hljs-keyword">catch</span> (SQLException e) {
      log.log(Level.SEVERE, <span class="hljs-string">&quot;Error getting products&quot;</span>, e);
      e.printStackTrace();
      productList = <span class="hljs-literal">null</span>;
    } <span class="hljs-keyword">catch</span> (Exception e) {
      <span class="hljs-comment">// TODO Auto-generated catch block for java.lang.AutoCloseable#close() throw.</span>
      log.log(Level.SEVERE, <span class="hljs-literal">null</span>, e.getMessage());
      e.printStackTrace();
    }

    <span class="hljs-comment">// Set attributes to request</span>
    request.setAttribute(<span class="hljs-string">&quot;productList&quot;</span>, productList);
    request.setAttribute(<span class="hljs-string">&quot;category&quot;</span>, category);

    <span class="hljs-comment">// Dispatch view and forward request</span>
    request.getRequestDispatcher(<span class="hljs-string">&quot;/WEB-INF/views/category/CategoryInfo.jsp&quot;</span>).forward(request, response);

    log.info(<span class="hljs-string">&quot;Done&quot;</span>);
  }

  <span class="hljs-comment">/*
   * (non-Javadoc)
   * 
   * @see
   * javax.servlet.http.HttpServlet#doPost(javax.servlet.http.HttpServletRequest,
   * javax.servlet.http.HttpServletResponse)
   */</span>
  <span class="hljs-meta">@Override</span>
  <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span>
      <span class="hljs-keyword">throws</span> ServletException, IOException {

    <span class="hljs-comment">// Do post</span>
    log.info(<span class="hljs-string">&quot;Done&quot;</span>);
  }

  <span class="hljs-comment">/*
   * (non-Javadoc)
   * 
   * @see javax.servlet.GenericServlet#destroy()
   */</span>
  <span class="hljs-meta">@Override</span>
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// Do clean up</span>
    log.info(<span class="hljs-string">&quot;Done&quot;</span>);
  }

}

</code></pre>
    <!-- cSpell:enable -->
    <h5 id="7122-jsp">7.1.2.2. JSP<!-- OK --></h5>
    <p>
      <strong>Jakarta Server Pages</strong> (anciennement JavaServer Pages) ou
      JSP est une collection de technologies qui permet aux développeurs de
      <strong>créer dynamiquement du code HTML</strong>, XML, SOAP ou tout autre
      type de page web. JSP est semblable a PHP ou ASP, mais pour le langage de
      programmation Java.
    </p>
    <p>
      Voici en exemple le fichier <code>CategoryInfo.jsp</code> (utilisé comme
      fichier de vue par <code>CategoryInfo.java</code> de notre exemple
      précédent), qui est utilisé pour produire le code de la page HTML renvoyée
      à l'utilisateur.
    </p>
    <p>
      Veuillez également noter l'utilisation de la balise
      <code>&lt;jsp:include&gt;</code> afin d’agréger les différents éléments
      constitutifs de la page complète :
    </p>
    <!-- cSpell:disable -->
    <pre><code class="language-jsp">
&lt;%@ taglib uri=<span class="hljs-string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> prefix=<span class="hljs-string">&quot;c&quot;</span> %&gt;
&lt;jsp:include page=<span class="hljs-string">&quot;/WEB-INF/views/template/__head.jsp&quot;</span>&gt;&lt;/jsp:include&gt;
&lt;jsp:include page=<span class="hljs-string">&quot;/WEB-INF/views/template/_aside.jsp&quot;</span>&gt;&lt;/jsp:include&gt;
&lt;jsp:include page=<span class="hljs-string">&quot;/WEB-INF/views/template/_nav.jsp&quot;</span>&gt;&lt;/jsp:include&gt;
&lt;jsp:include page=<span class="hljs-string">&quot;/WEB-INF/views/template/_header.jsp&quot;</span>&gt;&lt;/jsp:include&gt;
&lt;jsp:include page=<span class="hljs-string">&quot;/WEB-INF/views/template/_search.jsp&quot;</span>&gt;&lt;/jsp:include&gt;
&lt;main&gt;
  &lt;article&gt;
    &lt;h2&gt;Product List&lt;/h2&gt;
    &lt;ul class=<span class="hljs-string">&quot;productList&quot;</span>&gt;
    &lt;c:forEach <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;product&quot;</span> items=<span class="hljs-string">&quot;${productList}&quot;</span>&gt;
      &lt;li&gt;
        &lt;a class=<span class="hljs-string">&quot;product-list&quot;</span>
          href=<span class="hljs-string">&quot;/ProductInfo?productId=${product.id}&amp;categoryId=${category.id}&quot;</span>&gt;
          &lt;!-- JSP parsing variable ${product.name}--&gt;
          ${product.name}
        &lt;/a&gt;
      &lt;/li&gt;
    &lt;/c:forEach&gt;
    &lt;/ul&gt;
      &lt;div class=<span class="hljs-string">&quot;form-actions&quot;</span> id=<span class="hljs-string">&quot;form-bottom&quot;</span>&gt;
        &lt;button class=<span class="hljs-string">&quot;cancel&quot;</span> onclick=<span class="hljs-string">&quot;history.back()&quot;</span>&gt;
          &lt;i class=<span class="hljs-string">&quot;fa-solid fa-arrow-left&quot;</span>&gt;&lt;/i&gt;
        &lt;/button&gt;
        &lt;a class=<span class="hljs-string">&quot;info&quot;</span> href=<span class="hljs-string">&quot;CategoryEdit?categoryId=${category.id}&quot;</span>&gt;Update category&lt;/a&gt;
        &lt;a class=<span class="hljs-string">&quot;add&quot;</span> href=<span class="hljs-string">&quot;/ProductAdd?categoryId=${category.id}&quot;</span>&gt;Add a product&lt;/a&gt;
  &lt;/article&gt;
&lt;/main&gt;
&lt;jsp:include page=<span class="hljs-string">&quot;/WEB-INF/views/template/_footer.jsp&quot;</span>&gt;&lt;/jsp:include&gt;
&lt;jsp:include page=<span class="hljs-string">&quot;/WEB-INF/views/template/__tail.jsp&quot;</span>&gt;&lt;/jsp:include&gt;

</code></pre>
    <!-- cSpell:enable -->
    <h5 id="7123-jstl">7.1.2.3. JSTL<!-- OK --></h5>
    <p>
      La <strong>Jakarta Standard Tag Library</strong> (anciennement JavaServer
      Pages Standard Tag Library) ou JSTL est un composant de la plateforme de
      développement Java EE Web application.
    </p>
    <p>
      Il <strong>étend les spécifications du JSP</strong> and ajoutant une
      librairie de tag pour les tâches communes, comme le traitement des données
      XML, l'exécution conditionnelle, l'accès a une base de données, les
      boucles ou l'internationalisation.
    </p>
    <p>
      Le fichier <code>CategoryInfo.jsp</code> de l'exemple précédent illustre
      également l'utilisation du JSTL dans le cadre d'une boucle qui génère
      dynamiquement du code HTML dans la page :
    </p>
    <!-- cSpell:disable -->
    <pre><code class="language-jsp">
&lt;%@ taglib uri=<span class="hljs-string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> prefix=<span class="hljs-string">&quot;c&quot;</span> %&gt;
&lt;jsp:include page=<span class="hljs-string">&quot;/WEB-INF/views/template/__head.jsp&quot;</span>&gt;&lt;/jsp:include&gt;
&lt;jsp:include page=<span class="hljs-string">&quot;/WEB-INF/views/template/_aside.jsp&quot;</span>&gt;&lt;/jsp:include&gt;
&lt;jsp:include page=<span class="hljs-string">&quot;/WEB-INF/views/template/_nav.jsp&quot;</span>&gt;&lt;/jsp:include&gt;
&lt;jsp:include page=<span class="hljs-string">&quot;/WEB-INF/views/template/_header.jsp&quot;</span>&gt;&lt;/jsp:include&gt;
&lt;jsp:include page=<span class="hljs-string">&quot;/WEB-INF/views/template/_search.jsp&quot;</span>&gt;&lt;/jsp:include&gt;
&lt;main&gt;
  &lt;article&gt;
    &lt;h2&gt;Product List&lt;/h2&gt;
    &lt;ul class=<span class="hljs-string">&quot;productList&quot;</span>&gt;
    &lt;!-- JSTL foreach looping on ${productList}--&gt;
    &lt;c:forEach <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;product&quot;</span> items=<span class="hljs-string">&quot;${productList}&quot;</span>&gt;
      &lt;li&gt;
        &lt;a class=<span class="hljs-string">&quot;product-list&quot;</span>
          href=<span class="hljs-string">&quot;/ProductInfo?productId=${product.id}&amp;categoryId=${category.id}&quot;</span>&gt;
          ${product.name}
        &lt;/a&gt;
      &lt;/li&gt;
    &lt;/c:forEach&gt;
    &lt;/ul&gt;
      &lt;div class=<span class="hljs-string">&quot;form-actions&quot;</span> id=<span class="hljs-string">&quot;form-bottom&quot;</span>&gt;
        &lt;button class=<span class="hljs-string">&quot;cancel&quot;</span> onclick=<span class="hljs-string">&quot;history.back()&quot;</span>&gt;
          &lt;i class=<span class="hljs-string">&quot;fa-solid fa-arrow-left&quot;</span>&gt;&lt;/i&gt;
        &lt;/button&gt;
        &lt;a class=<span class="hljs-string">&quot;info&quot;</span> href=<span class="hljs-string">&quot;CategoryEdit?categoryId=${category.id}&quot;</span>&gt;Update category&lt;/a&gt;
        &lt;a class=<span class="hljs-string">&quot;add&quot;</span> href=<span class="hljs-string">&quot;/ProductAdd?categoryId=${category.id}&quot;</span>&gt;Add a product&lt;/a&gt;
  &lt;/article&gt;
&lt;/main&gt;
&lt;jsp:include page=<span class="hljs-string">&quot;/WEB-INF/views/template/_footer.jsp&quot;</span>&gt;&lt;/jsp:include&gt;
&lt;jsp:include page=<span class="hljs-string">&quot;/WEB-INF/views/template/__tail.jsp&quot;</span>&gt;&lt;/jsp:include&gt;

</code></pre>
    <!-- cSpell:enable -->
    <h5 id="7124-sql">7.1.2.4. SQL<!-- OK --></h5>
    <p>
      Le <strong>langage de requête structurée</strong>, abrégé SQL de l'anglais
      Structured Query Language est un
      <strong>langage informatique normalisé</strong> servant à exploiter des
      <strong>bases de données relationnelles</strong>.
    </p>
    <p>
      Il permet de gérer les données d'une base de données en utilisant des
      commandes pour
      <strong>créer, lire, mettre à jour et supprimer des données</strong> (CRUD
      operations). Il permet également de
      <strong>gérer les relations</strong> entre les tables de la base de
      données et de faire des requêtes pour
      <strong>récupérer des données spécifiques</strong>.
    </p>
    <p>
      Le SQL est reconnu par la grande majorité des systèmes de gestion de bases
      de données relationnelles (abrégé SGBDR) du marché.
    </p>
    <p>
      Voici un extrait du fichier <code>_app.sql</code>, dont le code SQL est
      utilisé pour construire trois tables nécessaires à l'authentification de
      l'utilisateur dans la base de données de développement :
    </p>
    <!-- cSpell:disable -->
    <pre><code class="language-sql">
<span class="hljs-keyword">SET</span> time_zone <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;+00:00&#x27;</span>;

<span class="hljs-comment">-- Use application database</span>
USE app;

<span class="hljs-comment">-------------------------------------------------------------------------- USER</span>
<span class="hljs-comment">-- Create user table</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `<span class="hljs-keyword">user</span>`(
    `id` <span class="hljs-type">INT</span>(<span class="hljs-number">10</span>) UNSIGNED <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> AUTO_INCREMENT,
    `email` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">UNIQUE</span>,
    `password` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    `title` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">10</span>),
    `firstName` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>),
    `lastName` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>),
    `company` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>),
    `address` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>),
    `city` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>),
    `postalCode` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>),
    `country` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>),
    `phone` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>),
    `valid` BIT(<span class="hljs-number">1</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>, <span class="hljs-comment">-- <span class="hljs-doctag">TODO:</span> assign instead of default.</span>
    `validationUid` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>),
    `validationTimeout` DATETIME,
    <span class="hljs-comment">-- `validationTimeout` DATETIME NOT NULL DEFAULT NOW() + INTERVAL 1 HOUR,</span>
    `createTime` DATETIME <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> NOW(),
    `updateTime` DATETIME <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> NOW(), <span class="hljs-comment">-- <span class="hljs-doctag">TODO:</span> assign instead of default.</span>
    <span class="hljs-keyword">PRIMARY</span> KEY (`id`)
);

<span class="hljs-comment">-- Insert data samples</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `<span class="hljs-keyword">user</span>`(`email`,`password`,`title`,`firstName`,`lastName`,`company`,`address`,`city`,`postalCode`,`country`,`phone`)
  <span class="hljs-keyword">VALUES</span>
    (&quot;admin&quot;,SHA2(&quot;admin&quot;,<span class="hljs-number">512</span>),&quot;Title&quot;,&quot;admin&quot;,&quot;Last name&quot;,&quot;Admin Company&quot;,&quot;Address&quot;,&quot;City&quot;,&quot;Postal code&quot;,&quot;Country&quot;,&quot;Phone&quot;),
    (&quot;user&quot;,SHA2(&quot;user&quot;,<span class="hljs-number">512</span>),&quot;Title&quot;,&quot;user&quot;,&quot;Last name&quot;,&quot;User Company&quot;,&quot;Address&quot;,&quot;City&quot;,&quot;Postal code&quot;,&quot;Country&quot;,&quot;Phone&quot;),
    (&quot;donald.duck@mail.com&quot;,SHA2(&quot;donald&quot;,<span class="hljs-number">512</span>),&quot;M.&quot;,&quot;Donald&quot;,&quot;Duck&quot;,&quot;Acme Company&quot;,&quot;66 Route 66&quot;,&quot;Dreamland&quot;,&quot;67000&quot;,&quot;France&quot;,&quot;0606060606&quot;)
  ;

<span class="hljs-comment">-------------------------------------------------------------------------- ROLE</span>
<span class="hljs-comment">-- Create role table</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `role`(
    `id` <span class="hljs-type">INT</span>(<span class="hljs-number">10</span>) UNSIGNED <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    `name` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">80</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">UNIQUE</span>,
    <span class="hljs-keyword">PRIMARY</span> KEY (`id`)
);

<span class="hljs-comment">-- Insert data samples</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `role`(`id`,`name`)
  <span class="hljs-keyword">VALUES</span>
    (&quot;1&quot;,&quot;admin&quot;),
    (&quot;2&quot;,&quot;user&quot;)
  ;

<span class="hljs-comment">--------------------------------------------------------------------- USER_ROLE</span>
<span class="hljs-comment">-- Create user_role table</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `user_role`(
    `id` <span class="hljs-type">INT</span>(<span class="hljs-number">10</span>) UNSIGNED <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> AUTO_INCREMENT,
    `user_id` <span class="hljs-type">INT</span>(<span class="hljs-number">10</span>) UNSIGNED <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    `role_id` <span class="hljs-type">INT</span>(<span class="hljs-number">10</span>) UNSIGNED <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">2</span>, <span class="hljs-comment">-- default to user role</span>
    <span class="hljs-keyword">PRIMARY</span> KEY (`id`),
    <span class="hljs-keyword">FOREIGN</span> KEY (`user_id`) <span class="hljs-keyword">REFERENCES</span> `<span class="hljs-keyword">user</span>`(`id`),
    <span class="hljs-keyword">FOREIGN</span> KEY (`role_id`) <span class="hljs-keyword">REFERENCES</span> `role`(`id`)
);

<span class="hljs-comment">-- Insert data samples</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `user_role`(`user_id`,`role_id`)
  <span class="hljs-keyword">VALUES</span>
    (<span class="hljs-number">1</span>,<span class="hljs-number">1</span>), <span class="hljs-comment">-- admin(1):admin</span>
    (<span class="hljs-number">1</span>,<span class="hljs-number">2</span>), <span class="hljs-comment">-- admin(1):user</span>
    (<span class="hljs-number">2</span>,<span class="hljs-number">2</span>) <span class="hljs-comment">-- user(2):user</span>
  ;

</code></pre>
    <!-- cSpell:enable -->
    <h4 id="713-autres">7.1.3. Autres<!-- OK --></h4>
    <h5 id="7131-dockerfile">7.1.3.1. Dockerfile<!-- OK --></h5>
    <p>
      Docker (Cf. <a href="#7621-docker">docker</a>) peut
      <strong>construire des images automatiquement</strong> grâce aux
      instructions présentes dans un Dockerfile. Un Dockerfile est un
      <strong>document texte contenant toutes les commandes</strong> qu'un
      utilisateur peut utiliser en ligne de commandes.
    </p>
    <p>
      Voici en exemple le fichier <code>Dockerfile</code> pour construire une
      image de conteneur Tomcat dans le cadre d'un environnement de
      développement :
    </p>
    <!-- cSpell:disable -->
    <pre><code class="language-Dockerfile">
<span class="hljs-keyword">FROM</span> tomcat:<span class="hljs-number">9</span>
<span class="hljs-keyword">LABEL</span><span class="language-bash"> maintainer=<span class="hljs-string">&quot;Thibault &lt;thibault.hulaux@gmail.com&gt;&quot;</span> \
      description=<span class="hljs-string">&quot;tomcat&quot;</span></span>

<span class="hljs-comment"># Update apt.</span>
<span class="hljs-keyword">RUN</span><span class="language-bash"> apt -y update</span>

<span class="hljs-comment"># Install extra packets for conveniency.</span>
<span class="hljs-keyword">RUN</span><span class="language-bash"> apt -y install \
    bash \
    vim</span>

<span class="hljs-comment"># Install openssh-server.</span>
<span class="hljs-keyword">RUN</span><span class="language-bash"> apt -y install openssh-server &amp;&amp; \
    <span class="hljs-built_in">mkdir</span> -p /var/run/sshd &amp;&amp; \
    sed -ri <span class="hljs-string">&#x27;s/UsePAM yes/#UsePAM yes/g&#x27;</span> /etc/ssh/sshd_config &amp;&amp; \
    sed -ri <span class="hljs-string">&#x27;s/#PasswordAuthentication yes/PasswordAuthentication yes/g&#x27;</span> /etc/ssh/sshd_config &amp;&amp; \
    sed -ri <span class="hljs-string">&#x27;s/#PermitRootLogin\s+.*/PermitRootLogin yes/&#x27;</span> /etc/ssh/sshd_config &amp;&amp; \
    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$0</span>:$?: /etc/ssh/ssh_config edited.&quot;</span></span>

<span class="hljs-comment"># Clean up.</span>
<span class="hljs-keyword">RUN</span><span class="language-bash"> <span class="hljs-built_in">rm</span> -rf /var/cache/apt/* &amp;&amp; \
    <span class="hljs-built_in">rm</span> -rf /var/lib/apt/lists/* &amp;&amp; \
    apt clean</span>

<span class="hljs-comment"># Set root password.</span>
<span class="hljs-keyword">RUN</span><span class="language-bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;root:root&#x27;</span> | chpasswd</span>

<span class="hljs-comment"># Copy default webapps (avoid in production)</span>
<span class="hljs-comment"># RUN cp -rv webapps.dist/* webapps/</span>

<span class="hljs-comment"># Copying and running start script.</span>
<span class="hljs-keyword">COPY</span><span class="language-bash"> /start.sh /start.sh</span>
<span class="hljs-keyword">CMD</span><span class="language-bash"> [<span class="hljs-string">&quot;/bin/bash&quot;</span>, <span class="hljs-string">&quot;/start.sh&quot;</span>]</span>

</code></pre>
    <!-- cSpell:enable -->
    <h5 id="7132-python">7.1.3.2. Python<!-- OK --></h5>
    <p>
      Python est un <strong>langage de programmation interprété</strong>, multi
      paradigme et <strong>multi plateformes</strong>. Il favorise la
      programmation impérative structurée, fonctionnelle et
      <strong>orientée objet</strong>. Il est doté d'un typage dynamique fort,
      d'une gestion automatique de la mémoire par garbage collector et d'un
      système de gestion d'exceptions.
    </p>
    <p>
      C'est un langage qui peut s'utiliser dans de nombreux contextes et
      s'adapter à tout type d'utilisation grâce à des
      <strong>bibliothèques spécialisées</strong>. Il est cependant
      particulièrement <strong>utilisé comme langage de script</strong> pour
      automatiser des tâches simples mais fastidieuses.
    </p>
    <p>
      Dans le cadre de ce projet, un script en Python a été crée afin de
      <strong>piloter</strong> une installation locale de
      <strong>Oracle VM Virtualbox</strong>. Le script peut effectuer, au
      travers des commandes <code>swarm</code> et <code>stack</code>, les
      opérations suivantes :
    </p>
    <ul>
      <li>
        Provisionnement des machines virtuelles légères (avec un docker engine)
      </li>
      <li>Configuration de la couche réseau</li>
      <li>Création et configuration d'un docker swarm</li>
      <li>Déploiement de stack docker (build, registry, orchestration)</li>
    </ul>
    <p>
      Voici des extraits représentatifs du fichier <code>swarm.py</code>.
      Veuillez noter que le script est encore en développement (absence de
      DocStrings, manque de structures de contrôle...), mais qu'il gère le
      logging et l'interpretation de la ligne de commande :
    </p>
    <!-- cSpell:disable -->
    <pre><code class="language-py">
<span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-string">&quot;&quot;&quot;
Module Docstring
&quot;&quot;&quot;</span>

<span class="hljs-string">&quot;&quot;&quot; IMPORTS --------------------------------------------------------------- &quot;&quot;&quot;</span>
<span class="hljs-keyword">import</span> argparse
<span class="hljs-keyword">import</span> logging <span class="hljs-comment"># see https://docs.python.org/3/library/logging.html</span>
<span class="hljs-keyword">import</span> logging.config
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> platform
<span class="hljs-keyword">import</span> signal
<span class="hljs-keyword">import</span> subprocess
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">import</span> time
<span class="hljs-comment"># import docker</span>
<span class="hljs-comment"># import pprint # pretty print for dict()</span>

<span class="hljs-string">&quot;&quot;&quot; GLOBAL VARIABLES ------------------------------------------------------ &quot;&quot;&quot;</span>
<span class="hljs-comment"># Default LOGLEVEL</span>
os.environ[<span class="hljs-string">&#x27;LOGLEVEL&#x27;</span>] = <span class="hljs-string">&#x27;DEBUG&#x27;</span>

<span class="hljs-comment"># System</span>
__env__ = os.environ
__start__ = time.time()
__platform__ = platform.system()

<span class="hljs-comment"># Authoring</span>
__author_name__ = <span class="hljs-string">&#x27;Thibault HULAUX&#x27;</span>
__author_mail__ = <span class="hljs-string">&#x27;thibault.hulaux@gmail.com&#x27;</span>
__version__ = <span class="hljs-string">&#x27;0.1.0&#x27;</span>
__license__ = <span class="hljs-string">&#x27;MIT&#x27;</span>

<span class="hljs-comment"># Magic file and folder paths</span>
__basename__ = os.path.basename(__file__)
__basenamenoext__ = __basename__.split(<span class="hljs-string">&quot;.&quot;</span>, <span class="hljs-number">1</span>)[<span class="hljs-number">0</span>]
__dirname__ = os.path.dirname(__file__)

<span class="hljs-comment"># Help strings</span>
__description__ = <span class="hljs-string">f&#x27;<span class="hljs-subst">{__basename__}</span> is a python helper script to administrate a docker swarm and docker services.&#x27;</span>
__epilog__ = <span class="hljs-string">f&#x27;Run <span class="hljs-subst">{__basename__}</span> [command] --help for more information on a command.&#x27;</span>

<span class="hljs-string">&quot;&quot;&quot; INITIALIZE WORKING DIRECTORY ------------------------------------------ &quot;&quot;&quot;</span>
<span class="hljs-comment"># Change working directory to script location</span>
os.chdir(__dirname__)

<span class="hljs-string">&quot;&quot;&quot; INITIALIZE LOGGER ----------------------------------------------------- &quot;&quot;&quot;</span>
log = <span class="hljs-literal">None</span>

<span class="hljs-comment"># Add log filepath and filename to the logging namespace, so the config file</span>
<span class="hljs-comment"># can reference it.</span>
logging.filepath = <span class="hljs-string">&#x27;log&#x27;</span>
logging.filename = <span class="hljs-string">f&#x27;<span class="hljs-subst">{__basenamenoext__}</span>.log&#x27;</span>

<span class="hljs-comment"># Load config file</span>
logging.config.fileConfig(
  fname=<span class="hljs-string">&#x27;conf/logging.conf&#x27;</span>,
  disable_existing_loggers=<span class="hljs-literal">False</span>
  )

<span class="hljs-comment"># Create logger</span>
log = logging.getLogger(__basename__)

<span class="hljs-string">&quot;&quot;&quot; INITIALIZE PARSER ----------------------------------------------------- &quot;&quot;&quot;</span>
parser = <span class="hljs-literal">None</span>

<span class="hljs-comment"># Create parser</span>
parser = argparse.ArgumentParser(
  add_help = <span class="hljs-literal">True</span>,
  formatter_class = argparse.RawDescriptionHelpFormatter,
  description=__description__,
  epilog=__epilog__
)

<span class="hljs-comment"># Add parser arguments</span>
parser.add_argument(
  <span class="hljs-string">&#x27;-d&#x27;</span>, <span class="hljs-string">&#x27;--debug&#x27;</span>,
  action=<span class="hljs-string">&#x27;store_true&#x27;</span>,
  default=<span class="hljs-literal">False</span>
)
parser.add_argument(
  <span class="hljs-string">&#x27;--version&#x27;</span>,
  action=<span class="hljs-string">&#x27;version&#x27;</span>,
  version=<span class="hljs-string">f&#x27;<span class="hljs-subst">{__basename__}</span> (version <span class="hljs-subst">{__version__}</span>) <span class="hljs-subst">{__author_name__}</span> - <span class="hljs-subst">{__author_mail__}</span>&#x27;</span>
)

<span class="hljs-comment"># Initialize subparsers</span>
subparsers = parser.add_subparsers(dest=<span class="hljs-string">&#x27;subcommand&#x27;</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">&#x27;Commands&#x27;</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">argument</span>(<span class="hljs-params">*name_or_flags, **kwargs</span>):
    <span class="hljs-string">&quot;&quot;&quot;Helper function to satisfy argparse.ArgumentParser.add_argument()&#x27;s
    input argument syntax.

    &quot;&quot;&quot;</span>
    <span class="hljs-keyword">return</span> (<span class="hljs-built_in">list</span>(name_or_flags), kwargs)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">subcommand</span>(<span class="hljs-params">args=[], parent=subparsers</span>):
    <span class="hljs-string">&quot;&quot;&quot;Decorator to define a new subcommand in a sanity-preserving way.
    See https://mike.depalatis.net/blog/simplifying-argparse.html

    &quot;&quot;&quot;</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">decorator</span>(<span class="hljs-params">func</span>):
        parser = parent.add_parser(func.__name__, description=func.__doc__)
        <span class="hljs-keyword">for</span> arg <span class="hljs-keyword">in</span> args:
            parser.add_argument(*arg[<span class="hljs-number">0</span>], **arg[<span class="hljs-number">1</span>])
        parser.set_defaults(func=func)
    <span class="hljs-keyword">return</span> decorator

<span class="hljs-comment"># &#x27;swarm&#x27; subcommands definition</span>
<span class="hljs-meta">@subcommand(<span class="hljs-params">[
  argument(<span class="hljs-params"><span class="hljs-string">&#x27;command&#x27;</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">&#x27;Commands&#x27;</span>, choices=[
    <span class="hljs-string">&#x27;create&#x27;</span>, <span class="hljs-string">&#x27;remove&#x27;</span>, <span class="hljs-string">&#x27;start&#x27;</span>, <span class="hljs-string">&#x27;status&#x27;</span>, <span class="hljs-string">&#x27;stop&#x27;</span>, <span class="hljs-string">&#x27;update&#x27;</span>
    ]</span>)
  ]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">swarm</span>(<span class="hljs-params">args</span>):
    <span class="hljs-string">&#x27;&#x27;&#x27;swarm subcommand definition&#x27;&#x27;&#x27;</span>
    cmd = args.command
    <span class="hljs-built_in">list</span> = get_listfromfile(<span class="hljs-string">&#x27;conf/swarm.conf&#x27;</span>)
    <span class="hljs-keyword">if</span> cmd == <span class="hljs-string">&#x27;create&#x27;</span>:
        swarm_create(<span class="hljs-built_in">list</span>)
        swarm_config_network(<span class="hljs-built_in">list</span>)
        <span class="hljs-comment"># swarm_config_nfs(list)</span>
        swarm_register(<span class="hljs-built_in">list</span>)
    <span class="hljs-keyword">if</span> cmd == <span class="hljs-string">&#x27;remove&#x27;</span>:
        <span class="hljs-comment"># swarm_stop(list)</span>
        swarm_remove(<span class="hljs-built_in">list</span>)
        swarm_cleanup(<span class="hljs-built_in">list</span>)
    <span class="hljs-keyword">if</span> cmd == <span class="hljs-string">&#x27;start&#x27;</span>:
        swarm_start(<span class="hljs-built_in">list</span>)
        <span class="hljs-comment"># swarm_config_network(list)</span>
        <span class="hljs-comment"># swarm_register(list)</span>
    <span class="hljs-keyword">if</span> cmd == <span class="hljs-string">&#x27;status&#x27;</span>:
        swarm_status(<span class="hljs-built_in">list</span>)
    <span class="hljs-keyword">if</span> cmd == <span class="hljs-string">&#x27;stop&#x27;</span>:
        swarm_stop(<span class="hljs-built_in">list</span>)
    <span class="hljs-keyword">if</span> cmd == <span class="hljs-string">&#x27;update&#x27;</span>:
        <span class="hljs-comment"># swarm_config_network(list)</span>
        swarm_config_nfs(<span class="hljs-built_in">list</span>)
        <span class="hljs-comment"># swarm_config_extras(list)</span>
        <span class="hljs-comment"># swarm_register(list)</span>

...

<span class="hljs-string">&quot;&quot;&quot; SUBPROCESS FUNCTIONS --------------------------------------------------- &quot;&quot;&quot;</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">subprocess_run</span>(<span class="hljs-params">cmd, timeout_s=<span class="hljs-number">180</span>, <span class="hljs-built_in">input</span>=<span class="hljs-literal">None</span></span>):
    <span class="hljs-string">&quot;&quot;&quot;_summary_

    Args:
        cmd (_type_): _description_
        timeout_s (int, optional): _description_. Defaults to 180.
        input (_type_, optional): _description_. Defaults to None.

    Returns:
        _type_: _description_
    &quot;&quot;&quot;</span>
    log.debug(<span class="hljs-string">f&#x27;subprocess_run(cmd=<span class="hljs-subst">{cmd}</span>, timeout_s=<span class="hljs-subst">{timeout_s}</span>, input=<span class="hljs-subst">{<span class="hljs-built_in">input</span>}</span>)&#x27;</span>)
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># proc = subprocess.run(cmd, input=input, timeout=timeout_s, capture_output=True, text=True, shell=True)</span>
        proc = subprocess.run(cmd, <span class="hljs-built_in">input</span>=<span class="hljs-built_in">input</span>, timeout=timeout_s, capture_output=<span class="hljs-literal">True</span>, text=<span class="hljs-literal">True</span>)
    <span class="hljs-keyword">except</span> subprocess.TimeoutExpired:
        log.error(<span class="hljs-string">f&#x27;timeout for cmd=<span class="hljs-subst">{cmd}</span> (<span class="hljs-subst">{timeout_s}</span>s) expired.&#x27;</span>)
        sys.exit(<span class="hljs-number">1</span>)
    stdout = []
    <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> proc.stdout.splitlines():
        stdout.append(line)
    stderr = []
    <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> proc.stderr.splitlines():
        stderr.append(line)
    log.debug(<span class="hljs-string">f&#x27;stdout=<span class="hljs-subst">{stdout}</span>, stderr=<span class="hljs-subst">{stderr}</span>&#x27;</span>)
    <span class="hljs-keyword">return</span> proc

...

<span class="hljs-string">&quot;&quot;&quot; MACHINE FUNCTIONS ----------------------------------------------------- &quot;&quot;&quot;</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">machine_env</span>(<span class="hljs-params">hostname: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">list</span>:
    <span class="hljs-string">&quot;&quot;&quot;Get docker environment from machine hostname.

    Args:
        hostname (str): machine hostname

    Returns:
        list: docker environment as ([key, value])
    &quot;&quot;&quot;</span>
    log.debug(<span class="hljs-string">f&#x27;<span class="hljs-subst">{hostname}</span>: getting machine environment&#x27;</span>)
    cmd = [get_exec(<span class="hljs-string">&#x27;machine&#x27;</span>), <span class="hljs-string">&#x27;env&#x27;</span>, hostname]
    proc = subprocess_run(cmd)
    env = []
    <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> proc.stdout.splitlines():
        <span class="hljs-keyword">if</span> line.startswith(<span class="hljs-string">&#x27;REM&#x27;</span>) <span class="hljs-keyword">or</span> line.startswith(<span class="hljs-string">&#x27;#&#x27;</span>): <span class="hljs-keyword">continue</span>
        line = line.replace(<span class="hljs-string">&#x27;$Env:&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>).replace(<span class="hljs-string">&#x27;SET &#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)
        key = line.split(<span class="hljs-string">&#x27;=&#x27;</span>, <span class="hljs-number">1</span>)[<span class="hljs-number">0</span>].strip()
        value = line.split(<span class="hljs-string">&#x27;=&#x27;</span>, <span class="hljs-number">1</span>)[<span class="hljs-number">1</span>].strip()
        env.append([key, value])
    log.debug(<span class="hljs-string">f&#x27;hostname=<span class="hljs-subst">{hostname}</span>, env=<span class="hljs-subst">{env}</span>&#x27;</span>)
    <span class="hljs-keyword">return</span> env

<span class="hljs-keyword">def</span> <span class="hljs-title function_">machine_activate</span>(<span class="hljs-params">hostname: <span class="hljs-built_in">str</span></span>):
    <span class="hljs-string">&quot;&quot;&quot;Set docker environment from machine hostname.

    Args:
        hostname (str): machine
    &quot;&quot;&quot;</span>
    env = machine_env(hostname)
    log.debug(<span class="hljs-string">f&#x27;<span class="hljs-subst">{hostname}</span>: Setting machine environment&#x27;</span>)
    os.environ = __env__
    <span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> env:
        os.environ[key] = value

...

<span class="hljs-string">&quot;&quot;&quot; SWARM FUNCTIONS ------------------------------------------------------- &quot;&quot;&quot;</span>

...

<span class="hljs-keyword">def</span> <span class="hljs-title function_">swarm_create</span>(<span class="hljs-params"><span class="hljs-built_in">list</span></span>):
    <span class="hljs-string">&quot;&quot;&quot;&#x27;swarm_create(list)&#x27; documentation.
    
    &quot;&quot;&quot;</span>
    log.info(<span class="hljs-string">&#x27;&gt; Creating swarm... (This may take several minutes)&#x27;</span>)
    log.debug(<span class="hljs-string">f&#x27;list=<span class="hljs-subst">{<span class="hljs-built_in">list</span>}</span>&#x27;</span>)
    <span class="hljs-keyword">if</span> __platform__ == <span class="hljs-string">&#x27;Windows&#x27;</span>:
        options = get_listfromfile(<span class="hljs-string">&#x27;conf/driver-windows-virtualbox.conf&#x27;</span>)
    cmd = [get_exec(<span class="hljs-string">&#x27;machine&#x27;</span>)] + [<span class="hljs-string">&#x27;create&#x27;</span>] + options
    processes = subprocess_prun(cmd, <span class="hljs-built_in">list</span>, <span class="hljs-number">120</span>)
    log.info(<span class="hljs-string">f&#x27;&gt; <span class="hljs-subst">{<span class="hljs-built_in">len</span>(<span class="hljs-built_in">list</span>)}</span> machines created.&#x27;</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">swarm_register</span>(<span class="hljs-params"><span class="hljs-built_in">list</span></span>):
    <span class="hljs-string">&quot;&quot;&quot;&#x27;swarm_register(list)&#x27; documentation.
    
    &quot;&quot;&quot;</span>
    log.info(<span class="hljs-string">&#x27;&gt; Registering swarm...&#x27;</span>)
    log.debug(<span class="hljs-string">f&#x27;list=<span class="hljs-subst">{<span class="hljs-built_in">list</span>}</span>&#x27;</span>)
    manager = <span class="hljs-string">&#x27;&#x27;</span>
    port = <span class="hljs-string">&#x27;2377&#x27;</span>
    token = <span class="hljs-string">&#x27;&#x27;</span>
    <span class="hljs-keyword">for</span> hostname <span class="hljs-keyword">in</span> <span class="hljs-built_in">list</span>:
        machine_activate(hostname)
        machine_swarm_leave(hostname)
        <span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;manager&#x27;</span> <span class="hljs-keyword">in</span> hostname:
            ip = machine_ip(hostname)
            manager = <span class="hljs-string">f&#x27;<span class="hljs-subst">{ip}</span>:<span class="hljs-subst">{port}</span>&#x27;</span>
            log.debug(<span class="hljs-string">f&#x27;manager=<span class="hljs-subst">{manager}</span>&#x27;</span>)
            token = machine_swarm_init(hostname, ip)
        <span class="hljs-keyword">else</span>:
            machine_swarm_join(hostname, token, manager)
    log.info(<span class="hljs-string">f&#x27;&gt; <span class="hljs-subst">{<span class="hljs-built_in">len</span>(<span class="hljs-built_in">list</span>)}</span> nodes registered.&#x27;</span>)

...

<span class="hljs-keyword">def</span> <span class="hljs-title function_">swarm_config_network</span>(<span class="hljs-params"><span class="hljs-built_in">list</span></span>):
    <span class="hljs-string">&quot;&quot;&quot;&#x27;swarm_setup(list)&#x27; documentation.
    
    &quot;&quot;&quot;</span>
    log.info(<span class="hljs-string">&#x27;&gt; Setting up network...&#x27;</span>)
    log.debug(<span class="hljs-string">f&#x27;list=<span class="hljs-subst">{<span class="hljs-built_in">list</span>}</span>&#x27;</span>)
    <span class="hljs-comment"># Create temporary hosts file</span>
    local_path = <span class="hljs-string">&#x27;tmp/hosts&#x27;</span>
    file = <span class="hljs-built_in">open</span>(local_path, <span class="hljs-string">&#x27;w&#x27;</span>)
    file.write(<span class="hljs-string">&#x27;# /etc/hosts\n&#x27;</span>)
    <span class="hljs-keyword">for</span> hostname <span class="hljs-keyword">in</span> <span class="hljs-built_in">list</span>:
        ip = machine_ip(hostname)
        line = <span class="hljs-string">f&#x27;<span class="hljs-subst">{ip}</span> <span class="hljs-subst">{hostname}</span>&#x27;</span>
        log.debug(<span class="hljs-string">f&#x27;Adding line=<span class="hljs-subst">{line}</span> to <span class="hljs-subst">{local_path}</span>&#x27;</span>)
        file.write(<span class="hljs-string">f&#x27;<span class="hljs-subst">{line}</span>\n&#x27;</span>)
    file.close()
    <span class="hljs-comment"># Write to each host</span>
    tag = <span class="hljs-string">f&#x27;# Added by <span class="hljs-subst">{__basename__}</span>:swarm_config_network()&#x27;</span>
    remote_path = <span class="hljs-string">&#x27;/etc/hosts&#x27;</span>
    <span class="hljs-keyword">for</span> hostname <span class="hljs-keyword">in</span> <span class="hljs-built_in">list</span>:
        log.info(<span class="hljs-string">f&#x27;<span class="hljs-subst">{hostname}</span>: Edit <span class="hljs-subst">{remote_path}</span>&#x27;</span>)
        <span class="hljs-comment"># Remove previous appends depending on tag</span>
        cmd = <span class="hljs-string">&#x27;&#x27;</span>
        cmd += <span class="hljs-string">&#x27;i=1; while read line; do &#x27;</span>
        cmd += <span class="hljs-string">&#x27;if [ &quot;$line&quot; == &quot;&#x27;</span>+ tag +<span class="hljs-string">&#x27;&quot; ]; then break; fi; i=$((i+1)); &#x27;</span>
        cmd += <span class="hljs-string">&#x27;done &lt; /etc/hosts; &#x27;</span>
        cmd += <span class="hljs-string">&#x27;head -n $((i-1)) /etc/hosts | sudo tee /etc/hosts&#x27;</span>
        proc = machine_ssh(hostname, cmd)
        <span class="hljs-comment"># Append host definitions</span>
        cmd = <span class="hljs-string">&#x27;{ echo &quot;&#x27;</span> + tag + <span class="hljs-string">&#x27;&quot;; &#x27;</span>
        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> get_listfromfile(local_path):
            <span class="hljs-keyword">if</span> line.endswith(hostname): <span class="hljs-keyword">continue</span>
            cmd = cmd + <span class="hljs-string">&#x27;echo &quot;&#x27;</span> + line + <span class="hljs-string">&#x27;&quot;; &#x27;</span>
        cmd = cmd + <span class="hljs-string">&#x27;} | sudo tee -a /etc/hosts&#x27;</span>
        proc = machine_ssh(hostname, cmd)
    log.info(<span class="hljs-string">&#x27;&gt; Network setup complete.&#x27;</span>)

...

<span class="hljs-string">&quot;&quot;&quot; STACK FUNCTIONS ------------------------------------------------------- &quot;&quot;&quot;</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">compose_convert</span>():
    <span class="hljs-string">&#x27;&#x27;&#x27;&#x27;&#x27;&#x27;</span>
    version = <span class="hljs-string">&#x27;3.6&#x27;</span>

    cmd = [get_exec(<span class="hljs-string">&#x27;docker&#x27;</span>), <span class="hljs-string">&#x27;compose&#x27;</span>, <span class="hljs-string">&#x27;convert&#x27;</span>]
    proc = subprocess_run(cmd)

    <span class="hljs-comment"># &#x27;docker compose convert&#x27; needs serious fixing...</span>
    <span class="hljs-comment"># 1. add mandatory compose version.</span>
    compose = <span class="hljs-string">f&quot;version: &#x27;<span class="hljs-subst">{version}</span>&#x27;\n&quot;</span>
    <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> proc.stdout.splitlines():
        <span class="hljs-comment"># 2. remove conflicting name entry.</span>
        <span class="hljs-keyword">if</span> line.startswith(<span class="hljs-string">&#x27;name&#x27;</span>) : <span class="hljs-keyword">continue</span>
        <span class="hljs-comment"># 3. remove &#x27;&quot;&#x27; to define integers.</span>
        <span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;published&#x27;</span> <span class="hljs-keyword">in</span> line : line = line.replace(<span class="hljs-string">&#x27;&quot;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)
        compose = compose + <span class="hljs-string">f&#x27;<span class="hljs-subst">{line}</span>\n&#x27;</span>

    <span class="hljs-keyword">return</span> compose

...

<span class="hljs-keyword">def</span> <span class="hljs-title function_">stack_deploy</span>(<span class="hljs-params">stack, manager</span>):
    <span class="hljs-string">&#x27;&#x27;&#x27;Deploy a single docker stack on swarm manager.&#x27;&#x27;&#x27;</span>
    log.debug(<span class="hljs-string">f&#x27;stack=<span class="hljs-subst">{stack}</span>, manager=<span class="hljs-subst">{manager}</span>&#x27;</span>)
    log.info(<span class="hljs-string">f&#x27;<span class="hljs-subst">{stack}</span>: Deploying stack.&#x27;</span>)

    <span class="hljs-comment"># Setup working directory and environment</span>
    os.chdir(<span class="hljs-string">f&#x27;<span class="hljs-subst">{__dirname__}</span>/stacks/<span class="hljs-subst">{stack}</span>&#x27;</span>)
    machine_activate(manager)

    <span class="hljs-comment"># Add environment variables</span>
    env = [
      (<span class="hljs-string">&#x27;STACK&#x27;</span>, stack),
      (<span class="hljs-string">&#x27;MANAGER&#x27;</span>, manager)
    ]
    <span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> env:
        os.environ[key] = value

    <span class="hljs-comment"># If stack contains builds</span>
    <span class="hljs-keyword">if</span> os.path.isdir(<span class="hljs-string">&#x27;builds&#x27;</span>):
        <span class="hljs-keyword">for</span> build <span class="hljs-keyword">in</span> os.listdir(<span class="hljs-string">&#x27;builds&#x27;</span>):
            log.debug(<span class="hljs-string">f&#x27;build=<span class="hljs-subst">{build}</span>&#x27;</span>)
            <span class="hljs-comment"># Build image</span>
            log.info(<span class="hljs-string">f&#x27;<span class="hljs-subst">{stack}</span>: Building <span class="hljs-subst">{build}</span>.&#x27;</span>)
            cmd = [get_exec(<span class="hljs-string">&#x27;docker&#x27;</span>), <span class="hljs-string">&#x27;build&#x27;</span>, <span class="hljs-string">&#x27;-t&#x27;</span>, <span class="hljs-string">f&#x27;127.0.0.1:5000/<span class="hljs-subst">{stack}</span>-<span class="hljs-subst">{build}</span>&#x27;</span>, <span class="hljs-string">f&#x27;builds/<span class="hljs-subst">{build}</span>/.&#x27;</span>]
            proc = subprocess_run(cmd, timeout_s=<span class="hljs-number">240</span>)
            <span class="hljs-comment"># Push image to registry</span>
            log.info(<span class="hljs-string">f&#x27;<span class="hljs-subst">{stack}</span>: Pushing <span class="hljs-subst">{build}</span>.&#x27;</span>)
            cmd = [get_exec(<span class="hljs-string">&#x27;docker&#x27;</span>), <span class="hljs-string">&#x27;push&#x27;</span>, <span class="hljs-string">f&#x27;127.0.0.1:5000/<span class="hljs-subst">{stack}</span>-<span class="hljs-subst">{build}</span>:latest&#x27;</span>]
            proc = subprocess_run(cmd, timeout_s=<span class="hljs-number">240</span>)

    <span class="hljs-comment"># Deploy stack</span>
    compose = compose_convert()
    cmd = [get_exec(<span class="hljs-string">&#x27;docker&#x27;</span>), <span class="hljs-string">&#x27;stack&#x27;</span>, <span class="hljs-string">&#x27;deploy&#x27;</span>, <span class="hljs-string">&#x27;--compose-file&#x27;</span>, <span class="hljs-string">&#x27;-&#x27;</span>, stack]
    proc = subprocess_run(cmd, <span class="hljs-built_in">input</span>=compose)

    <span class="hljs-comment"># Revert working directory and environment</span>
    os.chdir(__dirname__)
    os.environ = __env__
    log.info(<span class="hljs-string">f&#x27;<span class="hljs-subst">{stack}</span>: Stack deployed.&#x27;</span>)

...

<span class="hljs-string">&quot;&quot;&quot; MAIN FUNCTION --------------------------------------------------------- &quot;&quot;&quot;</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-string">&#x27;&#x27;&#x27; Main entry point&#x27;&#x27;&#x27;</span>
    <span class="hljs-comment"># Parse args</span>
    args = parser.parse_args()
    log.debug(<span class="hljs-string">f&#x27;args=<span class="hljs-subst">{args}</span>, args.subcommand=<span class="hljs-subst">{args.subcommand}</span>&#x27;</span>)
    <span class="hljs-keyword">if</span> args.subcommand <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
        parser.print_help()
    <span class="hljs-keyword">else</span>:
        args.func(args)

    <span class="hljs-comment"># Debug:</span>
    <span class="hljs-comment"># print(&quot;User&#x27;s Environment variable:&quot;)</span>
    <span class="hljs-comment"># pprint.pprint(dict(__env__), width = 1)</span>

    <span class="hljs-comment"># Execution time</span>
    log.debug(<span class="hljs-string">f&#x27;Execution time: <span class="hljs-subst">{(time.time()-__start__)*<span class="hljs-number">10</span>**<span class="hljs-number">3</span>:<span class="hljs-number">.03</span>f}</span> ms&#x27;</span>)

<span class="hljs-string">&quot;&quot;&quot; RUNTIME --------------------------------------------------------------- &quot;&quot;&quot;</span>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:
    <span class="hljs-string">&#x27;&#x27;&#x27; This is executed when run from the command line &#x27;&#x27;&#x27;</span>
    main()
sys.exit(<span class="hljs-number">0</span>)


</code></pre>
    <!-- cSpell:enable -->
    <h5 id="7133-shell">7.1.3.3. Shell<!-- OK --></h5>
    <p>
      Un <strong>shell Unix</strong> est un
      <strong>interpréteur de commandes</strong> destiné aux systèmes
      d'exploitation Unix et de type Unix qui permet d'accéder aux
      fonctionnalités internes du système d'exploitation.
    </p>
    <p>
      Un <strong>script shell</strong> est une
      <strong>liste de commandes</strong> dans un programme qui est
      <strong>exécute par le shell Unix</strong>. Un script shell comprends des
      commandes et des commentaires décrivant les opérations effectuées. Ce sont
      généralement des exécutions de programmes, de la manipulation de fichiers
      et de l'affichage de texte.
    </p>
    <p>
      Voici <code>start.sh</code>, un exemple de script shell (utilisé par le
      Dockerfile précédent comme script de démarrage du conteneur) démarrant
      successivement un serveur ssh et l'applicatif de Tomcat :
    </p>
    <!-- cSpell:disable -->
    <pre><code class="language-sh">
<span class="hljs-comment">#!/usr/bin/env sh</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">${HOSTNAME}</span>:<span class="hljs-variable">$0</span>: &gt;&gt; Begin.&quot;</span>

<span class="hljs-built_in">set</span> -e

[ <span class="hljs-string">&quot;<span class="hljs-variable">$DEBUG</span>&quot;</span> == <span class="hljs-string">&#x27;true&#x27;</span> ] &amp;&amp; <span class="hljs-built_in">set</span> -x

<span class="hljs-comment"># Base image Ubuntu 22.04 uses sysvinit init system</span>
<span class="hljs-comment"># Use following instead of `systemctl enable --now ssh` to start ssh server</span>
service ssh start

<span class="hljs-comment"># Start tomcat service</span>
catalina.sh run

<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">${HOSTNAME}</span>:<span class="hljs-variable">$0</span>: &gt;&gt; Terminate.&quot;</span>

<span class="hljs-built_in">exec</span> <span class="hljs-string">&quot;<span class="hljs-variable">$@</span>&quot;</span>

</code></pre>
    <!-- cSpell:enable -->
    <h5 id="7134-xml">7.1.3.4. XML<!-- OK --></h5>
    <p>
      Le <strong>langage de balisage extensible</strong>, abrégé XML de
      l'anglais Extensible Markup Language est un
      <strong>métalangage de balisage générique</strong>, pour stocker,
      transmettre et reconstruire des données arbitraires. Il définit un jeux de
      règles pour construire des documents dans un format lisible facilement par
      l'homme ou la machine.
    </p>
    <p>
      L'objectif initial du XML est de
      <strong>faciliter l'échange automatisé</strong> de contenus complexes
      (arbres, texte enrichi, etc.) entre systèmes d'informations hétérogènes
      (interopérabilité).
    </p>
    <p>
      Voici des extraits de <code>web.xml</code>, fichier XML utilisé par le
      serveur Tomcat pour configurer l'application, dans lequel on peut voir des
      éléments sur l'authentification et la sécurité, ou la configuration des
      servlets :
    </p>
    <!-- cSpell:disable -->
    <pre><code class="language-xml">
<span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">web-app</span> 
    <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://java.sun.com/xml/ns/javaee&quot;</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;</span>
    <span class="hljs-attr">metadata-complete</span>=<span class="hljs-string">&quot;false&quot;</span>
    <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;3.0&quot;</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">display-name</span>&gt;</span>Storage Manager<span class="hljs-tag">&lt;/<span class="hljs-name">display-name</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ======================================================== Welcome files --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">welcome-file-list</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">welcome-file</span>&gt;</span>Welcome<span class="hljs-tag">&lt;/<span class="hljs-name">welcome-file</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">welcome-file-list</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ================================================== Security constraint --&gt;</span>
<span class="hljs-comment">&lt;!-- ............................................................... PUBLIC --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">security-constraint</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">web-resource-collection</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">web-resource-name</span>&gt;</span>All Access - Welcome page<span class="hljs-tag">&lt;/<span class="hljs-name">web-resource-name</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/Welcome<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">http-method</span>&gt;</span>GET<span class="hljs-tag">&lt;/<span class="hljs-name">http-method</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">web-resource-collection</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Omitting &lt;auth-constraint&gt; to get public access --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">user-data-constraint</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">transport-guarantee</span>&gt;</span>NONE<span class="hljs-tag">&lt;/<span class="hljs-name">transport-guarantee</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">user-data-constraint</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">security-constraint</span>&gt;</span>

...

<span class="hljs-comment">&lt;!-- ........................................................... RESTRICTED --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">security-constraint</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">web-resource-collection</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">web-resource-name</span>&gt;</span>Restricted Access - admin,user<span class="hljs-tag">&lt;/<span class="hljs-name">web-resource-name</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">http-method</span>&gt;</span>GET<span class="hljs-tag">&lt;/<span class="hljs-name">http-method</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">http-method</span>&gt;</span>POST<span class="hljs-tag">&lt;/<span class="hljs-name">http-method</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">web-resource-collection</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">auth-constraint</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">role-name</span>&gt;</span>admin<span class="hljs-tag">&lt;/<span class="hljs-name">role-name</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">role-name</span>&gt;</span>user<span class="hljs-tag">&lt;/<span class="hljs-name">role-name</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">auth-constraint</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">user-data-constraint</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">transport-guarantee</span>&gt;</span>NONE<span class="hljs-tag">&lt;/<span class="hljs-name">transport-guarantee</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">user-data-constraint</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">security-constraint</span>&gt;</span>

...

<span class="hljs-comment">&lt;!-- ................................................................ ROLES --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">security-role</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">role-name</span>&gt;</span>admin<span class="hljs-tag">&lt;/<span class="hljs-name">role-name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">role-name</span>&gt;</span>user<span class="hljs-tag">&lt;/<span class="hljs-name">role-name</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">security-role</span>&gt;</span>
<span class="hljs-comment">&lt;!-- ................................................................ LOGIN --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">login-config</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">auth-method</span>&gt;</span>FORM<span class="hljs-tag">&lt;/<span class="hljs-name">auth-method</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">realm-name</span>&gt;</span>default<span class="hljs-tag">&lt;/<span class="hljs-name">realm-name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">form-login-config</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">form-login-page</span>&gt;</span>/Login<span class="hljs-tag">&lt;/<span class="hljs-name">form-login-page</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">form-login-error</span>&gt;</span>/Error<span class="hljs-tag">&lt;/<span class="hljs-name">form-login-error</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form-login-config</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">login-config</span>&gt;</span>
<span class="hljs-comment">&lt;!-- ============================================================== Session --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">session-config</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-timeout</span>&gt;</span>30<span class="hljs-tag">&lt;/<span class="hljs-name">session-timeout</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">session-config</span>&gt;</span>
<span class="hljs-comment">&lt;!-- ============================================================ Listeners --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">listener</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">listener-class</span>&gt;</span>listener.Initializer<span class="hljs-tag">&lt;/<span class="hljs-name">listener-class</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">listener</span>&gt;</span>
<span class="hljs-comment">&lt;!-- ============================================================== Filters --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span> <span class="hljs-comment">&lt;!--                    SetSessionAttributes: read property file --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>SetSessionAttributes<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>filter.SetSessionAttributes<span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>SetSessionAttributes<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span>

...

<span class="hljs-comment">&lt;!-- ============================================================= Servlets --&gt;</span>

...

<span class="hljs-comment">&lt;!-- ............................................................. CATEGORY --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span> <span class="hljs-comment">&lt;!--                                              /CategoryInfo --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>CategoryInfo<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>servlet.category.CategoryInfo<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- &lt;load-on-startup&gt;0&lt;/load-on-startup&gt; --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>CategoryInfo<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/CategoryInfo<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span>

...

<span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span>

</code></pre>
    <!-- cSpell:enable -->
    <h5 id="7135-yaml">7.1.3.5. YAML<!-- OK --></h5>
    <p>
      YAML, acronyme de Yet Another Markup Language, un
      <strong>format de représentation de données</strong> par sérialisation
      Unicode, lisible facilement par l'homme.
    </p>
    <p>
      L'idée de YAML est que presque toute donnée peut être représentée par
      combinaison de listes, tableaux associatifs et données scalaires. Ce
      langage est couramment utilisé pour des
      <strong>fichiers de configuration</strong>, et dans les applications ou
      les données sont stockées ou transmises.
    </p>
    <p>
      Pour un exemple de fichier YAML, merci de vous référer à
      <a href="#7622-docker-compose">Docker Compose</a> ou
      <a href="#7623-docker-swarm">Docker Swarm</a>.
    </p>
    <h3 id="72-frameworks">7.2. Frameworks<!-- OK --></h3>
    <p>
      Dans la mesure ou ce
      <strong>projet est réalisé dans le cadre d'une formation</strong>, le but
      étant d’acquérir de solides bases sur les différents composants, il
      semblait naturel d’<strong
        >écarter la grande majorité des frameworks de développement</strong
      >.
    </p>
    <p>
      En effet, les diverses couches d’abstractions, bien que simplifiant
      grandement le développement d'une application, peuvent ici être
      contre-productifs :
    </p>
    <ul>
      <li>
        ils
        <strong
          >masquent les détails de la conception et de la mise en œuvre</strong
        >, ce qui rend plus difficile la comprehension comment les choses
        fonctionnent réellement.
      </li>
      <li>
        ils rendent plus difficile l'apprentissage des concepts de base de la
        programmation, car ils
        <strong>fournissent des solutions toutes faites</strong>, plutôt que de
        permettre aux développeurs de les
        <strong>résoudre les problèmes par eux-mêmes</strong>.
      </li>
      <li>
        ils rendent les
        <strong>applications plus lourdes et plus difficiles à déboguer</strong
        >, car ils ajoutent une couche supplémentaire d'abstraction.
      </li>
      <li>
        les différentes
        <strong
          >options existantes pour résoudre un problème donné sont
          limités</strong
        >
        aux solutions proposées par le framework.
      </li>
    </ul>
    <p>
      Il est cependant important de noter que
      <strong>lorsque l'on maîtrise les concepts de base</strong> et que l'on a
      une bonne compréhension de la façon dont les frameworks fonctionnent, ils
      peuvent être très
      <strong>utiles pour accélérer le développement</strong> et améliorer la
      qualité du code.
    </p>
    <p>
      Dans le cadre de ce projet, un des choix de framework aurait été Java
      <a href="https://spring.io/projects/spring-framework">Spring</a>.
    </p>
    <p>
      Nous avons cependant retenu
      <strong>deux frameworks pour ce projet</strong> :
    </p>
    <ul>
      <li>Java Authentication And Authorization Service</li>
      <li>reveal.js</li>
    </ul>
    <h4 id="721-jaas">7.2.1. JAAS<!-- OK --></h4>
    <p>
      <strong>Java Authentication And Authorization Service</strong> (JAAS) est
      un <strong>framework de sécurité de bas niveau</strong> de la plateforme
      Java SE. En améliorant l'architecture de la sécurité de Java, ce framework
      ajoute la capacité de forcer un contrôle d'accès sur l'utilisateur qui
      exécute le code.
    </p>
    <p>Il est utilisé pour deux raisons:</p>
    <ul>
      <li>
        <strong>Authentification</strong>: identification fiable et sécurisé de
        l'entité qui exécute actuellement le code, quelque soit son contexte
        d'exécution (application, applet, bean, servlet)
      </li>
      <li>
        <strong>Autorisation</strong>: vérification des droits de contrôle
        d'accès ou des autorisations requises pour exécuter du code sensible
      </li>
    </ul>
    <p>
      L'intégration du JAAS à l'application a été réalisé de la manière suivante
      :
    </p>
    <ul>
      <li>
        <strong>Création de deux classes</strong> java
        <code>UserPrincipal.java</code> et <code>RolePrincipal.java</code>,
        définissant les principaux :
      </li>
    </ul>
    <!-- cSpell:disable -->
    <pre><code class="language-java">
<span class="hljs-keyword">package</span> app.auth;
<span class="hljs-keyword">import</span> java.security.Principal;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserPrincipal</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Principal</span> {

  <span class="hljs-keyword">private</span> String name;

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@param</span> name
   */</span>
  <span class="hljs-keyword">public</span> <span class="hljs-title function_">UserPrincipal</span><span class="hljs-params">(String name)</span> {
    <span class="hljs-built_in">super</span>();
    <span class="hljs-built_in">this</span>.name = name;
  }

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@param</span> name
   */</span>
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
    <span class="hljs-built_in">this</span>.name = name;
  }

  <span class="hljs-comment">/*
   * (non-Javadoc)
   * 
   * @see java.security.Principal#getName()
   */</span>
  <span class="hljs-meta">@Override</span>
  <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">return</span> name;
  }
}


</code></pre>
    <!-- cSpell:enable -->
    <!-- cSpell:disable -->
    <pre><code class="language-java">
<span class="hljs-keyword">package</span> app.auth;
<span class="hljs-keyword">import</span> java.security.Principal;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RolePrincipal</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Principal</span> {
  <span class="hljs-keyword">private</span> String name;

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@param</span> name
   */</span>
  <span class="hljs-keyword">public</span> <span class="hljs-title function_">RolePrincipal</span><span class="hljs-params">(String name)</span> {
    <span class="hljs-built_in">super</span>();
    <span class="hljs-built_in">this</span>.name = name;
  }

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@param</span> name
   */</span>
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
    <span class="hljs-built_in">this</span>.name = name;
  }

  <span class="hljs-comment">/*
   * (non-Javadoc)
   * 
   * @see java.security.Principal#getName()
   */</span>
  <span class="hljs-meta">@Override</span>
  <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">return</span> name;
  }
}

</code></pre>
    <!-- cSpell:enable -->
    <ul>
      <li>
        <strong>Implémentation</strong> de la méthode <code>login()</code> de la
        classe <code>JAASLoginModule.java</code> :
      </li>
    </ul>
    <!-- cSpell:disable -->
    <pre><code class="language-java">
  ...

  <span class="hljs-comment">/*
   * (non-Javadoc)
   * 
   * In the login() method, we invoke the CallbackHandler.handle() method with a
   * NameCallback and a PasswordCallback to prompt and get the username and
   * password. Then, we compare these provided credentials with the hardcoded
   * ones.
   * 
   * @see javax.security.auth.spi.LoginModule#login()
   */</span>
  <span class="hljs-meta">@Override</span>
  <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">login</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> LoginException {
    <span class="hljs-type">NameCallback</span> <span class="hljs-variable">nameCallback</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NameCallback</span>(<span class="hljs-string">&quot;username: &quot;</span>);
    <span class="hljs-type">PasswordCallback</span> <span class="hljs-variable">passwordCallback</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PasswordCallback</span>(<span class="hljs-string">&quot;password: &quot;</span>, <span class="hljs-literal">false</span>);
    <span class="hljs-keyword">try</span> {
      callbackHandler.handle(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Callback</span>[] { nameCallback, passwordCallback });
      <span class="hljs-type">String</span> <span class="hljs-variable">login</span> <span class="hljs-operator">=</span> nameCallback.getName();
      <span class="hljs-type">String</span> <span class="hljs-variable">password</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(passwordCallback.getPassword());
      <span class="hljs-comment">// WARN: secrets in logfiles</span>
      log.info(<span class="hljs-string">&quot;#### Authenticating with: &quot;</span> + login + <span class="hljs-string">&quot; : &quot;</span> + password);

      <span class="hljs-type">UserDAO</span> <span class="hljs-variable">userDAO</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserDAO</span>();
      <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();

      <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// User retrieval</span>
        user = userDAO.getUserByCredentials(login, password);
        log.info(<span class="hljs-string">&quot;#### Retrieved user: &quot;</span> + user.getId() + <span class="hljs-string">&quot; : &quot;</span> + user.getEmail() + <span class="hljs-string">&quot; : &quot;</span> + user.getPassword());
      } <span class="hljs-keyword">catch</span> (SQLException e) {
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Auto-generated catch block</span>
        e.printStackTrace();
      }

      <span class="hljs-keyword">if</span> (user != <span class="hljs-literal">null</span>) {
        userGroups = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;String&gt;();
        <span class="hljs-keyword">for</span> (String role : user.getRoleList()) {
          userGroups.add(role);
        }
        loginSucceeded = <span class="hljs-literal">true</span>;
      }

    } <span class="hljs-keyword">catch</span> (IOException | UnsupportedCallbackException e) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">LoginException</span>(e.getMessage());
    }
    <span class="hljs-comment">// The login() method should return true for a successful operation and false</span>
    <span class="hljs-comment">// for a failed login.</span>
    log.info(<span class="hljs-string">&quot;Done&quot;</span>);
    <span class="hljs-keyword">return</span> loginSucceeded;
  }

  ...

</code></pre>
    <!-- cSpell:enable -->
    <ul>
      <li>
        <strong>Configurer le contexte</strong> de la couche JAAS avec le
        fichier <code>context.xml</code> :
      </li>
    </ul>
    <!-- cSpell:disable -->
    <pre><code class="language-xml">
<span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">Context</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Realm</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;org.apache.catalina.realm.JAASRealm&quot;</span> 
    <span class="hljs-attr">appName</span>=<span class="hljs-string">&quot;webapp&quot;</span>
    <span class="hljs-attr">userClassNames</span>=<span class="hljs-string">&quot;app.auth.UserPrincipal&quot;</span>
    <span class="hljs-attr">roleClassNames</span>=<span class="hljs-string">&quot;app.auth.RolePrincipal&quot;</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Context</span>&gt;</span>

</code></pre>
    <!-- cSpell:enable -->
    <ul>
      <li>Ajout du fichier <code>jaas.config</code> sur le serveur Tomcat :</li>
    </ul>
    <!-- cSpell:disable -->
    <pre><code class="language-config">
webapp { // appName is defined in webapp/META-INF/context.xml
  app.auth.JAASLoginModule required debug=true;
};

</code></pre>
    <!-- cSpell:enable -->
    <ul>
      <li>
        Ajout des paramètres supplémentaires au fichier
        <code>web.xml</code> pour
        <strong
          >configurer la sécurité et les autorisations dans
          l'application</strong
        >
        (extraits) :
      </li>
    </ul>
    <!-- cSpell:disable -->
    <pre><code class="language-xml">
...
<span class="hljs-comment">&lt;!-- ............................................................... PUBLIC --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">security-constraint</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">web-resource-collection</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">web-resource-name</span>&gt;</span>All Access - Web public content<span class="hljs-tag">&lt;/<span class="hljs-name">web-resource-name</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/www/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">http-method</span>&gt;</span>GET<span class="hljs-tag">&lt;/<span class="hljs-name">http-method</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- &lt;http-method&gt;POST&lt;/http-method&gt; --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">web-resource-collection</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Omitting &lt;auth-constraint&gt; to get public access --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">user-data-constraint</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">transport-guarantee</span>&gt;</span>NONE<span class="hljs-tag">&lt;/<span class="hljs-name">transport-guarantee</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">user-data-constraint</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">security-constraint</span>&gt;</span>
<span class="hljs-comment">&lt;!-- ........................................................... RESTRICTED --&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">security-constraint</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">web-resource-collection</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">web-resource-name</span>&gt;</span>Restricted Access - admin only<span class="hljs-tag">&lt;/<span class="hljs-name">web-resource-name</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/admin/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">http-method</span>&gt;</span>GET<span class="hljs-tag">&lt;/<span class="hljs-name">http-method</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">http-method</span>&gt;</span>POST<span class="hljs-tag">&lt;/<span class="hljs-name">http-method</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">web-resource-collection</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">auth-constraint</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">role-name</span>&gt;</span>admin<span class="hljs-tag">&lt;/<span class="hljs-name">role-name</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">auth-constraint</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">user-data-constraint</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">transport-guarantee</span>&gt;</span>NONE<span class="hljs-tag">&lt;/<span class="hljs-name">transport-guarantee</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">user-data-constraint</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">security-constraint</span>&gt;</span>
<span class="hljs-comment">&lt;!-- ................................................................ ROLES --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">security-role</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">role-name</span>&gt;</span>admin<span class="hljs-tag">&lt;/<span class="hljs-name">role-name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">role-name</span>&gt;</span>user<span class="hljs-tag">&lt;/<span class="hljs-name">role-name</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">security-role</span>&gt;</span>
<span class="hljs-comment">&lt;!-- ................................................................ LOGIN --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">login-config</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">auth-method</span>&gt;</span>FORM<span class="hljs-tag">&lt;/<span class="hljs-name">auth-method</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">realm-name</span>&gt;</span>default<span class="hljs-tag">&lt;/<span class="hljs-name">realm-name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">form-login-config</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">form-login-page</span>&gt;</span>/Login<span class="hljs-tag">&lt;/<span class="hljs-name">form-login-page</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">form-login-error</span>&gt;</span>/Error<span class="hljs-tag">&lt;/<span class="hljs-name">form-login-error</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form-login-config</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">login-config</span>&gt;</span>
...

</code></pre>
    <!-- cSpell:enable -->
    <ul>
      <li>
        <strong>Configurer le serveur</strong> pour démarrer en intégrant le
        JAAS. Ici on ajoute l'option en passant une variable d’environnement au
        Tomcat :
      </li>
    </ul>
    <!-- cSpell:disable -->
    <pre><code class="language-shell"><span class="hljs-meta prompt_">
$</span><span class="language-bash">JAVA_OPTS <span class="hljs-string">&quot;-Djava.security.auth.login.config=<span class="hljs-variable">$CATALINA_HOME</span>/conf/jaas.config&quot;</span></span>

</code></pre>
    <!-- cSpell:enable -->
    <h4 id="722-revealjs">7.2.2. reveal.js<!-- OK --></h4>
    <p>
      reveal.js est un
      <strong>framework de présentation HTML</strong> opensource. Il permet de
      réaliser facilement, à l'aide de n'importe quel navigateur web, des
      présentations de qualité.
    </p>
    <p>
      Le framework dispose de nombreuses fonctions dont les vues verticales, le
      support du Markdown, l'animation automatique, l'export en PDF, les notes
      de présentation. Il dispose aussi d'une API étendue.
    </p>
    <p>
      Dans le cadre de ce projet, les éléments de présentations utilisent le
      framework reveal.js.
    </p>
    <p>
      Dans l'exemple suivant on utilise un fichier <code>README.md</code> en
      <strong>Markdown</strong> pour créer la <strong>présentation</strong>. Les
      attributs de la section permettent de détecter les enchaînements de ligne
      vide comme délimiteur de diapositives :
    </p>
    <!-- cSpell:disable -->
    <pre><code class="language-html">
<span class="hljs-meta">&lt;!doctype <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>reveal.js - The HTML Presentation Framework<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;description&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;short description&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;author&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;Thibault HULAUX&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;apple-mobile-web-app-capable&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;yes&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;apple-mobile-web-app-status-bar-style&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;black-translucent&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;dist/reset.css&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;dist/reveal.css&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;dist/theme/black.css&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;theme&quot;</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Theme used for syntax highlighting of code --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;plugin/highlight/monokai.css&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;reveal&quot;</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- Any section element inside of this container is displayed as a slide --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;slides&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">data-markdown</span>=<span class="hljs-string">&quot;README.md&quot;</span>
          <span class="hljs-attr">data-separator</span>=<span class="hljs-string">&quot;^\n\n\n&quot;</span>
          <span class="hljs-attr">data-separator-vertical</span>=<span class="hljs-string">&quot;^\n\n&quot;</span>
          <span class="hljs-attr">data-separator-notes</span>=<span class="hljs-string">&quot;^Note:&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;dist/reveal.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;plugin/zoom/zoom.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;plugin/notes/notes.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;plugin/search/search.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;plugin/markdown/markdown.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;plugin/highlight/highlight.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">
      <span class="hljs-comment">// Also available as an ES module, see:</span>
      <span class="hljs-comment">// https://revealjs.com/initialization/</span>
      <span class="hljs-title class_">Reveal</span>.<span class="hljs-title function_">initialize</span>({
        <span class="hljs-attr">controls</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">progress</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">center</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">hash</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-comment">// Learn about plugins: https://revealjs.com/plugins/</span>
        <span class="hljs-attr">plugins</span>: [ <span class="hljs-title class_">RevealZoom</span>, <span class="hljs-title class_">RevealNotes</span>, <span class="hljs-title class_">RevealSearch</span>, <span class="hljs-title class_">RevealMarkdown</span>, <span class="hljs-title class_">RevealHighlight</span> ]
        });
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>


</code></pre>
    <!-- cSpell:enable -->
    <h3 id="73-versioning-gitlabgithub">
      7.3. Versioning (gitlab/github)<!-- OK -->
    </h3>
    <h4 id="731-gitlab">7.3.1. GitLab<!-- OK --></h4>
    <p>
      GitLab est un <strong>logiciel libre de forge</strong> (système de gestion
      et de maintenance collaborative) basé sur git, proposant les
      fonctionnalités de wiki, un système de suivi des bugs, l’intégration
      continue et la livraison continue. Ses fonctionnalités étendues en font
      bien plus qu'un simple un outil de contrôle de version.
    </p>
    <p>
      Il est par exemple possible d'y attacher un <strong>helpdesk</strong>, lié
      au système de <strong>suivi de bugs</strong>, afin de
      <strong>planifier et allouer des taches</strong> aux différents
      intervenants du projet.
    </p>
    <p>
      GitLab permet aussi, au travers de sa
      <strong>gestion du pipeline et des runners</strong>, de tester et de
      construire la couche applicative, de produire la documentation,
      d'automatiser le provisionnement des serveurs nécessaires et d'y déployer
      l'application finalisée.
    </p>
    <p>
      L'ensemble du <strong>projet est versionné sur GitLab</strong>. Le projet
      <strong>exploite Gitlab CI/CD</strong>, nous permettant d'automatiser le
      pipeline Devops pour la compilation, les tests et le déploiement.
    </p>
    <p>
      Vous trouverez ci-après un extrait du fichier <code>.gitlab-ci.yml</code>,
      construit lui aussi sur le principe du template, utilisé pour la
      configuration de pipeline. Il reprend les tâches configurées dans Gradle
      (Cf. <a href="#761-automatisation-de-build">Gradle</a>) :
    </p>
    <!-- cSpell:disable -->
    <pre><code class="language-md">
...

<span class="hljs-section"># Include templates</span>
include:
<span class="hljs-bullet">  -</span> project: &#x27;thx-lpg/thx-lpg-java-storagemanagement&#x27;
<span class="hljs-code">    # ref: 0.5.0 #Project `thx-lpg/thx-lpg-java-storagemanagement` reference `0.5.0` does not exist!
    # ref: main
    file:
    - &#x27;ci/java/debug.yml&#x27;
    - &#x27;ci/java/build.yml&#x27;
    - &#x27;ci/java/test.yml&#x27;
    # - &#x27;ci/java/terraform_dev.yml&#x27;
    # - &#x27;ci/java/deploy_dev.yml&#x27;
</span>
<span class="hljs-section"># Workflow</span>
workflow:
  rules:
<span class="hljs-bullet">    -</span> if: &#x27;$CI<span class="hljs-emphasis">_PIPELINE_</span>SOURCE == &quot;merge<span class="hljs-emphasis">_request_</span>event&quot;&#x27;
<span class="hljs-bullet">    -</span> if: &#x27;$CI<span class="hljs-emphasis">_COMMIT_</span>BRANCH == $CI<span class="hljs-emphasis">_DEFAULT_</span>BRANCH&#x27;

<span class="hljs-section"># Default docker image</span>
image: alpine

<span class="hljs-section"># Default variables</span>
variables:
  CI<span class="hljs-emphasis">_DEBUG_</span>TRACE: &quot;false&quot; # Debug
  BUILD<span class="hljs-emphasis">_PATH: &quot;app/build&quot;
  GRADLE_</span>PATH: &quot;.gradle&quot;
  GRADLE<span class="hljs-emphasis">_OPTS: &quot;-Dorg.gradle.daemon=false&quot;

# Pipeline stages
stages:
  - debug
  - build
  - test
  - docker
  - deploy
  - clean

# Execute before each job
before_</span>script:
<span class="hljs-bullet">  -</span> echo &quot;Start ${CI<span class="hljs-emphasis">_JOB_</span>NAME} - stage:${CI<span class="hljs-emphasis">_JOB_</span>STAGE}&quot;
<span class="hljs-bullet">  -</span> export GRADLE<span class="hljs-emphasis">_USER_</span>HOME=<span class="hljs-code">`pwd`</span>/${GRADLE<span class="hljs-emphasis">_PATH}

# Execute after each job
after_</span>script:
<span class="hljs-bullet">  -</span> echo &quot;End ${CI<span class="hljs-emphasis">_JOB_</span>NAME} - stage:${CI<span class="hljs-emphasis">_JOB_</span>STAGE}&quot;

<span class="hljs-section"># Debug</span>
job:debug:
  tags:
<span class="hljs-bullet">  -</span> thx
  stage: debug
  extends: .template:ci:java:debug

<span class="hljs-section"># Build</span>
job:build:
  tags:
<span class="hljs-bullet">  -</span> thx
  stage: build
  extends: .template:ci:java:build

<span class="hljs-section"># Test</span>
job:test:
  tags:
<span class="hljs-bullet">  -</span> thx
  stage: test
  extends: .template:ci:java:test

...

</code></pre>
    <!-- cSpell:enable -->
    <h3 id="74-sgbd-utilisé-mysqlpostgresql">
      7.4. SGBD utilisé (MYSQL/PostgreSQL)<!-- OK -->
    </h3>
    <p>
      Le choix du Système de Gestion de Base de Données s'est appuyé sur les
      elements suivants :
    </p>
    <ul>
      <li>
        <p><strong>MySQL</strong></p>
        <ul>
          <li>populaire et communauté active</li>
          <li>performant pour les applications web à haute charge</li>
          <li>multi-plateforme</li>
          <li>manque de fonctionnalités avancées</li>
          <li>pas de support natif pour les types de données non numériques</li>
        </ul>
      </li>
      <li>
        <p><strong>PostgreSQL</strong></p>
        <ul>
          <li>
            fonctionnalités avancées (transactions de niveau de série,
            réplication de plusieurs maîtres)
          </li>
          <li>support natif pour les types de données non numériques</li>
          <li>
            adapté pour les calculs d'agrégation et les opérations de géométrie
          </li>
          <li>moins populaire et communauté moins active</li>
          <li>peut être moins performant dans certaines situations</li>
        </ul>
      </li>
    </ul>
    <p>Nous avons fait le choix de retenir MariaDB.</p>
    <h4 id="741-mariadb">7.4.1. MariaDB<!-- OK --></h4>
    <p>
      MariaDB est un
      <strong>système de gestion de base de données relationnelles</strong>
      édité sous licence GPL. Il s'agit d'une
      <strong>branche communautaire</strong> de MySQL. L'objectif est de
      maintenir une haute <strong>compatibilité avec MySQL</strong>, une parité
      des librairies et une correspondance parfaite avec l'API ainsi que les
      commandes MySQL. Ceci permettant, dans la plupart des cas de fonctionner
      en remplacement direct de MySQL.
    </p>
    <h3 id="75-outils-de-maquettage">7.5. Outils de maquettage<!-- OK --></h3>
    <h4 id="751-figma">7.5.1. Figma<!-- OK  --></h4>
    <p>
      Figma est une
      <strong
        >application web collaborative d'édition de graphiques vectoriels et de
        prototypage</strong
      >. Il est principalement basé sur le web, avec des fonctionnalités hors
      ligne supplémentaires activées par des applications de bureau.
    </p>
    <p>
      L'ensemble des fonctionnalités de Figma est
      <strong>axé sur l'utilisation</strong>, dans la conception,
      <strong>de l'interface utilisateur et de l'expérience utilisateur</strong
      >, en mettant l'accent sur la collaboration en temps réel.
    </p>
    <p>
      Dans le cadre de ce projet, Figma a ete utilisé pour la création de
      wireframe et de maquettes dans les pahses d'élaboration du projet.
    </p>
    <h4 id="752-plantuml">7.5.2. PlantUML<!-- OK --></h4>
    <p>
      PlantUML est un <strong>outil libre</strong> permettant de
      <strong>créer des diagrammes UML a partir de fichiers texte</strong>. En
      dehors des UML classiques, PlantUML supporte de nombreux autres formats
      (Archimate, Block diagram, BPMN, C4, Computer network diagram, ERD, Gantt
      chart, Mind map, and WBD), ainsi que la visualisation des fichier JSON et
      YAML.
    </p>
    <p>
      La création et l'édition d'UML simples permet de représenter et de
      concevoir la structure ou les fonctionnalités recherches d'un logiciel
      (Activité, Acteurs, Processus, Schéma de base de données, Composants
      logiciels), et fait partie intégrante du prototypage.
    </p>
    <p>
      Voici en exemple le fichier <code>mvc-seq-uml.puml</code> qui produit un
      diagramme de séquence pour un modèle MVC :
    </p>
    <p>
      <img
        src="file:///c:\Users\IDFORMATION\workspaces\doc-idformation\src\rapport\img\mvc-seq-uml.png"
        alt="Sequence MVC"
      />
    </p>
    <!-- cSpell:disable -->

    <pre><code><code>⚠️No PlantUML server, specify one with "plantuml.server".


@startuml mvc-seq-uml

skinparam roundcorner 20
skinparam responseMessageBelowArrow true

title Model View Controller

actor User as U
participant "View" as V  #LightBlue
participant "Controller" as C  #LightCoral
participant "Model" as M  #LightGreen
database DB as D

U -> C : Request
C -> M : Update
M -> D : Query
M <-- D : Response
C <-- M : Notify
C -> V : Update
U <-- V : Response

@enduml

</code></code></pre>
    <!-- cSpell:enable -->
    <h3 id="76-plateforme-de-développement">
      7.6. Plateforme de développement
    </h3>
    <h4 id="761-automatisation-de-build">
      7.6.1. Automatisation de build<!-- OK -->
    </h4>
    <p>
      Le choix du moteur de production s'est appuyé sur les elements suivants :
    </p>
    <ul>
      <li>
        <p><strong>Gradle</strong></p>
        <ul>
          <li>hautement configurable</li>
          <li>performant et efficient (2 fois plus que Maven)</li>
          <li>flexible (système de plugins)</li>
          <li>requiert une expertise technique</li>
          <li>documentation incomplete</li>
        </ul>
      </li>
      <li>
        <p><strong>Maven</strong></p>
        <ul>
          <li>procédure simple et organisée</li>
          <li>télécharge automatiquement les Jar et dépendances</li>
          <li>requiert une installation locale</li>
          <li>lent</li>
        </ul>
      </li>
    </ul>
    <p>Après une série de tests, notre choix s'est oriente vers Gradle.</p>
    <p>
      <strong>Gradle</strong> est un
      <strong>moteur de production</strong> fonctionnant sur la plateforme Java.
      Il permet de construire des projets en Java, Scala, Groovy voire C++. Il
      allie l'utilisation de conventions à la manière de Maven (convention
      plutôt que configuration) avec la flexibilité de Ant pour décrire les
      tâches de construction.
    </p>
    <p>
      Gradle permet d'écrire des tâches dans un fichier de construction en
      utilisant le langage Groovy, qui permettent d’exécuter des activités
      d’<strong>ingénierie logicielle</strong> (compilation, assemblage, test
      unitaires, qualité du code, déploiement...)
    </p>
    <p>
      <strong>Notes :</strong> Les taches construites pour gradle sont également
      appelées lors des différentes phases du pipeline DevOps.
    </p>
    <p>
      Voici des extraits du fichier <code>build.gradle</code> utilisé dans le
      cadre de notre projet :
    </p>
    <!-- cSpell:disable -->
    <pre><code class="language-go">
...

<span class="hljs-comment">// -------------------------------------------------------------------- Plugins</span>
plugins {
  <span class="hljs-comment">// Apply the application plugin to add support for building a CLI application in Java.</span>
  <span class="hljs-comment">// [https://docs.gradle.org/current/userguide/java_plugin.html]</span>
  id <span class="hljs-string">&#x27;java&#x27;</span>

  <span class="hljs-comment">// Apply the JVM Test Suite plugin (applied automatically by the java plugin)</span>
  <span class="hljs-comment">// [https://docs.gradle.org/current/userguide/jvm_test_suite_plugin.html]</span>
  id <span class="hljs-string">&#x27;jvm-test-suite&#x27;</span>

  <span class="hljs-comment">// Apply the war plugin</span>
  <span class="hljs-comment">// [https://docs.gradle.org/current/userguide/war_plugin.html]</span>
  id <span class="hljs-string">&#x27;war&#x27;</span>

  <span class="hljs-comment">// Apply the ssh plugin</span>
  <span class="hljs-comment">// [https://gradle-ssh-plugin.github.io/docs/]</span>
  id <span class="hljs-string">&#x27;org.hidetake.ssh&#x27;</span> version <span class="hljs-string">&#x27;2.10.1&#x27;</span>

  <span class="hljs-comment">// Apply the SpotBugs plugin (Static Application Security Testing)</span>
  <span class="hljs-comment">// [https://github.com/spotbugs/spotbugs-gradle-plugin]</span>
  <span class="hljs-comment">// [https://spotbugs.readthedocs.io/en/latest/]</span>
  id <span class="hljs-string">&quot;com.github.spotbugs&quot;</span> version <span class="hljs-string">&quot;5.0.9&quot;</span>
}

...

<span class="hljs-comment">// --------------------------------------------------------------- Repositories</span>
repositories {
  <span class="hljs-comment">// Order here is important. Repositories are queried sequentially.</span>
  mavenLocal() <span class="hljs-comment">// Local repository</span>
  mavenCentral() <span class="hljs-comment">// Central repository</span>
  maven {
      url = uri(<span class="hljs-string">&#x27;https://repo.maven.apache.org/maven2/&#x27;</span>)
  }
}

<span class="hljs-comment">// --------------------------------------------------------------- Dependencies</span>
<span class="hljs-comment">// [https://docs.gradle.org/current/userguide/core_dependency_management.html]</span>
<span class="hljs-comment">// implementation = compileClasspath + runtimeClasspath (integrated in war)</span>
<span class="hljs-comment">// providedCompile = compileClasspath (not integrated in war)</span>
dependencies {
    <span class="hljs-comment">// Use JUnit Jupiter for unit testing</span>
    testImplementation <span class="hljs-string">&#x27;org.junit.jupiter:junit-jupiter-api:5.9.0&#x27;</span> <span class="hljs-comment">// API</span>
    testRuntimeOnly <span class="hljs-string">&#x27;org.junit.jupiter:junit-jupiter-engine:5.9.0&#x27;</span> <span class="hljs-comment">// Runtime</span>

    <span class="hljs-comment">// Use Mockito for unit testing [https://site.mockito.org/]</span>
    testImplementation <span class="hljs-string">&quot;org.mockito:mockito-core:3.+&quot;</span>

    <span class="hljs-comment">// Use JUnit Jupiter for integration testing</span>
    itestImplementation <span class="hljs-string">&#x27;org.junit.jupiter:junit-jupiter-api:5.9.0&#x27;</span> <span class="hljs-comment">// API</span>
    itestRuntimeOnly <span class="hljs-string">&#x27;org.junit.jupiter:junit-jupiter-engine:5.9.0&#x27;</span> <span class="hljs-comment">// Runtime</span>

    implementation <span class="hljs-string">&#x27;javax.servlet:jstl:1.2&#x27;</span> <span class="hljs-comment">// JSTL</span>
    implementation <span class="hljs-string">&#x27;mysql:mysql-connector-java:8.0.29&#x27;</span> <span class="hljs-comment">// MySQL</span>
    implementation <span class="hljs-string">&#x27;commons-codec:commons-codec:1.15&#x27;</span> <span class="hljs-comment">// DigestUtils.sha512Hex</span>
    providedCompile <span class="hljs-string">&#x27;javax.servlet:javax.servlet-api:4.0.1&#x27;</span> <span class="hljs-comment">// Servlet</span>

...

    <span class="hljs-comment">// https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api</span>
    implementation <span class="hljs-string">&#x27;javax.xml.bind:jaxb-api:2.3.1&#x27;</span> <span class="hljs-comment">// JAXB (xml&lt;&gt;java)</span>
}

...

<span class="hljs-comment">// ------------------------------------------------------------------------ ssh</span>
ssh.settings {
  dryRun = project.hasProperty(<span class="hljs-string">&#x27;dryRun&#x27;</span>)
  timeoutSec = <span class="hljs-number">600</span>
}

remotes {
  app {
    role <span class="hljs-string">&#x27;tomcat&#x27;</span>
    host = <span class="hljs-string">&#x27;localhost&#x27;</span>
    port = <span class="hljs-number">2222</span>
    user = <span class="hljs-string">&#x27;root&#x27;</span>
    password = <span class="hljs-string">&#x27;root&#x27;</span>
    knownHosts = allowAnyHosts <span class="hljs-comment">// Bypass ~/.ssh/known_hosts</span>
    <span class="hljs-comment">// identity = file(&#x27;id_rsa&#x27;)</span>
  }
}

...

task deploy(dependsOn: war) {
  description = <span class="hljs-string">&quot;Deploy on dev server&quot;</span>
  doLast {
    def webapps = <span class="hljs-string">&#x27;/usr/local/tomcat/webapps&#x27;</span>
    def app = <span class="hljs-string">&#x27;ROOT.war&#x27;</span>
    ssh.run {
      session(remotes.app) {
        <span class="hljs-built_in">println</span> <span class="hljs-string">&quot;- Uploading new war&quot;</span>
        put from: war.archivePath.absolutePath, into: <span class="hljs-string">&quot;${webapps}/${app}.new&quot;</span>

        <span class="hljs-built_in">println</span> <span class="hljs-string">&quot;- Removing old war&quot;</span>
        execute <span class="hljs-string">&quot;rm ${webapps}/${app}&quot;</span>, ignoreError: <span class="hljs-literal">true</span>

        <span class="hljs-built_in">println</span> <span class="hljs-string">&quot;- Renaming new war&quot;</span>
        execute <span class="hljs-string">&quot;mv ${webapps}/${app}.new ${webapps}/${app}&quot;</span>

        <span class="hljs-built_in">println</span> <span class="hljs-string">&quot;${webapps}/${app} deployed&quot;</span>
      }
    }
  }
}

...

<span class="hljs-comment">// ----------------------------------------------------------------------- SAST</span>
spotbugs {
  effort = <span class="hljs-string">&#x27;max&#x27;</span>
  ignoreFailures = <span class="hljs-literal">true</span>
  <span class="hljs-comment">// reportLevel = &#x27;high&#x27;</span>
  reportLevel = <span class="hljs-string">&#x27;default&#x27;</span>
  showProgress = <span class="hljs-literal">true</span>
  showStackTraces = <span class="hljs-literal">true</span>
  maxHeapSize = <span class="hljs-string">&#x27;1g&#x27;</span>
  reportsDir = file(<span class="hljs-string">&quot;$buildDir/reports/spotbugs&quot;</span>)
}

spotbugsMain {
  reports {
    xml.enabled = <span class="hljs-literal">true</span>
    html.enabled = <span class="hljs-literal">true</span>
  }
}

spotbugsTest {
  reports {
    xml.enabled = <span class="hljs-literal">true</span>
    html.enabled = <span class="hljs-literal">true</span>
  }
}

spotbugsItest {
  reports {
    xml.enabled = <span class="hljs-literal">true</span>
    html.enabled = <span class="hljs-literal">true</span>
  }
}

<span class="hljs-comment">// --------------------------------------------------------------- Unit testing</span>
tasks.named(<span class="hljs-string">&#x27;test&#x27;</span>) {
  description = <span class="hljs-string">&quot;Run unit test suite&quot;</span>
  group = <span class="hljs-string">&quot;verification&quot;</span>
  testClassesDirs = sourceSets.test.output.classesDirs
  classpath = sourceSets.test.runtimeClasspath
  <span class="hljs-comment">// Use JUnit Platform for unit tests.</span>
  useJUnitPlatform()
}

<span class="hljs-comment">// -------------------------------------------------------- Integration testing</span>
task itest(<span class="hljs-keyword">type</span>: Test) {
  description = <span class="hljs-string">&quot;Run integration test suite&quot;</span>
  group = <span class="hljs-string">&quot;verification&quot;</span>
  testClassesDirs = sourceSets.itest.output.classesDirs
  classpath = sourceSets.itest.runtimeClasspath
}

...

</code></pre>
    <!-- cSpell:enable -->
    <h4 id="762-containérisation-et-services">
      7.6.2. Containérisation et services<!-- OK -->
    </h4>
    <p>Docker est un outil qui permet de gérer les conteneurs logiciels.</p>
    <p>
      Containériser une application facilite
      <strong>l'isolation des différentes parties</strong>,
      <strong>la portabilité</strong> entre différents environnements,
      <strong>l'optimisation des ressources</strong>,
      <strong>l'automatisation du déploiement</strong> et le partage des images
      de conteneurs.
    </p>
    <p>
      Docker est populaire pour la création, le déploiement et la gestion des
      conteneurs dans les applications modernes containérisées.
    </p>
    <h5 id="7621-docker">7.6.2.1. Docker<!-- OK --></h5>
    <p>
      <strong>Docker</strong> permet la mise en œuvre de
      <strong>conteneurs</strong> s'exécutant en isolation, via une API de
      haut-niveau.
    </p>
    <p>
      Utiliser Docker pour créer et gérer des conteneurs peut simplifier la mise
      en œuvre de <strong>systèmes distribués</strong> en permettant à de
      multiples applications, tâches de fond et autres processus de s'exécuter
      de façon autonome sur une seule machine physique.
    </p>
    <p>
      Voici un exemple de commande qui peut être utilisée pour transformer un
      fichier Markdown <code>entree.md</code> en fichier HTML au moyen de
      l'applicatif Pandoc, mais en utilisant l'image Docker
      <code>pandoc/core</code> (disponible sur
      <a href="https://hub.docker.com/">Docker Hub</a> :
    </p>
    <!-- cSpell:disable -->
    <pre><code class="language-sh">
docker run --<span class="hljs-built_in">rm</span> -v $(<span class="hljs-built_in">pwd</span>):/data pandoc/core pandoc -s -o sortie.html entree.md

</code></pre>
    <!-- cSpell:enable -->
    <p>
      Cette commande suppose que le fichier markdown se trouve dans le
      répertoire courant et créera un fichier HTML nommé
      <code>sortie.html</code> dans le même répertoire.
    </p>
    <h5 id="7622-docker-compose">7.6.2.2. Docker Compose<!-- OK --></h5>
    <p>
      Docker Compose est une extension de docker permettant de définir et
      d'exécuter des applications à partir de
      <strong>multiples conteneurs</strong>. Il est basé sur un fichier YAML qui
      permet de
      <strong>définir les services et les paramètres de leurs créations</strong>
      et ainsi de les démarrer par une commande unique.
    </p>
    <p>
      <img
        src="file:///c:\Users\IDFORMATION\workspaces\doc-idformation\src\rapport\img\docker-compose-uml.png"
        alt="Docker Compose Diagram"
      />
    </p>
    <p>
      Voici en exemple le fichier <code>docker-compose.yml</code> qui définit le
      démarrage d'une grappe de 3 services composant la plateforme de
      développement attachée au projet (les variables sont interprétées au
      travers d'un fichier d’environnement) :
    </p>
    <!-- cSpell:disable -->
    <pre><code class="language-yaml">
<span class="hljs-attr">version:</span> <span class="hljs-string">&quot;3&quot;</span>
<span class="hljs-attr">services:</span>
<span class="hljs-comment"># ------------------------------------------------------------------------- web</span>
  <span class="hljs-attr">web:</span> <span class="hljs-comment"># NGINX</span>
    <span class="hljs-attr">build:</span>
      <span class="hljs-attr">context:</span> <span class="hljs-string">${WEB_BUILD}</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">${PROJECT}-${WEB}</span>
    <span class="hljs-attr">restart:</span> <span class="hljs-string">unless-stopped</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">app</span>
    <span class="hljs-attr">links:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">app</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">${HOST_IP}:${HOST_WEB_UNSECURE_PORT}:80</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">${HOST_IP}:${HOST_WEB_SECURE_PORT}:443</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">${WEB_CONF}/nginx.conf:/etc/nginx/nginx.conf:ro</span> <span class="hljs-comment"># Nginx conf (read-only)</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">${WEB_CONF}/conf.d:/etc/nginx/conf.d:ro</span> <span class="hljs-comment"># Nginx conf subsets for proxypass (read-only)</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">${WEB_LOG}:/var/log/nginx</span> <span class="hljs-comment"># Logs</span>
      <span class="hljs-comment"># - ${WEB_DATA}:/usr/share/nginx/html # Data</span>
<span class="hljs-comment"># ------------------------------------------------------------------------- app</span>
  <span class="hljs-attr">app:</span> <span class="hljs-comment"># TOMCAT</span>
    <span class="hljs-attr">build:</span>
      <span class="hljs-attr">context:</span> <span class="hljs-string">${APP_BUILD}</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">${PROJECT}-${APP}</span>
    <span class="hljs-attr">restart:</span> <span class="hljs-string">unless-stopped</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">db</span>
    <span class="hljs-attr">links:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">db</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">${HOST_IP}:${HOST_APP_UNSECURE_PORT}:8080</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">${HOST_IP}:${HOST_APP_SSH_PORT}:22</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">${APP_CONF}/jaas.config:${CATALINA_HOME}/conf/jaas.config:ro</span> <span class="hljs-comment"># JAAS config file (read-only)</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">${APP_LOG}:${CATALINA_HOME}/logs</span> <span class="hljs-comment"># Logs</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">${APP_DATA}:${CATALINA_HOME}/webapps</span> <span class="hljs-comment"># Data</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-comment"># Starts tomcat with jaas config file</span>
      <span class="hljs-attr">JAVA_OPTS:</span> <span class="hljs-string">$JAVA_OPTS</span> <span class="hljs-string">&quot;-Djava.security.auth.login.config=$CATALINA_HOME/conf/jaas.config&quot;</span>
      <span class="hljs-comment"># Database</span>
      <span class="hljs-attr">MARIADB_DATABASE:</span> <span class="hljs-string">${MARIADB_DATABASE}</span>
      <span class="hljs-attr">MARIADB_USER:</span> <span class="hljs-string">${MARIADB_USER}</span>
      <span class="hljs-attr">MARIADB_PASSWORD:</span> <span class="hljs-string">${MARIADB_PASSWORD}</span>
<span class="hljs-comment"># -------------------------------------------------------------------------- db</span>
  <span class="hljs-attr">db:</span> <span class="hljs-comment"># MARIADB</span>
    <span class="hljs-attr">build:</span>
      <span class="hljs-attr">context:</span> <span class="hljs-string">${DB_BUILD}</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">${PROJECT}-${DB}</span>
    <span class="hljs-attr">restart:</span> <span class="hljs-string">unless-stopped</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">${HOST_IP}:${HOST_DB_PORT}:3306</span>
    <span class="hljs-attr">volumes:</span> 
      <span class="hljs-bullet">-</span> <span class="hljs-string">${DB_CONF}/initdb:/docker-entrypoint-initdb.d:ro</span> <span class="hljs-comment"># SQL initdb</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">${DB_LOG}:/var/log/mariadb</span> <span class="hljs-comment"># Logs</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">${DB_DATA}:/var/lib/mysql</span> <span class="hljs-comment"># Data</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-comment"># Database</span>
      <span class="hljs-attr">MARIADB_ROOT_PASSWORD:</span> <span class="hljs-string">${MARIADB_ROOT_PASSWORD}</span>
      <span class="hljs-attr">MARIADB_DATABASE:</span> <span class="hljs-string">${MARIADB_DATABASE}</span>
      <span class="hljs-attr">MARIADB_USER:</span> <span class="hljs-string">${MARIADB_USER}</span>
      <span class="hljs-attr">MARIADB_PASSWORD:</span> <span class="hljs-string">${MARIADB_PASSWORD}</span>

</code></pre>
    <!-- cSpell:enable -->
    <h5 id="7623-docker-swarm">7.6.2.3. Docker Swarm<!-- OK --></h5>
    <p>
      Docker swarm mode, inclus dans les versions actuelles de Docker, permet de
      <strong>gérer un cluster de moteur Docker</strong>, appelé swarm. En
      utilisant la ligne de commande docker, il est possible de créer un swarm,
      d'y déployer des services applicatifs, et de gérer le comportement du
      swarm. Docker swarm est
      <strong>l'orchestrateur natif de docker</strong> (équivalent Kubernetes).
    </p>
    <p>Les fonctions les plus représentatives sont les suivantes :</p>
    <ul>
      <li>
        <strong>Gestion</strong> du cluster
        <strong>intégrée avec le moteur Docker</strong>
      </li>
      <li><strong>Modèle déclaratif</strong> (desired state)</li>
      <li>
        Surveillance du <strong>status et réconciliation</strong> (Desired state
        reconciliation)
      </li>
      <li><em>Dimensionnement</em> (replica scaling)</li>
      <li><strong>Répartition de charge</strong> (Load balancing)</li>
      <li><strong>Réseau</strong> multi-host (overlays)</li>
      <li>
        <strong>Sécurisé</strong> par défaut (TLS authentification et
        encryption)
      </li>
    </ul>
    <p>
      <img
        src="file:///c:\Users\IDFORMATION\workspaces\doc-idformation\src\rapport\img\docker-swarm-uml.png"
        alt="Docker Swarm Diagram"
      />
    </p>
    <p>
      Voici en exemple un autre fichier <code>docker-compose.yml</code>, cette
      fois-ci utilise par un script python d'intégration chargé de déployer des
      stacks de services sur un swarm (Les parties commentées correspondent à la
      configuration nécessaire pour la persistance des données grâce à un
      partage nfs) :
    </p>
    <!-- cSpell:disable -->
    <pre><code class="language-yaml">
<span class="hljs-attr">version:</span> <span class="hljs-string">&#x27;3.6&#x27;</span>
<span class="hljs-comment"># -------------------------------------------------------------------- networks</span>
<span class="hljs-attr">networks:</span>
  <span class="hljs-attr">swarm:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">&#x27;swarm&#x27;</span>
    <span class="hljs-attr">external:</span> <span class="hljs-literal">true</span>
<span class="hljs-comment"># --------------------------------------------------------------------- volumes</span>
<span class="hljs-comment"># volumes:</span>
<span class="hljs-comment">#   prometheus:</span>
<span class="hljs-comment">#     driver: local</span>
<span class="hljs-comment">#     driver_opts:</span>
<span class="hljs-comment">#       type: &quot;nfs&quot;</span>
<span class="hljs-comment">#       o: &quot;addr=${MANAGER},nolock,soft,rw&quot; # nolock and soft ensure docker doesn&#x27;t freeze if the nfs connection is lost.</span>
<span class="hljs-comment">#       device: &quot;:/data/${STACK}/prometheus&quot;</span>
<span class="hljs-comment">#   grafana:</span>
<span class="hljs-comment">#     driver: local</span>
<span class="hljs-comment">#     driver_opts:</span>
<span class="hljs-comment">#       type: &quot;nfs&quot;</span>
<span class="hljs-comment">#       o: &quot;addr=${MANAGER},nolock,soft,rw&quot; # nolock and soft ensure docker doesn&#x27;t freeze if the nfs connection is lost.</span>
<span class="hljs-comment">#       device: &quot;:/data/${STACK}/grafana&quot;</span>
<span class="hljs-comment"># -------------------------------------------------------------------- services</span>
<span class="hljs-attr">services:</span>
  <span class="hljs-attr">visualizer:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">dockersamples/visualizer</span>
    <span class="hljs-attr">labels:</span> [<span class="hljs-string">prometheus-job=visualizer</span>]
    <span class="hljs-attr">deploy:</span>
      <span class="hljs-attr">replicas:</span> <span class="hljs-number">1</span>
      <span class="hljs-attr">placement:</span>
        <span class="hljs-attr">constraints:</span> [<span class="hljs-string">node.role</span> <span class="hljs-string">==</span> <span class="hljs-string">manager</span>]
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">swarm</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-number">5050</span><span class="hljs-string">:8080</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">/var/run/docker.sock:/var/run/docker.sock</span>
  <span class="hljs-attr">prometheus:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-string">:5000/${STACK}-prometheus</span>
    <span class="hljs-attr">labels:</span> [<span class="hljs-string">prometheus-job=prometheus</span>]
    <span class="hljs-attr">build:</span> <span class="hljs-string">./builds/prometheus/</span>
    <span class="hljs-attr">deploy:</span>
      <span class="hljs-attr">replicas:</span> <span class="hljs-number">1</span>
      <span class="hljs-attr">placement:</span>
        <span class="hljs-attr">constraints:</span> [<span class="hljs-string">node.role</span> <span class="hljs-string">==</span> <span class="hljs-string">manager</span>]
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">swarm</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-number">9090</span><span class="hljs-string">:9090</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">/var/run/docker.sock:/var/run/docker.sock</span>
      <span class="hljs-comment"># - type: volume</span>
      <span class="hljs-comment">#   source: prometheus</span>
      <span class="hljs-comment">#   target: /prometheus</span>
      <span class="hljs-comment">#   volume:</span>
      <span class="hljs-comment">#     nocopy: true</span>
    <span class="hljs-attr">command:</span> <span class="hljs-string">--web.enable-lifecycle</span> <span class="hljs-string">--config.file=/etc/prometheus/prometheus.yml</span> 
  <span class="hljs-attr">grafana:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-string">:5000/${STACK}-grafana</span>
    <span class="hljs-attr">labels:</span> [<span class="hljs-string">prometheus-job=grafana</span>]
    <span class="hljs-attr">build:</span> <span class="hljs-string">./builds/grafana/</span>
    <span class="hljs-attr">deploy:</span>
      <span class="hljs-attr">replicas:</span> <span class="hljs-number">1</span>
      <span class="hljs-attr">placement:</span>
        <span class="hljs-attr">constraints:</span> [<span class="hljs-string">node.role</span> <span class="hljs-string">==</span> <span class="hljs-string">manager</span>]
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">swarm</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-number">3000</span><span class="hljs-string">:3000</span>
    <span class="hljs-comment"># volumes:</span>
    <span class="hljs-comment">#   - type: volume</span>
    <span class="hljs-comment">#     source: grafana</span>
    <span class="hljs-comment">#     target: /var/lib/grafana</span>
    <span class="hljs-comment">#     volume:</span>
    <span class="hljs-comment">#       nocopy: true</span>

</code></pre>
    <!-- cSpell:enable -->
    <h4 id="763-virtualisation">7.6.3. Virtualisation<!-- OK --></h4>
    <p>
      Utiliser les hyperviseurs de type 1 (bare-metal) ou de type 2 (logiciels)
      pour la virtualisation apporte les avantages respectifs suivants :
    </p>
    <table>
      <thead>
        <tr>
          <th>Hyperviseur de type 1 (bare-metal)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            Il s'exécutent directement sur le matériel de l'hôte, ce qui permet
            d'obtenir des <strong>performances plus élevées</strong> et une
            faible latence pour les machines virtuelles.
          </td>
        </tr>
        <tr>
          <td>
            Ils ont un accès direct aux ressources matérielles de l'hôte, ce qui
            permet de les <strong>configurer de manière plus fine</strong> et
            d'obtenir des performances optimales.
          </td>
        </tr>
        <tr>
          <td></td>
        </tr>
      </tbody>
    </table>
    <table>
      <thead>
        <tr>
          <th>Hyperviseur de type 1 (logiciels)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            Ils
            <strong>s'installent sur un système d'exploitation existant</strong
            >, ce qui permet de les installer facilement sur des machines
            existantes.
          </td>
        </tr>
        <tr>
          <td>
            Ils n'ont pas besoin d'un accès direct aux ressources matérielles de
            l'hôte, ils
            <strong>utilisent donc moins de ressources</strong> système.
          </td>
        </tr>
        <tr>
          <td>
            Ils peuvent être <strong>facilement déplacés</strong> d'un système
            d'exploitation à un autre.
          </td>
        </tr>
      </tbody>
    </table>
    <h5 id="7631-oracle-vm-virtualbox">
      7.6.3.1. Oracle VM Virtualbox<!-- OK -->
    </h5>
    <p>
      Oracle VM VirtualBox (anciennement VirtualBox) est un
      <strong>logiciel libre de virtualisation</strong> publié par Oracle. C'est
      un <strong>hyperviseur de type 2</strong>, c'est-à-dire qu'il doit être
      installé sur un système d'exploitation, et non directement sur un
      ordinateur en tant que système d'exploitation.
    </p>
    <p>
      L'essentiel du travail de <strong>recherche et de développement</strong>,
      quant à la validation de l’infrastructure finale d'accueil de
      l'application a été effectué sur cette solution.
    </p>
    <p>
      Dans le cadre de ces tests, nous avons également créé un script Python
      (Cf. <a href="#7132-python">Python</a>) permettant d'automatiser le
      processus complet de création des différents environnements, en
      <strong>pilotant</strong> localement
      <strong>Oracle VM Virtualbox</strong>.
    </p>
    <h5 id="7632-vmware-esxi">7.6.3.2. VMware ESXi<!-- OK --></h5>
    <p>
      VMware ESXi est un <strong>hyperviseur de type 1</strong> développé par
      VMware pour le déploiement et la mise en service de
      <strong>machines virtuelles</strong>. En tant qu'hyperviseur de type 1,
      ESXi s'installe directement en tant que système d'exploitation.
    </p>
    <p>
      Par soucis de
      <strong>prise en compte des standards de l'industrie</strong>, de
      <strong>nombreux tests</strong> de création et de configuration de
      machines virtuelles ont été réalisés <strong>sur VMware ESXi</strong>.
      l’environnement de production définitif, dans le cadre d'un hébergement
      sur site (on premise installation), fera très vraisemblablement appel à
      cette technologie.
    </p>
    <h3 id="77-outils-de-conception-de-la-documentation">
      7.7. Outils de conception de la documentation<!-- OK -->
    </h3>
    <h4 id="771-markdown">7.7.1. Markdown<!-- OK --></h4>
    <p>
      Markdown est un <strong>langage de balisage</strong> léger facile à lire
      et à écrire. Un document balisé par Markdown peut être
      <strong>lu en l'état sans donner l’impression d'avoir été balisé</strong>
      ou formaté par des instructions particulières. Markdown est largement
      utilisé dans les blogs, la messagerie instantanée, les forums en ligne,
      les logiciels collaboratifs, les pages de documentation et les fichiers
      readme.
    </p>
    <p>
      Un document balisé par Markdown peut être
      <strong>converti en HTML</strong>, en PDF ou en bien d'autres formats.
      Ceci en fait un excellent support pour stocker le contenu d'un document,
      tandis que la paramétrisation lors de son export se chargera de le
      styliser (CSS), séparant de manière effective le fond de la forme.
    </p>
    <p>
      L'ensemble de la <strong>documentation de ce projet</strong> (dont le
      present rapport) a été créée à partir de fichiers en Markdown. Les
      fichiers sont
      <strong>nativement affiches en HTML sur GitHub et GitLab</strong>, ou bien
      transformés a l'aide d'un programme comme
      <a href="https://pandoc.org/">Pandoc</a> (Cf. Exemple d'utilisation
      <a href="#7621-docker">Docker</a>).
    </p>
    <p>Voici un exemple de la syntaxe :</p>
    <!-- cSpell:disable -->
    <pre><code class="language-md">
<span class="hljs-section"># Heading 1</span>
<span class="hljs-section">## Heading 2</span>
<span class="hljs-section">### Heading 3</span>

---

<span class="hljs-strong">**Bold**</span> <span class="hljs-strong">__Bold__</span>
<span class="hljs-emphasis">*Italic*</span> <span class="hljs-emphasis">_Italic_</span>
~~Strikethrough~~

<span class="hljs-bullet">-</span> Bullet point 1
<span class="hljs-bullet">-</span> Bullet point 2
<span class="hljs-bullet">    -</span> Sub-bullet point
<span class="hljs-bullet">1.</span> Numbered point 1
<span class="hljs-bullet">2.</span> Numbered point 2

Links: [<span class="hljs-string">Link text</span>](<span class="hljs-link">http://linkurl.com</span>)

Images: ![<span class="hljs-string">Alt text</span>](<span class="hljs-link">imageurl.jpg</span>)

| Column 1 | Column 2 | Column 3 |
|----------|----------|----------|
| Row 1, Column 1 | Row 1, Column 2 | Row 1, Column 3 |
| Row 2, Column 1 | Row 2, Column 2 | Row 2, Column 3 |

</code></pre>
    <!-- cSpell:enable -->
    <h4 id="772-javadoc">7.7.2. Javadoc<!-- OK --></h4>
    <p>
      Javadoc est un outil développé par Oracle, permettant de
      <strong>créer une documentation d'API en format HTML</strong> depuis les
      commentaires présents dans un code source en Java. C'est le standard
      industriel pour la documentation des classes Java.
    </p>
    <p>
      La plupart des <strong>IDE aident à la génération</strong> et au formatage
      des blocs de commentaires Javadoc. Ces commentaires permettent également
      aux IDE modernes d'apporter à l'utilisateur des
      <strong>informations contextuelles</strong> (definition de classe, de
      méthode, paramètres d'entrée et valeur de retour attendue).
    </p>
    <h4 id="773-plantuml">7.7.3. PlantUML<!-- OK --></h4>
    <p>
      PlantUML est un <strong>outil libre</strong> permettant de
      <strong>créer des diagrammes UML à partir de fichier texte</strong>.
    </p>
    <p>
      Du fait du format texte des fichiers utilisés par PlantUML, cet outil
      <strong>s’intègre parfaitement dans un pipeline</strong> d'intégration et
      de déploiement.
    </p>
    <p>
      Il est par exemple possible de
      <strong>générer automatiquement des UML</strong> de Modèle Physique de
      Données (MPD), afin d'avoir une représentation actualisée d'une base de
      données, ou bien de créer dynamiquement des diagrammes de classes à partir
      du code source.
    </p>
    <p>
      La majorité des diagrammes ont été réalisés grâce à cet outil. Pour un
      exemple veuillez vous référer son utilisation en maquettage. (Cf.
      <a href="#752-plantuml">PlantUML</a>)
    </p>
    <div style="page-break-after: always"></div>
    <h2 id="8-réalisations">8. Réalisations</h2>
    <ul>
      <li>Description des features réalisées</li>
      <li>Description des fonctions implémentées</li>
      <li>Description des actions réalisées sur la BDD</li>
      <li>Description des tests unitaires/EtE (EndtoEnd)</li>
    </ul>
    <h3 id="81-description-des-features-réalisées">
      8.1. Description des features réalisées<!-- OK -->
    </h3>
    <h4 id="811-authentification-et-inscription">
      8.1.1. Authentification et inscription<!-- OK -->
    </h4>
    <p>
      <strong>Description :</strong> Cette feature permettra aux utilisateurs de
      s'authentifier et de s'inscrire sur le site de manière efficace. Ils
      pourront créer un compte, se connecter avec un nom d'utilisateur et un mot
      de passe, et réinitialiser leur mot de passe en cas d'oubli.
    </p>
    <p><strong>Stories associées :</strong></p>
    <ul>
      <li>Story 1 : Ajout de la fonctionnalité d'inscription</li>
      <li>Story 2 : Ajout de la fonctionnalité de connexion</li>
      <li>
        Story 3 : Ajout de la fonctionnalité de réinitialisation de mot de passe
      </li>
      <li>Story 4 : Ajout de la fonctionnalité de déconnexion</li>
      <li>
        Story 5 : Test de la fonctionnalité d'authentification et d'inscription
      </li>
    </ul>
    <p><strong>État :</strong> En cours</p>
    <h4 id="812-gestion-des-catégories">
      8.1.2. Gestion des catégories<!-- OK -->
    </h4>
    <p>
      <strong>Description :</strong> Cette feature permettra aux utilisateurs de
      gérer les catégories de produits de manière efficace. Ils pourront créer,
      éditer et supprimer des catégories de produits, ainsi que leur rajouter
      des produits spécifiques.
    </p>
    <p><strong>Stories associées :</strong></p>
    <ul>
      <li>Story 1 : Ajout de la fonctionnalité de création de catégories</li>
      <li>Story 2 : Ajout de la fonctionnalité d'édition des catégories</li>
      <li>
        Story 3 : Ajout de la fonctionnalité de suppression des catégories
      </li>
      <li>
        Story 4 : Test de la fonctionnalité de gestion des catégories de
        produits
      </li>
    </ul>
    <p><strong>État :</strong> En cours</p>
    <h4 id="813-gestion-des-produits">
      8.1.3. Gestion des produits<!-- OK -->
    </h4>
    <p>
      <strong>Description :</strong> Cette feature permettra aux utilisateurs de
      gérer les produits de manière efficace. Ils pourront créer, éditer et
      supprimer des produits, ainsi que les assigner à une catégorie.
    </p>
    <p><strong>Stories associées :</strong></p>
    <ul>
      <li>Story 1 : Ajout de la fonctionnalité de création de produits</li>
      <li>Story 2 : Ajout de la fonctionnalité d'édition des produits</li>
      <li>Story 3 : Ajout de la fonctionnalité de suppression des produits</li>
      <li>
        Story 4 : Ajout de la fonctionnalité de recherche d’un produit ou d’une
        liste de produits
      </li>
      <li>Story 5 : Test de la fonctionnalité de gestion des produits</li>
    </ul>
    <p><strong>État :</strong> En cours</p>
    <h3 id="82-description-des-fonctions-implémentées">
      8.2. Description des fonctions implémentées
    </h3>
    <h4 id="821-supprimer-une-catégorie">
      8.2.1. Supprimer une catégorie<!-- CHECK -->
    </h4>
    <p>
      La méthode <code>doGet()</code> du servlet
      <code>CategoryDelete.java</code> récupère l'identifiant de la catégorie à
      supprimer à partir de la requête HTTP (à travers le paramètre
      &quot;categoryId&quot;) et utilise la méthode <code>delete()</code> de
      l'objet <code>CategoryDAO</code> pour
      <strong>supprimer cette catégorie</strong> de la base de données.
    </p>
    <h4 id="822-modifier-un-produit">8.2.2. Modifier un produit<!-- OK --></h4>
    <p>
      La méthode <code>doPost()</code> du servlet
      <code>ProductEdit.java</code> commence par récupérer l’utilisateur
      connecté à partir de la session.
    </p>
    <p>
      Elle utilise les paramètres de la requête pour récupérer l’Id du produit
      et de la catégorie associée, les méthode <code>getCategoryById()</code> de
      l'objet <code>CategoryDAO</code> pour récupérer la catégorie, la méthode
      <code>getProductById()</code> de l’objet <code>ProductDAO</code> pour
      récupérer le produit de la base de données.
    </p>
    <p>
      Puis la méthode <strong>modifie les données en base</strong> avec les
      informations correspondantes.
    </p>
    <h4 id="823-authentification">8.2.3. Authentification<!-- OK --></h4>
    <p>
      La méthode <code>doPost()</code> du servlet
      <code>Login.java</code> utilise l'objet <code>User</code> pour stocker les
      données d'un utilisateur et le <code>UserDAO</code> pour accéder aux
      données utilisateurs stockées dans la base de données.
    </p>
    <p>
      La méthode <strong>“sha512Hex”</strong> de la bibliothèque Apache Commons
      Codec est utilisée pour hasher le mot de passe de l’utilisateur avant de
      l’envoyer en base de données.
    </p>
    <h3 id="83-description-des-actions-réalisées-sur-la-bdd">
      8.3. Description des actions réalisées sur la BDD<!-- OK -->
    </h3>
    <h4 id="831-create">8.3.1. Create<!-- OK --></h4>
    <!-- cSpell:disable -->
    <pre><code class="language-java">
<span class="hljs-comment">/**
   * Add category.
   * 
   * <span class="hljs-doctag">@param</span> category
   * <span class="hljs-doctag">@return</span> Number of affected rows
   * <span class="hljs-doctag">@throws</span> SQLException
   */</span>
  <span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">add</span><span class="hljs-params">(Category category)</span>
      <span class="hljs-keyword">throws</span> SQLException {
    <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;INSERT INTO `category`&quot;</span>
        + <span class="hljs-string">&quot; (`user_id`,`name`,`description`)&quot;</span>
        + <span class="hljs-string">&quot; VALUES (?,?,?)&quot;</span>
        + <span class="hljs-string">&quot; RETURNING id;&quot;</span>;
    <span class="hljs-type">PreparedStatement</span> <span class="hljs-variable">ps</span> <span class="hljs-operator">=</span> conn.prepareStatement(sql);
    ps.setInt(<span class="hljs-number">1</span>, category.getUser_id());
    ps.setString(<span class="hljs-number">2</span>, category.getName());
    ps.setString(<span class="hljs-number">3</span>, category.getDescription());
    <span class="hljs-type">Integer</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> ps.executeUpdate();

    <span class="hljs-keyword">return</span> result;
  }

</code></pre>
    <!-- cSpell:enable -->
    <p>
      Ce code définit une méthode appelée &quot;add&quot; qui prend en entrée un
      objet de type Catégorie et
      <strong>ajoute une nouvelle catégorie</strong> dans la base de données.
    </p>
    <p>
      La méthode utilise une requête SQL pour insérer les informations de la
      catégorie dans la table &quot;category&quot; de la base de données en
      utilisant les informations de l'objet catégorie en entrée. Elle utilise la
      fonction executeUpdate() pour executer cette insertion. La méthode
      retourne le nombre de lignes affectées par l'insertion. La requête SQL
      utilise RETURNING id; pour retourner l'id de la nouvelle catégorie créée.
    </p>
    <h4 id="832-read">8.3.2. Read<!-- OK --></h4>
    <!-- cSpell:disable -->
    <pre><code class="language-java">
  <span class="hljs-comment">/**
   * Given user credentials, returns the corresponding User object, or null.
   * 
   * <span class="hljs-doctag">@param</span> login    String containing the user login (email)
   * <span class="hljs-doctag">@param</span> password String containing the user password
   * <span class="hljs-doctag">@return</span> the corresponding User object, or null
   */</span>
  <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserByCredentials</span><span class="hljs-params">(String login, String password)</span>
      <span class="hljs-keyword">throws</span> SQLException {
    <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;SELECT `user`.*,`role`.`name` AS `role` &quot;</span>
        + <span class="hljs-string">&quot;FROM `user_role` &quot;</span>
        + <span class="hljs-string">&quot;INNER JOIN `role` ON `user_role`.`role_id` = `role`.`id` &quot;</span> <span class="hljs-comment">// Join `role`</span>
        + <span class="hljs-string">&quot;LEFT JOIN `user` ON `user`.`id` = `user_role`.`user_id` &quot;</span> <span class="hljs-comment">// Join `user`</span>
        + <span class="hljs-string">&quot;WHERE `user`.`email` = ? AND `user`.`password` = ?&quot;</span>;
    <span class="hljs-type">PreparedStatement</span> <span class="hljs-variable">ps</span> <span class="hljs-operator">=</span> conn.prepareStatement(sql);
    ps.setString(<span class="hljs-number">1</span>, login); <span class="hljs-comment">// login = email</span>
    ps.setString(<span class="hljs-number">2</span>, DigestUtils.sha512Hex(password)); <span class="hljs-comment">// Hash password</span>
    <span class="hljs-type">User</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();
    List&lt;String&gt; roleList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    <span class="hljs-type">ResultSet</span> <span class="hljs-variable">rs</span> <span class="hljs-operator">=</span> ps.executeQuery();
    <span class="hljs-type">boolean</span> <span class="hljs-variable">check</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">while</span> (rs.next()) {
      <span class="hljs-keyword">if</span> (!check) {
        result.setId(rs.getInt(<span class="hljs-string">&quot;id&quot;</span>));
        result.setEmail(rs.getString(<span class="hljs-string">&quot;email&quot;</span>));
        result.setPassword(rs.getString(<span class="hljs-string">&quot;password&quot;</span>));
        result.setTitle(rs.getString(<span class="hljs-string">&quot;title&quot;</span>));
        result.setFirstName(rs.getString(<span class="hljs-string">&quot;firstName&quot;</span>));
        result.setLastName(rs.getString(<span class="hljs-string">&quot;lastName&quot;</span>));
        result.setCompany(rs.getString(<span class="hljs-string">&quot;company&quot;</span>));
        result.setAddress(rs.getString(<span class="hljs-string">&quot;address&quot;</span>));
        result.setCity(rs.getString(<span class="hljs-string">&quot;city&quot;</span>));
        result.setPostalCode(rs.getString(<span class="hljs-string">&quot;postalCode&quot;</span>));
        result.setCountry(rs.getString(<span class="hljs-string">&quot;country&quot;</span>));
        result.setPhone(rs.getString(<span class="hljs-string">&quot;phone&quot;</span>));
        result.setValid(rs.getBoolean(<span class="hljs-string">&quot;valid&quot;</span>));
        result.setValidationUid(rs.getString(<span class="hljs-string">&quot;validationUid&quot;</span>));
        result.setCreateTime(rs.getString(<span class="hljs-string">&quot;createTime&quot;</span>));
        result.setUpdateTime(rs.getString(<span class="hljs-string">&quot;updateTime&quot;</span>));
      }
      check = <span class="hljs-literal">true</span>;
      roleList.add(rs.getString(<span class="hljs-string">&quot;role&quot;</span>));
    }
    <span class="hljs-keyword">if</span> (check) {
      result.setRoleList(roleList);
      <span class="hljs-keyword">return</span> result;
    } <span class="hljs-keyword">else</span>
      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  }

</code></pre>
    <!-- cSpell:enable -->
    <p>
      Ce code définit une méthode appelée &quot;getUserByCredentials&quot; qui
      prend en entrée les identifiants d'un utilisateur (login et mot de passe)
      et
      <strong>retourne l'objet utilisateur correspondant, ou null</strong> s'il
      n'est pas trouvé.
    </p>
    <p>
      La méthode utilise une requête SQL pour sélectionner les informations de
      l'utilisateur à partir de la base de données, en utilisant les
      identifiants fournis en entrée pour filtrer les résultats. Elle utilise
      également une jointure pour récupérer les rôles de l'utilisateur. Si un
      utilisateur est trouvé, l'objet utilisateur est créé et rempli avec les
      informations récupérées à partir de la base de données, sinon la méthode
      retourne null.
    </p>
    <h4 id="833-update">8.3.3. Update<!-- OK --></h4>
    <!-- cSpell:disable -->
    <pre><code class="language-java">
  <span class="hljs-comment">/** Update product.
   *
   * <span class="hljs-doctag">@param</span> product a Product type object
   * <span class="hljs-doctag">@return</span> Number of affected rows
   * <span class="hljs-doctag">@throws</span> SQLException
   */</span>
  <span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">update</span><span class="hljs-params">(Product product)</span>
      <span class="hljs-keyword">throws</span> SQLException {
    <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;UPDATE `product` SET &quot;</span>
        + <span class="hljs-string">&quot;`user_id`=?,&quot;</span>
        + <span class="hljs-string">&quot;`category_id`=?,&quot;</span>
        + <span class="hljs-string">&quot;`name`=?,&quot;</span>
        + <span class="hljs-string">&quot;`description`=?,&quot;</span>
        + <span class="hljs-string">&quot;`reference`=?,&quot;</span>
        + <span class="hljs-string">&quot;`price`=?,&quot;</span>
        + <span class="hljs-string">&quot;`quantity`=?,&quot;</span>
        + <span class="hljs-string">&quot;`updateTime`=?&quot;</span>
        + <span class="hljs-string">&quot;WHERE `product`.`id` = ?&quot;</span>;
    <span class="hljs-type">String</span> <span class="hljs-variable">dateTime</span> <span class="hljs-operator">=</span> LocalDateTime.now().format(dateTimeFormatter);
    <span class="hljs-type">PreparedStatement</span> <span class="hljs-variable">ps</span> <span class="hljs-operator">=</span> conn.prepareStatement(sql);
    ps.setInt(<span class="hljs-number">1</span>, product.getUser_id());
    ps.setInt(<span class="hljs-number">2</span>, product.getCategory_id());
    ps.setString(<span class="hljs-number">3</span>, product.getName());
    ps.setString(<span class="hljs-number">4</span>, product.getDescription());
    ps.setString(<span class="hljs-number">5</span>, product.getReference());
    ps.setFloat(<span class="hljs-number">6</span>, product.getPrice());
    ps.setInt(<span class="hljs-number">7</span>, product.getQuantity());
    ps.setString(<span class="hljs-number">8</span>, dateTime);
    ps.setInt(<span class="hljs-number">9</span>, product.getId());
    <span class="hljs-type">Integer</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> ps.executeUpdate();
    <span class="hljs-keyword">return</span> result;
  }

</code></pre>
    <!-- cSpell:enable -->
    <p>
      Ce code définit une méthode appelée &quot;update&quot; qui prend en entrée
      un objet de type Produit et
      <strong>met à jour les informations de ce produit</strong> dans la base de
      données.
    </p>
    <p>
      La méthode utilise une requête SQL pour mettre à jour les informations du
      produit dans la table &quot;product&quot; de la base de données en
      utilisant les informations de l'objet produit en entrée. La méthode
      retourne le nombre de lignes affectées par la mise à jour.
    </p>
    <h4 id="834-delete">8.3.4. Delete<!-- OK --></h4>
    <!-- cSpell:disable -->
    <pre><code class="language-java">
  <span class="hljs-comment">/**
   * Delete product by id.
   * 
   * <span class="hljs-doctag">@param</span> id
   * <span class="hljs-doctag">@return</span> Number of affected rows
   * <span class="hljs-doctag">@throws</span> SQLException
   */</span>
  <span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">delete</span><span class="hljs-params">(Integer id)</span>
      <span class="hljs-keyword">throws</span> SQLException {
    <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;DELETE FROM `product` WHERE `product`.`id`=?&quot;</span>;
    <span class="hljs-type">PreparedStatement</span> <span class="hljs-variable">ps</span> <span class="hljs-operator">=</span> conn.prepareStatement(sql);
    ps.setInt(<span class="hljs-number">1</span>, id);
    <span class="hljs-type">Integer</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> ps.executeUpdate();
    <span class="hljs-keyword">return</span> result;
  }

</code></pre>
    <!-- cSpell:enable -->
    <p>
      Ce code définit une méthode appelée &quot;delete&quot; qui prend en entrée
      un identifiant (id) et
      <strong>supprime le produit correspondant</strong> dans la base de
      données.
    </p>
    <p>
      La méthode utilise une requête SQL pour supprimer le produit de la table
      &quot;product&quot; de la base de données en utilisant l'identifiant
      fourni en entrée pour filtrer les résultats. Elle utilise la fonction
      executeUpdate() pour executer cette suppression. La méthode retourne le
      nombre de lignes affectées par la suppression.
    </p>
    <h3 id="84-description-des-tests-unitaireseteendtoend">
      8.4. Description des tests unitaires/EtE(EndtoEnd)<!-- CHECK -->
    </h3>
    <p>Static Application Security Testing</p>
    <p>
      Ce code est un ensemble de tests unitaires pour la classe Product de
      l'application, il utilise la librairie JUnit pour vérifier que les
      différentes fonctions et propriétés de la classe Product fonctionnent
      correctement. Il utilise des assertions pour vérifier que les valeurs
      attendues sont retournées lorsque les méthodes de la classe Product sont
      appelées, pour s'assurer que la classe fonctionne comme prévu.
    </p>
    <h2 id="9-présentation-du-jeu-dessai-le-plus-représentatif">
      9. Présentation du jeu d'essai le plus représentatif
    </h2>
    <pre><code class="language-md"><span class="hljs-bullet">-</span> Description des scénarios désirées sur la fonctionnalité et vérification de la conformité du résultat
<span class="hljs-bullet">-</span> Le jeu d&#x27;essai permet de contrôler la réaction du code pour tous les types de données reçus par les méthodes et fonctions, qu&#x27;ils soient valides ou non. Pour la fonctionnalité la plus complète de votre application, expliquez &quot;Données en entrée -&gt; données attendues -&gt; Données obtenues&quot;
</code></pre>
    <div style="page-break-after: always"></div>
    <h2 id="10-veille-sur-les-vulnérabilités-de-sécurité">
      10. Veille sur les vulnérabilités de sécurité
    </h2>
    <pre><code class="language-md"><span class="hljs-bullet">-</span> Description de la veille, effectuée par le candidat pendant le projet, sur les vulnérabilités de sécurité
<span class="hljs-bullet">-</span> Prise en compte des conventions liées à la sécurité imposée par la structure d&#x27;accueil du stagiaire
<span class="hljs-bullet">-</span> Mise à jour éventuelle des librairies/frameworks
<span class="hljs-bullet">-</span> Auto-formation aux failles de sécurité déclarées sur telle ou telle technologie (lecture des documentations officielles, prise en compte des mesures préventives, mise en place des verrous recommandés)
</code></pre>
    <h3 id="securiser-http-ssl">Securiser HTTP (SSL)</h3>
    <h3 id="sql-injection">SQL Injection</h3>
    <p>
      [<a href="https://www.journaldev.com/34028/sql-injection-in-java"
        >https://www.journaldev.com/34028/sql-injection-in-java</a
      >]
    </p>
    <p>
      [<a href="https://sqlmap.org/">https://sqlmap.org/</a>] [<a
        href="https://github.com/sqlmapproject/sqlmap"
        >https://github.com/sqlmapproject/sqlmap</a
      >]
    </p>
    <p>What is SQL Injection ?</p>
    <p>
      SQL Injection is one of the top 10 web application vulnerabilities. In
      simple words, SQL Injection means injecting/inserting SQL code in a query
      via user-inputted data. It can occur in any applications using relational
      databases like Oracle, MySQL, PostgreSQL and SQL Server.
    </p>
    <p>
      To perform SQL Injection, a malicious user first tries to find a place in
      the application where he can embed SQL code along with data. It can be the
      login page of any web application or any other place. So when data
      embedded with SQL code is received by the application, SQL code will be
      executed along with the application query.
    </p>
    <p>Impact of SQL Injection</p>
    <ul>
      <li>
        A malicious user can obtain unauthorized access to your application and
        steal data.
      </li>
      <li>
        They can alter, delete data in your database and take your application
        down.
      </li>
      <li>
        A hacker can also get control of the system on which database server is
        running by executing database specific system commands.
      </li>
    </ul>
    <p>Example ...</p>
    <p>Types of SQL Injection</p>
    <ol>
      <li>Boolean Based SQL Injection</li>
    </ol>
    <p>
      The above example is a case of Boolean Based SQL Injection. It uses a
      boolean expression that evaluates to true or false. It can be used to get
      additional information from the database. For example;
    </p>
    <p>Input Data: 2 or 1=1</p>
    <p>
      SQL Query: select first_name, last_name from tbl_employee where empId=2 or
      1=1
    </p>
    <ol start="2">
      <li>Union Based SQL Injection</li>
    </ol>
    <p>
      SQL union operator combines data from two different queries with the same
      number of columns. In this case, the union operator is used to get data
      from other tables.
    </p>
    <p>Input Data: 2 union select username, password from tbluser</p>
    <p>
      Query: Select first_name, last_name from tbl_employee where empId=2 union
      select username, password from tbluser
    </p>
    <p>
      By using Union Based SQL Injection, an attacker can obtain user
      credentials. 3. Time-Based SQL Injection
    </p>
    <p>
      In Time Based SQL Injection, special functions are injected in the query
      which can pause execution for a specified amount of time. This attack
      slows down the database server. It can bring down your application by
      affecting the database server performance. For example, In MySQL:
    </p>
    <p>Input Data: 2 + SLEEP(5)</p>
    <p>
      Query: select emp_id, first_name, last_name from tbl_employee where
      empId=2 + SLEEP(5)
    </p>
    <p>
      In the above example, query execution will pause for 5 seconds. 4. Error
      Based SQL Injection
    </p>
    <p>
      In this variation, the attacker tries to get information like an error
      code and a message from the database. The attacker injects SQL which are
      syntactically incorrect so database server will return error code and
      messages which can be used to get database and system information.
    </p>
    <p>Best Practices to avoid SQL Injection</p>
    <ol>
      <li>Validate data before using them in the query.</li>
      <li>
        Do not use common words as your table name or column name. For example,
        many applications use tbluser or tblaccount to store user data. Email,
        firstname, lastname are common column names.
      </li>
      <li>
        Do not directly concatenate data ( received as user input) to create SQL
        queries.
      </li>
      <li>
        Use frameworks like Hibernate and Spring Data JPA for the data layer of
        an application.
      </li>
      <li>
        Use positional parameters in the query. If you are using plain JDBC,
        then use PreparedStatement to execute the query.
      </li>
      <li>
        Limit the application’s access to the database via permissions &amp;
        grants.
      </li>
      <li>Do not return sensitive error code and message to the end-user.</li>
      <li>
        Do proper code review so that no developer accidentally write unsafe SQL
        code.
      </li>
      <li>
        Use tools like SQLMap to find and fix SQL Injection vulnerabilities in
        your application.
      </li>
    </ol>
    <div style="page-break-after: always"></div>
    <h2
      id="11-description-dune-situation-de-travail-ayant-nécessité-une-recherche"
    >
      11. Description d'une situation de travail ayant nécessité une recherche<!-- OK Lylou -->
    </h2>
    <p>
      <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@keyframes"
        >https://developer.mozilla.org/en-US/docs/Web/CSS/@keyframes</a
      >
    </p>
    <pre><code class="language-md">@keyframes
The @keyframes CSS at-rule controls the intermediate steps in a CSS animation sequence by defining styles for keyframes (or waypoints) along the animation sequence. This gives more control over the intermediate steps of the animation sequence than transitions. 


Values
<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">custom-ident</span>&gt;</span></span>
A name identifying the keyframe list. This must match the identifier production in CSS syntax.
from
A starting offset of 0%.
to
An ending offset of 100%.
<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">percentage</span>&gt;</span></span>
A percentage of the time through the animation sequence at which the specified keyframe should occur.
</code></pre>
    <p>
      Les @keyframes définissent les étapes intermédiaires d’une animation, ce
      qui donne plus de contrôle sur la séquence de l’animation que sur la
      transition. Les valeurs à indiquer sont le nom de la @keyframe, le début
      qui correspond à 0% et la fin de l’animation qui correspond à 100%.
    </p>
    <p>
      Il est possible d’indiquer des pourcentages (durée de la séquence)
      supplémentaires qui définissent l’endroit de l’animation à laquel elle
      doit se produire.
    </p>

    <script
      async
      src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"
    ></script>
  </body>
</html>
